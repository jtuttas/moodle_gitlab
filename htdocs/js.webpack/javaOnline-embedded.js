!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(11),n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),e.exports=n(10)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i,r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),function(e){e[e.identifier=0]="identifier",e[e.integerConstant=1]="integerConstant",e[e.floatingPointConstant=2]="floatingPointConstant",e[e.booleanConstant=3]="booleanConstant",e[e.stringConstant=4]="stringConstant",e[e.charConstant=5]="charConstant",e[e.true=6]="true",e[e.false=7]="false",e[e.keywordPrint=8]="keywordPrint",e[e.keywordPrintln=9]="keywordPrintln",e[e.keywordClass=10]="keywordClass",e[e.keywordThis=11]="keywordThis",e[e.keywordSuper=12]="keywordSuper",e[e.keywordNew=13]="keywordNew",e[e.keywordInterface=14]="keywordInterface",e[e.keywordEnum=15]="keywordEnum",e[e.keywordVoid=16]="keywordVoid",e[e.keywordAbstract=17]="keywordAbstract",e[e.keywordPublic=18]="keywordPublic",e[e.keywordProtected=19]="keywordProtected",e[e.keywordPrivate=20]="keywordPrivate",e[e.keywordTransient=21]="keywordTransient",e[e.keywordStatic=22]="keywordStatic",e[e.keywordExtends=23]="keywordExtends",e[e.keywordImplements=24]="keywordImplements",e[e.keywordWhile=25]="keywordWhile",e[e.keywordDo=26]="keywordDo",e[e.keywordFor=27]="keywordFor",e[e.keywordSwitch=28]="keywordSwitch",e[e.keywordCase=29]="keywordCase",e[e.keywordDefault=30]="keywordDefault",e[e.keywordIf=31]="keywordIf",e[e.keywordThen=32]="keywordThen",e[e.keywordElse=33]="keywordElse",e[e.keywordReturn=34]="keywordReturn",e[e.keywordBreak=35]="keywordBreak",e[e.keywordContinue=36]="keywordContinue",e[e.keywordNull=37]="keywordNull",e[e.keywordFinal=38]="keywordFinal",e[e.keywordInstanceof=39]="keywordInstanceof",e[e.leftBracket=40]="leftBracket",e[e.rightBracket=41]="rightBracket",e[e.leftSquareBracket=42]="leftSquareBracket",e[e.rightSquareBracket=43]="rightSquareBracket",e[e.leftCurlyBracket=44]="leftCurlyBracket",e[e.rightCurlyBracket=45]="rightCurlyBracket",e[e.leftRightSquareBracket=46]="leftRightSquareBracket",e[e.doubleMinus=47]="doubleMinus",e[e.doublePlus=48]="doublePlus",e[e.dot=49]="dot",e[e.modulo=50]="modulo",e[e.minus=51]="minus",e[e.plus=52]="plus",e[e.multiplication=53]="multiplication",e[e.division=54]="division",e[e.singleQuote=55]="singleQuote",e[e.doubleQuote=56]="doubleQuote",e[e.lower=57]="lower",e[e.greater=58]="greater",e[e.lowerOrEqual=59]="lowerOrEqual",e[e.greaterOrEqual=60]="greaterOrEqual",e[e.equal=61]="equal",e[e.notEqual=62]="notEqual",e[e.assignment=63]="assignment",e[e.plusAssignment=64]="plusAssignment",e[e.minusAssignment=65]="minusAssignment",e[e.multiplicationAssignment=66]="multiplicationAssignment",e[e.divisionAssignment=67]="divisionAssignment",e[e.moduloAssignment=68]="moduloAssignment",e[e.and=69]="and",e[e.or=70]="or",e[e.ampersand=71]="ampersand",e[e.ANDAssigment=72]="ANDAssigment",e[e.XORAssigment=73]="XORAssigment",e[e.ORAssigment=74]="ORAssigment",e[e.shiftLeftAssigment=75]="shiftLeftAssigment",e[e.shiftRightAssigment=76]="shiftRightAssigment",e[e.shiftRightUnsignedAssigment=77]="shiftRightUnsignedAssigment",e[e.OR=78]="OR",e[e.XOR=79]="XOR",e[e.tilde=80]="tilde",e[e.shiftRightUnsigned=81]="shiftRightUnsigned",e[e.shiftRight=82]="shiftRight",e[e.shiftLeft=83]="shiftLeft",e[e.ternaryOperator=84]="ternaryOperator",e[e.colon=85]="colon",e[e.ellipsis=86]="ellipsis",e[e.not=87]="not",e[e.semicolon=88]="semicolon",e[e.comma=89]="comma",e[e.backslash=90]="backslash",e[e.at=91]="at",e[e.space=92]="space",e[e.tab=93]="tab",e[e.newline=94]="newline",e[e.linefeed=95]="linefeed",e[e.identifierChar=96]="identifierChar",e[e.comment=97]="comment",e[e.negation=98]="negation",e[e.referenceElement=99]="referenceElement",e[e.endofSourcecode=100]="endofSourcecode",e[e.binaryOp=101]="binaryOp",e[e.unaryOp=102]="unaryOp",e[e.localVariableDeclaration=103]="localVariableDeclaration",e[e.heapVariableDeclaration=104]="heapVariableDeclaration",e[e.pushLocalVariableToStack=105]="pushLocalVariableToStack",e[e.popAndStoreIntoVariable=106]="popAndStoreIntoVariable",e[e.pushFromHeapToStack=107]="pushFromHeapToStack",e[e.pushAttribute=108]="pushAttribute",e[e.pushArrayLength=109]="pushArrayLength",e[e.pushConstant=110]="pushConstant",e[e.pushStaticClassObject=111]="pushStaticClassObject",e[e.pushStaticAttribute=112]="pushStaticAttribute",e[e.pushStaticAttributeIntrinsic=113]="pushStaticAttributeIntrinsic",e[e.checkCast=114]="checkCast",e[e.castValue=115]="castValue",e[e.selectArrayElement=116]="selectArrayElement",e[e.callMethod=117]="callMethod",e[e.callMainMethod=118]="callMainMethod",e[e.processPostConstructorCallbacks=119]="processPostConstructorCallbacks",e[e.callInputMethod=120]="callInputMethod",e[e.makeEllipsisArray=121]="makeEllipsisArray",e[e.decreaseStackpointer=122]="decreaseStackpointer",e[e.initStackframe=123]="initStackframe",e[e.closeStackframe=124]="closeStackframe",e[e.increaseSpaceForLocalVariables=125]="increaseSpaceForLocalVariables",e[e.return=126]="return",e[e.newObject=127]="newObject",e[e.jumpIfFalse=128]="jumpIfFalse",e[e.jumpIfTrue=129]="jumpIfTrue",e[e.jumpIfFalseAndLeaveOnStack=130]="jumpIfFalseAndLeaveOnStack",e[e.jumpIfTrueAndLeaveOnStack=131]="jumpIfTrueAndLeaveOnStack",e[e.jumpAlways=132]="jumpAlways",e[e.noOp=133]="noOp",e[e.incrementDecrementBefore=134]="incrementDecrementBefore",e[e.incrementDecrementAfter=135]="incrementDecrementAfter",e[e.programEnd=136]="programEnd",e[e.beginArray=137]="beginArray",e[e.addToArray=138]="addToArray",e[e.pushEmptyArray=139]="pushEmptyArray",e[e.forLoopOverCollection=140]="forLoopOverCollection",e[e.type=141]="type",e[e.typeParameter=142]="typeParameter",e[e.attributeDeclaration=143]="attributeDeclaration",e[e.methodDeclaration=144]="methodDeclaration",e[e.parameterDeclaration=145]="parameterDeclaration",e[e.superConstructorCall=146]="superConstructorCall",e[e.constructorCall=147]="constructorCall",e[e.newArray=148]="newArray",e[e.arrayInitialization=149]="arrayInitialization",e[e.print=150]="print",e[e.println=151]="println",e[e.pushEnumValue=152]="pushEnumValue",e[e.initializeEnumValue=153]="initializeEnumValue",e[e.scopeNode=154]="scopeNode",e[e.returnIfDestroyed=155]="returnIfDestroyed",e[e.extendedForLoopInit=156]="extendedForLoopInit",e[e.extendedForLoopCheckCounterAndGetElement=157]="extendedForLoopCheckCounterAndGetElement"}(r||(r={}));var a=(o(i={},r.identifier,"ein Bezeichner"),o(i,r.integerConstant,"eine Integer-Konstante"),o(i,r.floatingPointConstant,"eine Flie√ükomma-Konstante"),o(i,r.booleanConstant,"eine boolesche Konstante"),o(i,r.stringConstant,"eine Zeichenketten-Konstante"),o(i,r.charConstant,"eine char-Konstante"),o(i,r.true,"true"),o(i,r.false,"false"),o(i,r.keywordClass,"class"),o(i,r.keywordThis,"this"),o(i,r.keywordSuper,"super"),o(i,r.keywordNew,"new"),o(i,r.keywordInterface,"interface"),o(i,r.keywordEnum,"enum"),o(i,r.keywordVoid,"void"),o(i,r.keywordAbstract,"abstract"),o(i,r.keywordPublic,"public"),o(i,r.keywordProtected,"protected"),o(i,r.keywordPrivate,"private"),o(i,r.keywordTransient,"transient"),o(i,r.keywordStatic,"static"),o(i,r.keywordExtends,"extends"),o(i,r.keywordImplements,"implements"),o(i,r.keywordWhile,"while"),o(i,r.keywordDo,"do"),o(i,r.keywordFor,"for"),o(i,r.keywordSwitch,"switch"),o(i,r.keywordCase,"case"),o(i,r.keywordDefault,"default"),o(i,r.keywordIf,"if"),o(i,r.keywordThen,"then"),o(i,r.keywordElse,"else"),o(i,r.keywordReturn,"return"),o(i,r.keywordBreak,"break"),o(i,r.keywordContinue,"continue"),o(i,r.keywordNull,"null"),o(i,r.keywordFinal,"final"),o(i,r.keywordInstanceof,"instanceof"),o(i,r.keywordPrint,"print"),o(i,r.keywordPrintln,"println"),o(i,r.leftBracket,"("),o(i,r.rightBracket,")"),o(i,r.leftSquareBracket,"["),o(i,r.rightSquareBracket,"]"),o(i,r.leftCurlyBracket,"{"),o(i,r.rightCurlyBracket,"}"),o(i,r.leftRightSquareBracket,"[]"),o(i,r.dot,"."),o(i,r.minus,"-"),o(i,r.modulo,"%"),o(i,r.plus,"+"),o(i,r.multiplication,"*"),o(i,r.division,"/"),o(i,r.singleQuote,"'"),o(i,r.doubleQuote,'"'),o(i,r.doubleMinus,"--"),o(i,r.doublePlus,"++"),o(i,r.lower,"<"),o(i,r.greater,">"),o(i,r.lowerOrEqual,"<="),o(i,r.greaterOrEqual,">="),o(i,r.equal,"=="),o(i,r.notEqual,"!="),o(i,r.assignment,"="),o(i,r.plusAssignment,"+="),o(i,r.minusAssignment,"-="),o(i,r.multiplicationAssignment,"*="),o(i,r.divisionAssignment,"/="),o(i,r.moduloAssignment,"%="),o(i,r.ampersand,"&"),o(i,r.and,"&&"),o(i,r.or,"||"),o(i,r.not,"!"),o(i,r.ANDAssigment,"&="),o(i,r.XORAssigment,"^="),o(i,r.ORAssigment,"|="),o(i,r.shiftLeftAssigment,"<<="),o(i,r.shiftRightAssigment,">>="),o(i,r.shiftRightUnsignedAssigment,">>>="),o(i,r.OR,"|"),o(i,r.XOR,"^"),o(i,r.tilde,"~"),o(i,r.shiftLeft,"<<"),o(i,r.shiftRight,">>"),o(i,r.shiftRightUnsigned,">>>"),o(i,r.ternaryOperator,"?"),o(i,r.semicolon,";"),o(i,r.colon,":"),o(i,r.ellipsis,"..."),o(i,r.comma,","),o(i,r.backslash,"\\"),o(i,r.at,"@"),o(i,r.space,"ein Leerzeichen"),o(i,r.tab,"ein Tabulatorzeichen"),o(i,r.newline,"ein Zeilenumbruch"),o(i,r.identifierChar,"eines der Zeichen a..z, A..Z, _"),o(i,r.comment,"ein Kommentar"),o(i,r.endofSourcecode,"das Ende des Programmes"),i),s={"(":r.leftBracket,")":r.rightBracket,"[":r.leftSquareBracket,"]":r.rightSquareBracket,"{":r.leftCurlyBracket,"}":r.rightCurlyBracket,".":r.dot,",":r.comma,"-":r.minus,"%":r.modulo,"+":r.plus,"*":r.multiplication,"/":r.division,"\\":r.backslash,"@":r.at,"'":r.singleQuote,'"':r.doubleQuote,"<":r.lower,">":r.greater,"=":r.assignment,"&":r.and,"|":r.or,"!":r.not,"?":r.ternaryOperator,"^":r.XOR,"~":r.tilde,";":r.semicolon,":":r.colon,"...":r.ellipsis," ":r.space,"\t":r.tab,"\n":r.newline,"\r":r.linefeed},l={class:r.keywordClass,this:r.keywordThis,super:r.keywordSuper,new:r.keywordNew,interface:r.keywordInterface,enum:r.keywordEnum,void:r.keywordVoid,abstract:r.keywordAbstract,public:r.keywordPublic,protected:r.keywordProtected,private:r.keywordPrivate,transient:r.keywordTransient,static:r.keywordStatic,extends:r.keywordExtends,implements:r.keywordImplements,while:r.keywordWhile,do:r.keywordDo,for:r.keywordFor,switch:r.keywordSwitch,case:r.keywordCase,default:r.keywordDefault,if:r.keywordIf,then:r.keywordThen,else:r.keywordElse,return:r.keywordReturn,break:r.keywordBreak,continue:r.keywordContinue,null:r.keywordNull,final:r.keywordFinal,instanceof:r.keywordInstanceof,true:r.true,false:r.false,print:r.keywordPrint,println:r.keywordPrintln},u={n:"\n",r:"\r",t:"\t",'"':'"',"'":"'","\\":"\\"};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var b=function(){function e(){v(this,e),this.onlyFirstPass=!1,this.usagePositions=new Map,this.documentation=""}return g(e,[{key:"toTokenType",value:function(){return null}},{key:"clearUsagePositions",value:function(){this.usagePositions=new Map}}]),e}(),w=function(e){function t(){var e;return v(this,t),(e=d(this,p(t).apply(this,arguments))).initialValue=null,e.description="",e}return f(t,e),g(t,[{key:"equals",value:function(e){return e==this}},{key:"getResultType",value:function(e,t){var n=this.operationTable[e];return null==n?null:null!=t?n[t.identifier]:n.none}},{key:"canCastTo",value:function(e){return null!=this.canCastToMap[e.identifier]}},{key:"getCastInformation",value:function(e){return this.canCastToMap[e.identifier]}}]),t}(b),k=function e(t,n,i,r,o,a,s){v(this,e),this.onlyFirstPass=!1,this.identifier=t,this.type=n,this.updateValue=i,this.isStatic=r,this.visibility=o,this.isFinal=a,this.usagePositions=new Map,this.documentation=s},S=function(e){function t(e,n,i,r,o,a,s){var l,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];v(this,t),(l=d(this,p(t).call(this))).onlyFirstPass=!1,l.isConstructor=!1,l.isVirtual=!1,l.reserveStackForLocalVariables=0,l.genericTypeMap=null,l.identifier=e,l.parameterlist=n,l.returnType=i,l.isAbstract=o,l.isStatic=a,l.visibility=0,l.documentation=s,l.isConstructor=u,null!=r&&("function"==typeof r?l.invoke=r:(l.program=r,r.method=h(l))),l.signature=e+n.id;var c=!0,f=!1,y=void 0;try{for(var m,g=n.parameters[Symbol.iterator]();!(c=(m=g.next()).done);c=!0){var b=m.value;if(1==b.isTypeVariable){l.hasGenericTypes=!0;break}}}catch(e){f=!0,y=e}finally{try{c||null==g.return||g.return()}finally{if(f)throw y}}return l.hasGenericTypes=l.hasGenericTypes||null!=l.returnType&&1==l.returnType.isTypeVariable,l}return f(t,e),g(t,[{key:"implements",value:function(e){if(this.identifier!=e.identifier)return!1;if(null==this.returnType||"void"==this.returnType.identifier){if(null!=e.returnType&&"void"!=e.returnType.identifier)return!1}else if(e.returnType instanceof w){if(e.returnType!=this.returnType)return!1}else if(!this.returnType.canCastTo(e.returnType))return!1;if(this.parameterlist.parameters.length!=e.parameterlist.parameters.length)return!1;for(var t=0;t<this.parameterlist.parameters.length;t++){var n=this.parameterlist.parameters[t],i=e.parameterlist.parameters[t];if(i.type instanceof w){if(i.type!=n.type)return!1}else if(!i.type.canCastTo(n.type))return!1}return!0}},{key:"hasEllipsis",value:function(){return 0!=this.parameterlist.parameters.length&&this.parameterlist.parameters[this.parameterlist.parameters.length-1].isEllipsis}},{key:"getParameterType",value:function(e){return this.parameterlist.parameters[e].type}},{key:"getParameter",value:function(e){return this.parameterlist.parameters[e]}},{key:"getReturnType",value:function(){return this.returnType}},{key:"getParameterCount",value:function(){return this.parameterlist.parameters.length}},{key:"getParameterList",value:function(){return this.parameterlist}},{key:"getSignatureWithReturnParameter",value:function(){return null!=this.returnType?this.returnType.identifier+" "+this.signature:"void "+this.signature}},{key:"getCompletionLabel",value:function(){var e="";null!=this.returnType&&"void"!=this.returnType.identifier&&(e+=x(this.returnType)+" "),e+=this.identifier+"(";for(var t=this.parameterlist.parameters,n=0;n<t.length;n++){var i=t[n];if(i.isEllipsis)e+=x(i.type.arrayOfType)+"... "+i.identifier;else e+=x(i.type)+" "+i.identifier;n<t.length-1&&(e+=", ")}return e+=")"}},{key:"getCompletionSnippet",value:function(e){if(e)return this.identifier+"($0";var t="";t+=this.identifier+"(";for(var n=null==this.returnType||"void"==this.returnType.identifier?1:0,i=this.parameterlist.parameters,r=0;r<i.length;r++){var o=i[r];t+="${"+(r+1)%(i.length+n)+":"+o.identifier+"}",r<i.length-1&&(t+=", ")}return t+=")",null!=this.returnType&&"void"!=this.returnType.identifier||(t+=";$0"),t}},{key:"debugOutput",value:function(e){return""}},{key:"equals",value:function(e){return e==this}},{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return!1}},{key:"castTo",value:function(e,t){return e}}]),t}(b),P=function(){function e(t){v(this,e),this.parameters=t,this.computeId()}return g(e,[{key:"computeId",value:function(){this.id="(";for(var e=0;e<this.parameters.length;)this.id+=this.parameters[e].type.identifier,e<this.parameters.length-1&&(this.id+=", "),e++;this.id+=")"}}]),e}();function x(e){var t,n;if(e.typeVariables&&e.typeVariables.length>0){var i=(e.isTypeVariable?e.identifier+" extends "+(null===(t=e.isGenericVariantFrom)||void 0===t?void 0:t.identifier):e.identifier)+"<";return(i+=e.typeVariables.map((function(e){return x(e.type)})).join(", "))+">"}return e.isTypeVariable?e.identifier+" extends "+(null===(n=e.isGenericVariantFrom)||void 0===n?void 0:n.identifier):e.identifier}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.intrinsicData={},this.class=t,this.initializeAttributeValues()}var t,n,i;return t=e,(n=[{key:"getValue",value:function(e){var t=this.attributes[e];return null!=(null==t?void 0:t.updateValue)&&t.updateValue(t),t}},{key:"initializeAttributeValues",value:function(){this.attributes=Array(this.class.numberOfAttributesIncludingBaseClass).fill(null);for(var e=this.class;null!=e;){var t=!0,n=!1,i=void 0;try{for(var r,o=e.attributes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=null;a.type instanceof w&&(s=a.type.initialValue);var l={type:a.type,value:s};null!=a.updateValue&&(l.updateValue=a.updateValue,l.object=this),this.attributes[a.index]=l}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}e=e.baseClass}}}])&&T(t.prototype,n),i&&T(t,i),e}();function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j,O,E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxLabelIndex=0,this.labeledNodes=[],this.labelMap=new Map,this.jumpNodesToResolve=[],this.switchStatements=[],this.program=t}var t,n,i;return t=e,(n=[{key:"correctPositionsAfterInsert",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.labeledNodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;null!=s.position&&s.position>=e&&(s.position+=t)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"registerSwitchStatement",value:function(e){this.switchStatements.push(e)}},{key:"insertJumpNode",value:function(e,t,n,i){var r=this.program.statements;null==t&&r.length>0&&(t=r[r.length-1].position);var o={type:e,position:t,stepFinished:!0};return n.pushStatements(o),this.registerJumpNode(o,i)}},{key:"markJumpDestination",value:function(e,t){var n=this.program.statements.length-1+e;null==t&&(t=this.maxLabelIndex++);var i={position:n,labelIndex:t};return this.labeledNodes.push(i),this.labelMap.set(t,i),t}},{key:"removeNode",value:function(e){for(var t=0;t<this.labeledNodes.length;t++){var n=this.labeledNodes[t];if(n.node==e){var i=this.program.statements.indexOf(e);if(i<this.program.statements.length-1){var r=this.program.statements[i+1];n.node=r}}else t++}}},{key:"registerJumpDestination",value:function(e,t){null==t&&(t=this.maxLabelIndex++);var n={node:e,labelIndex:t};return this.labeledNodes.push(n),this.labelMap.set(t,n),t}},{key:"registerJumpNode",value:function(e,t){null==t&&(t=this.maxLabelIndex++);var n={labelIndex:t,node:e};return this.jumpNodesToResolve.push(n),t}},{key:"resolveNodes",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=this.labeledNodes[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(null==a.position)a.position=this.program.statements.indexOf(a.node);else{for(;a.position>this.program.statements.length-1;)this.program.statements.push({type:r.noOp,position:null});a.node=this.program.statements[a.position]}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var s=!0,l=!1,u=void 0;try{for(var c,d=this.jumpNodesToResolve[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,p=this.labelMap.get(h.labelIndex);null!=p&&(h.node.destination=p.position)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var f=!0,y=!1,v=void 0;try{for(var m,g=this.switchStatements[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value,w=!0,k=!1,S=void 0;try{for(var P,x=b.destinationLabels[Symbol.iterator]();!(w=(P=x.next()).done);w=!0){var T=P.value;b.destinationMap[T.constant]=this.labelMap.get(T.label).position}}catch(e){k=!0,S=e}finally{try{w||null==x.return||x.return()}finally{if(k)throw S}}b.destinationLabels=null,null!=b.defaultDestination&&(b.defaultDestination=this.labelMap.get(b.defaultDestination).position)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}])&&C(t.prototype,n),i&&C(t,i),e}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}function _(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e[e.public=0]="public",e[e.protected=1]="protected",e[e.private=2]="private"}(j||(j={}));var G=function(e){function t(e,n,i){var r;return D(this,t),(r=_(this,B(t).call(this))).typeVariables=[],r.isTypeVariable=!1,r.typeVariablesReady=!0,r.implements=[],r.firstPassImplements=[],r.isAbstract=!1,r.postConstructorCallbacks=null,r.methods=[],r.methodMap=new Map,r.attributes=[],r.attributeMap=new Map,r.numberOfAttributesIncludingBaseClass=null,r.documentation=i,r.identifier=e,r.module=n,r.visibility=j.public,r.staticClass=new N(z(r)),r.attributeInitializationProgram={method:null,module:r.module,statements:[],labelManager:null},r.attributeInitializationProgram.labelManager=new E(r.attributeInitializationProgram),r}return R(t,e),I(t,[{key:"setupAttributeIndicesRecursive",value:function(){null!=this.baseClass&&null==this.baseClass.numberOfAttributesIncludingBaseClass&&this.baseClass.setupAttributeIndicesRecursive();var e=null==this.baseClass?0:this.baseClass.numberOfAttributesIncludingBaseClass,t=!0,n=!1,i=void 0;try{for(var r,o=this.attributes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.index=e++}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.numberOfAttributesIncludingBaseClass=e}},{key:"getNonGenericClass",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e}},{key:"getNonGenericIdentifier",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e.identifier}},{key:"implementsInterface",value:function(e){for(var t=this;null!=t;){var n=!0,i=!1,r=void 0;try{for(var o,a=t.implements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(null!=o.value.getThisOrExtendedInterface(e.getNonGenericIdentifier()))return!0}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}t=t.baseClass}return!1}},{key:"getImplementedInterface",value:function(e){for(var t=this;null!=t;){var n=!0,i=!1,r=void 0;try{for(var o,a=t.implements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getThisOrExtendedInterface(e);if(null!=s)return s}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}t=t.baseClass}return null}},{key:"registerUsedSystemClasses",value:function(e){null!=this.baseClass&&null!=this.baseClass.module&&this.baseClass.module.isSystemModule&&e.indexOf(this.baseClass)<0&&e.push(this.baseClass);var t=!0,n=!1,i=void 0;try{for(var r,o=this.getCompositeData()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;null!=a.klass&&null!=a.klass.module&&a.klass.module.isSystemModule&&e.indexOf(a.klass)<0&&e.push(a.klass)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var s=!0,l=!1,u=void 0;try{for(var c,d=this.implements[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null!=h&&h.module.isSystemModule&&e.indexOf(h)<0&&e.push(h)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}},{key:"getCompositeData",value:function(){var e=[],n=new Map,i=!0,r=!1,o=void 0;try{for(var a,s=this.attributes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.type instanceof t||l.type instanceof V){var u=n.get(l.type);null==u?(u={klass:l.type,multiples:!1,identifier:l.identifier},n.set(l.type,u),e.push(u)):u.identifier+=", "+l.identifier}else{for(var c=l.type;c instanceof Y;)c=c.arrayOfType;if(c instanceof t||c instanceof V){var d=n.get(c);null==d?(d={klass:c,multiples:!0,identifier:l.identifier},n.set(c,d),e.push(d)):(d.identifier+=", "+l.identifier,d.multiples=!0)}}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return e}},{key:"clearUsagePositions",value:function(){L(B(t.prototype),"clearUsagePositions",this).call(this);var e=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.clearUsagePositions()}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.attributes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.usagePositions=new Map}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}null!=this.staticClass&&this.staticClass.clearUsagePositions()}},{key:"getPostConstructorCallbacks",value:function(){for(var e=this,t=null;null!=e;)null!=e.postConstructorCallbacks&&(t=null==t?e.postConstructorCallbacks:t.concat(e.postConstructorCallbacks)),e=e.baseClass;return t}},{key:"getCompletionItems",value:function(e,t,n,i,r){var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=this.getAttributes(e)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;o.push({label:d.identifier+"",kind:monaco.languages.CompletionItemKind.Field,insertText:d.identifier,range:i,documentation:null==d.documentation?void 0:{value:d.documentation}})}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=!0,p=!1,f=void 0;try{for(var y,v=this.getMethods(e)[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value;if(m.isConstructor){if((null==r?void 0:r.isConstructor)&&r!=m&&this.baseClass.methods.indexOf(m)>=0){this.pushSuperCompletionItem(o,m,t,i);continue}}else o.push({label:m.getCompletionLabel(),filterText:m.identifier,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},kind:monaco.languages.CompletionItemKind.Method,insertText:m.getCompletionSnippet(t),range:i,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==m.documentation?void 0:{value:m.documentation}})}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}return o=o.concat(this.staticClass.getCompletionItems(e,t,n,i))}},{key:"pushSuperCompletionItem",value:function(e,t,n,i){e.push({label:t.getCompletionLabel().replace(t.identifier,"super"),filterText:"super",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},kind:monaco.languages.CompletionItemKind.Method,insertText:t.getCompletionSnippet(n).replace(t.identifier,"super"),range:i,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==t.documentation?void 0:{value:t.documentation}})}},{key:"pushStaticInitializationPrograms",value:function(e){this.staticClass.attributeInitializationProgram.statements.length>0&&e.push({program:this.staticClass.attributeInitializationProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Initialisierung statischer Variablen der Klasse "+this.staticClass.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung statischer Attribute"})}},{key:"getMethodBySignature",value:function(e){for(var t=this;null!=t;){var n=t.methodMap.get(e);if(null!=n)return n;t=t.baseClass}return null}},{key:"equals",value:function(e){return e==this}},{key:"setBaseClass",value:function(e){this.baseClass=e,this.staticClass.baseClass=e.staticClass}},{key:"addMethod",value:function(e){e.isConstructor&&(e.returnType=null),e.isStatic?this.staticClass.addMethod(e):(this.methods.push(e),this.methodMap.set(e.signature,e))}},{key:"addAttribute",value:function(e){e.isStatic?this.staticClass.addAttribute(e):(this.attributes.push(e),this.attributeMap.set(e.identifier,e))}},{key:"getResultType",value:function(e,n){return e!=r.equal&&e!=r.notEqual||!(n instanceof t||n==ft)?e==r.keywordInstanceof&&(n instanceof N||n instanceof V)?O:null:O}},{key:"compute",value:function(e,t,n){var i;if(e==r.equal)return t.value==n.value;if(e==r.notEqual)return t.value!=n.value;if(e==r.keywordInstanceof){var o=null===(i=null==t?void 0:t.value)||void 0===i?void 0:i.class;if(null==o)return!1;var a=o,s=n.type;if(s instanceof N){for(;null!=a;){if(a===s.Klass)return!0;a=a.baseClass}return!1}if(s instanceof V)for(;null!=a;){var l=!0,u=!1,c=void 0;try{for(var d,h=a.implements[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){if(d.value===s)return!0}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}a=a.baseClass}return!1}return null}},{key:"getMethods",value:function(e,t){var n=this.methods.filter((function(n){return n.visibility<=e&&(null==t||n.identifier==t)}));if(null!=this.baseClass&&(null==t||t!=this.identifier||0==n.length)){var i=e==j.public?e:j.protected,r=!0,o=!1,a=void 0;try{for(var s,l=this.baseClass.getMethods(i,t==this.identifier?this.baseClass.identifier:t)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=!1,d=!0,h=!1,p=void 0;try{for(var f,y=n[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){if(f.value.signature==u.signature){c=!0;break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c||n.push(u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}return n}},{key:"getAttributes",value:function(e){var t=[],n=!0,i=!1,r=void 0;try{for(var o,a=this.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.visibility<=e&&t.push(s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}if(null!=this.baseClass){var l=e==j.public?e:j.protected,u=!0,c=!1,d=void 0;try{for(var h,p=this.baseClass.getAttributes(l)[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=!1;if(!(f.visibility>l)){var v=!0,m=!1,g=void 0;try{for(var b,w=t[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){if(b.value.identifier==f.identifier){y=!0;break}}}catch(e){m=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw g}}y||t.push(f)}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}return t}},{key:"hasConstructor",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.methods[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.isConstructor)return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return null!=this.baseClass&&this.baseClass.hasConstructor()}},{key:"hasParameterlessConstructor",value:function(){var e=!1,t=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.isConstructor){if(0==a.parameterlist.parameters.length)return!0;e=!0}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return!e&&null!=this.baseClass&&this.baseClass.hasParameterlessConstructor()}},{key:"getParameterlessConstructor",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.methods[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(o.isConstructor&&0==o.parameterlist.parameters.length)return o}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return null!=this.baseClass?this.baseClass.getParameterlessConstructor():null}},{key:"getConstructor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.identifier,i=this.methods.filter((function(e){return e.isConstructor}));return 0==i.length&&null!=this.baseClass?this.baseClass.getConstructor(e,t,n):H(i,this.identifier,e,n,!0)}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n,i){var r=H(this.getMethods(i),e,t,this.identifier,n);if(0==r.methodList.length&&!n){var o=this.staticClass.getMethodsThatFitWithCasting(e,t,!1,i);return null==o.error?o:r}return r}},{key:"getMethod",value:function(e,t){var n=this.methodMap.get(e+t.id);return null==n&&null!=this.baseClass?this.baseClass.getMethod(e,t):n}},{key:"getAttribute",value:function(e,t){var n=null,i=!1,r=this.attributeMap.get(e),o=null==r;if(null==r?n="Das Attribut "+e+" kann nicht gefunden werden.":r.visibility>t&&(n="Das Attribut "+e+" hat die Sichtbarkeit "+j[r.visibility]+" und ist daher hier nicht sichtbar.",r=null,i=!0),null==r&&null!=this.baseClass){var a=t==j.public?t:j.protected,s=this.baseClass.getAttribute(e,a);if(null!=s.attribute||o)return s}return{attribute:r,error:n,foundButInvisible:i}}},{key:"canCastTo",value:function(e){if(e==ht)return!0;if(e instanceof t)for(var n=this;null!=n;){if(e.getNonGenericIdentifier()==n.getNonGenericIdentifier()){if(e.typeVariables.length>0){for(var i=Math.min(e.typeVariables.length,n.typeVariables.length),r=0;r<i;r++)if(!n.typeVariables[r].type.canCastTo(e.typeVariables[r].type))return!1;return!0}return!0}n=n.baseClass}if(e instanceof V)for(var o=this;null!=o;){var a=!0,s=!1,l=void 0;try{for(var u,c=o.implements[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(e.getNonGenericIdentifier()==d.getNonGenericIdentifier())return!0}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}o=o.baseClass}return!1}},{key:"castTo",value:function(e,t){return e}},{key:"checkInheritance",value:function(){if(null!=this.baseClass&&t.dontInheritFrom.indexOf(this.baseClass.identifier)>=0)return{message:"Aus Performancegr√ºnden ist es leider nicht m√∂glich, Unterklassen der Klassen String, Boolean, Character, Integer, Float und Double zu bilden.",missingMethods:[]};for(var e="",n=[],i=[],r=[],o=this,a=[o.identifier];null!=o.baseClass;){if(o=o.baseClass,a.indexOf(o.identifier)>=0){o.baseClass=null,a=[o.identifier].concat(a),e="Die Klasse "+o.identifier+" erbt von sich selbst: ",e+="("+a.join(" extends ")+")";break}a=[o.identifier].concat(a)}if(""==e){if(null!=this.baseClass)for(var s=[],l=this;null!=l;){var u=!0,c=!1,d=void 0;try{for(var h,p=l.methods[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;if(f.isAbstract){s.push(f);var y=!1,v=!0,m=!1,g=void 0;try{for(var b,w=i[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){if(b.value.implements(f)){y=!0;break}}}catch(e){m=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw g}}y||n.push(f)}else i.push(f)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}l=l.baseClass}n.length>0&&!this.isAbstract&&(e="Die Klasse "+this.identifier+" muss noch folgende Methoden ihrer abstrakten Basisklassen implementieren: ",e+=n.map((function(e){return e.getSignatureWithReturnParameter()})).join(", "));var k=!0,S=!1,P=void 0;try{for(var x,T=this.implements[Symbol.iterator]();!(k=(x=T.next()).done);k=!0){var M=x.value,C=!0,j=!1,O=void 0;try{for(var E,A=M.getMethods()[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){var D=E.value,F=!1,I=!0,_=!1,z=void 0;try{for(var L,B=i[Symbol.iterator]();!(I=(L=B.next()).done);I=!0){if(L.value.implements(D)){F=!0;break}}}catch(e){_=!0,z=e}finally{try{I||null==B.return||B.return()}finally{if(_)throw z}}F||r.push(D)}}catch(e){j=!0,O=e}finally{try{C||null==A.return||A.return()}finally{if(j)throw O}}}}catch(e){S=!0,P=e}finally{try{k||null==T.return||T.return()}finally{if(S)throw P}}r.length>0&&(""!=e&&(e+="\n"),e+="Die Klasse "+this.identifier+" muss noch folgende Methoden der von ihr implementierten Interfaces implementieren: ",e+=r.map((function(e){return e.signature})).join(", "))}return{message:e,missingMethods:n.concat(r)}}},{key:"hasAncestorOrIs",value:function(e){var n=this,i=e.identifier;for(e instanceof t&&(i=e.getNonGenericIdentifier());null!=n;){if(n.getNonGenericIdentifier()==i)return!0;n=n.baseClass}return!1}},{key:"debugOutput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n="{",i=this.getAttributes(j.private),r=e.value;if(null==r)return"null";for(var o=0;o<i.length;o++){var a=i[o],s=r.getValue(a.index);a.type instanceof w?n+=a.identifier+":&nbsp;"+a.type.debugOutput(s,t/2):n+=a.identifier+":&nbsp; {...}",o<i.length-1&&(n+=",&nbsp;")}return n+"}"}},{key:"clone",value:function(){var e=Object.create(this);return e.implements=this.implements.slice(0),e.usagePositions=new Map,e.isGenericVariantFrom=this,e}}]),t}(b);G.dontInheritFrom=["Integer","Float","Double","Boolean","Character","String","Shape","FilledShape"];var N=function(e){function t(e){var n;return D(this,t),(n=_(this,B(t).call(this))).methods=[],n.methodMap=new Map,n.attributes=[],n.attributeMap=new Map,n.numberOfAttributesIncludingBaseClass=null,n.Klass=e,n.identifier=e.identifier,null!=e.baseClass&&(n.baseClass=e.baseClass.staticClass),n.attributeInitializationProgram={method:null,module:n.Klass.module,statements:[],labelManager:null},n.attributeInitializationProgram.labelManager=new E(n.attributeInitializationProgram),n}return R(t,e),I(t,[{key:"setupAttributeIndicesRecursive",value:function(){null!=this.baseClass&&null==this.baseClass.numberOfAttributesIncludingBaseClass&&this.baseClass.setupAttributeIndicesRecursive();var e=null==this.baseClass?0:this.baseClass.numberOfAttributesIncludingBaseClass,t=!0,n=!1,i=void 0;try{for(var r,o=this.attributes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.index=e++}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.numberOfAttributesIncludingBaseClass=e}},{key:"clearUsagePositions",value:function(){L(B(t.prototype),"clearUsagePositions",this).call(this);var e=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.clearUsagePositions()}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.attributes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.usagePositions=new Map}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"debugOutput",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,i="{",r=this.getAttributes(j.private),o=this.classObject,a=0;a<r.length;a++){var s=r[a];i+=s.identifier+": "+o==null?"---":null===(t=s.type)||void 0===t?void 0:t.debugOutput(o.getValue(s.index),n/2),a<r.length-1&&(i+=", ")}return i+"}"}},{key:"getCompletionItems",value:function(e,t,n,i){var r=[],o=!0,a=!1,s=void 0;try{for(var l,u=this.getAttributes(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push({label:c.identifier,detail:c.color?c.color:void 0,kind:c.color?monaco.languages.CompletionItemKind.Color:monaco.languages.CompletionItemKind.Field,insertText:c.identifier,range:i,documentation:null==c.documentation?void 0:{value:c.documentation}})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d=!0,h=!1,p=void 0;try{for(var f,y=this.getMethods(e)[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;r.push({label:v.getCompletionLabel(),filterText:v.identifier,kind:monaco.languages.CompletionItemKind.Method,insertText:v.getCompletionSnippet(t),range:i,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==v.documentation?void 0:{value:v.documentation}})}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}return r}},{key:"equals",value:function(e){return e==this}},{key:"addMethod",value:function(e){this.methods.push(e),this.methodMap.set(e.signature,e)}},{key:"addAttribute",value:function(e){this.attributes.push(e),this.attributeMap.set(e.identifier,e)}},{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n,i){return H(this.getMethods(i),e,t,this.Klass.identifier,n)}},{key:"getMethods",value:function(e,t){var n=this.methods.slice().filter((function(n){return n.visibility<=e&&(null==t||t==n.identifier)}));if(null!=this.baseClass){var i=e==j.public?j.public:j.protected,r=!0,o=!1,a=void 0;try{for(var s,l=this.baseClass.getMethods(i,t)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=!1,d=!0,h=!1,p=void 0;try{for(var f,y=n[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){if(f.value.signature==u.signature){c=!0;break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c||n.push(u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}return n}},{key:"getAttributes",value:function(e){var t=this.attributes.filter((function(t){return t.visibility<=e}));if(null!=this.baseClass){var n=e==j.public?e:j.protected,i=!0,r=!1,o=void 0;try{for(var a,s=this.baseClass.getAttributes(n)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=!1,c=!0,d=!1,h=void 0;try{for(var p,f=t[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){if(p.value.identifier==l.identifier){u=!0;break}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}u||t.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return t}},{key:"getMethod",value:function(e,t){var n=this.methodMap.get(e+t.id);return null==n&&null!=this.baseClass?this.baseClass.getMethod(e,t):n}},{key:"getAttribute",value:function(e,t){var n="",i=!1,r=this.attributeMap.get(e);if(null==r?(i=!0,n="Das Attribut "+e+" konnte nicht gefunden werden."):r.visibility>t&&(n="Das Attribut "+e+" hat die Sichtbarkeit "+j[r.visibility]+" und ist hier daher nicht sichtbar.",r=null),null==r&&null!=this.baseClass){var o=t==j.public?t:j.protected,a=this.baseClass.getAttribute(e,o);if(i)return a}return{attribute:r,error:n,foundButInvisible:!i,staticClass:this}}},{key:"canCastTo",value:function(e){return!1}},{key:"castTo",value:function(e,t){return e}},{key:"hasAncestorOrIs",value:function(e){for(var t=this;null!=t;){if(t==e)return!0;t=t.baseClass}return!1}}]),t}(b),V=function(e){function t(e,n,i){var r;return D(this,t),(r=_(this,B(t).call(this))).typeVariables=[],r.typeVariablesReady=!0,r.extends=[],r.methods=[],r.methodMap=new Map,r.documentation=i,r.identifier=e,r.module=n,r}return R(t,e),I(t,[{key:"getNonGenericIdentifier",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e.identifier}},{key:"getThisOrExtendedInterface",value:function(e){if(this.getNonGenericIdentifier()==e)return this;var t=!0,n=!1,i=void 0;try{for(var r,o=this.extends[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value.getThisOrExtendedInterface(e);if(null!=a)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"clone",value:function(){var e=Object.create(this);return e.usagePositions=new Map,e.isGenericVariantFrom=this,e}},{key:"clearUsagePositions",value:function(){L(B(t.prototype),"clearUsagePositions",this).call(this);var e=!0,n=!1,i=void 0;try{for(var r,o=this.methods[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.clearUsagePositions()}}catch(e){n=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"getCompletionItems",value:function(e,t,n){var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=this.getMethods()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i.push({label:u.getCompletionLabel(),filterText:u.identifier,kind:monaco.languages.CompletionItemKind.Method,insertText:u.getCompletionSnippet(e),range:n,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==u.documentation?void 0:{value:u.documentation}})}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i}},{key:"debugOutput",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e.value?"null":e.value instanceof M?e.value.class.debugOutput(e):"{...}"}},{key:"equals",value:function(e){return e==this}},{key:"addMethod",value:function(e){e.isAbstract=!0,this.methods.push(e),this.methodMap.set(e.signature,e)}},{key:"getResultType",value:function(e,n){return e==r.equal||e==r.notEqual||e==r.keywordInstanceof&&(n instanceof N||n instanceof t)?O:null}},{key:"compute",value:function(e,t,n){return e==r.equal?t.value==n.value:e==r.notEqual?t.value!=n.value:null}},{key:"getMethods",value:function(){if(0==this.extends.length)return this.methods;if(null!=this.methodsWithSubInterfaces)return this.methodsWithSubInterfaces;var e={},t={};this.methodsWithSubInterfaces=this.methods.slice(0);var n=!0,i=!1,r=void 0;try{for(var o,a=this.methods[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){t[o.value.signature]=!0}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}e[this.identifier]=!0;for(var s=this.extends.slice(0);s.length>0;){var l=s.pop(),u=!0,c=!1,d=void 0;try{for(var h,p=l.methods[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;t[f.signature]||(this.methodsWithSubInterfaces.push(f),t[f.signature]=!0)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}var y=!0,v=!1,m=void 0;try{for(var g,b=l.extends[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value;e[w.identifier]||(s.push(w),e[w.identifier]=!0)}}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}}return this.methodsWithSubInterfaces}},{key:"getMethod",value:function(e,t){return this.methodMap.get(e+t.id)}},{key:"canCastTo",value:function(e){if(e instanceof t){if(e.getNonGenericIdentifier()==this.getNonGenericIdentifier()){if(!0,0==this.typeVariables.length)return!0;var n=e;if(this.typeVariables.length!=n.typeVariables.length)return!1;for(var i=0;i<this.typeVariables.length;i++){var r=this.typeVariables[i];if(!n.typeVariables[i].type.canCastTo(r.type))return!1}return!1}var o=!0,a=!1,s=void 0;try{for(var l,u=this.extends[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){if(l.value.canCastTo(e))return!0}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return!1}return e instanceof G&&"Object"==e.getNonGenericIdentifier()}},{key:"castTo",value:function(e,t){return e}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n){return H(this.getMethods(),e,t,this.identifier,n)}}]),t}(b);function H(e,t,n,i,r){var o=[],a=1e4,s=null,l=!1,u=!0,c=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=0;if(f.identifier==t||f.isConstructor&&r){l=!0;var v=f.hasEllipsis();if(f.getParameterCount()==n.length||v&&f.getParameterCount()<=n.length){var m=!0,g=0;for(g=0;g<f.getParameterCount()-(v?1:0);g++){var b=f.getParameterType(g),w=n[g];if(null==w){m=!1;break}if(b!=w){if(!w.canCastTo(b)){m=!1;break}y++}}if(m&&v)for(var k=f.getParameter(g).type.arrayOfType,S=g;S<n.length;S++){var P=n[g];if(null==P){m=!1;break}if(k!=P){if(!P.canCastTo(k)){m=!1;break}y++}}m&&y<=a&&(y<a&&(o=[]),o.push(f),a=y)}}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}if(0==o.length)if(l)if(0==n.length)s=r?"Es gibt keinen parameterlosen Konstruktor der Klasse "+i:"Die vorhandenen Methoden mit dem Bezeichner "+t+" haben alle mindestens einen Parameter. Hier wird aber kein Parameterwert √ºbergeben.";else{var x=n.map((function(e){return null==e?void 0:e.identifier})).join(", ");s=r?"Die Parametertypen (".concat(x,") passen zu keinem Konstruktor der Klasse ").concat(i):"Die Parametertypen (".concat(x,") passen zu keiner der vorhandenen Methoden mit dem Bezeichner ").concat(t,".")}else s="Der Typ "+i+" besitzt keine Methode mit dem Bezeichner "+t+".","setCenter"==t&&(s+=' Tipp: Die Methode setCenter der Klasse Shape wurde umbenannt in "moveTo".');return o.length>1&&(o=o.slice(0,1)),{error:s,methodList:o}}function K(e,t){return null==t?j.public:(e instanceof N&&(e=e.Klass),t instanceof N&&(t=t.Klass),e==t?j.private:t.hasAncestorOrIs(e)?j.protected:j.public)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Z(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Z(this,X(t).call(this))).arrayOfType=e,n.identifier="Array",null!=e&&(n.identifier=e.identifier+"[]"),n.lengthAttribute=new k("length",st,(function(e){return e.value.length}),!1,j.public,!0),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(i=[{key:"equals",value:function(e){return e instanceof t&&e.arrayOfType.equals(this.arrayOfType)}},{key:"getResultType",value:function(e,t){return e==r.referenceElement?this.arrayOfType:null}},{key:"compute",value:function(e,t,n){if(e==r.referenceElement)return t.value[n.value]}},{key:"getMethod",value:function(e,t){return null}},{key:"getAttribute",value:function(e){return"length"==e?this.lengthAttribute:null}},{key:"canCastTo",value:function(e){return e instanceof t&&this.arrayOfType.canCastTo(e.arrayOfType)}},{key:"castTo",value:function(e,t){var n=e.value.slice(),i=t.arrayOfType,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this.arrayOfType.castTo(u,i)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return{type:t,value:n}}},{key:"debugOutput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=0;if(null!=e.value){for(var i="[",r=e.value,o=0;o<r.length;o++){var a=r[o],s=a.type.debugOutput(a,t/2);if(i+=s,o<r.length-1&&(i+=",&nbsp;"),(n+=s.length)>t)break}return i+"]"}return"null"}},{key:"id",get:function(){return this.arrayOfType.identifier+"[]"}}])&&U(n.prototype,i),o&&U(n,o),t}(b);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=ee(this,te(t).call(this,"Object",e,"Basisklasse aller Klassen"));var i=new S("toString",new P([]),ht,(function(e){return e[0].value instanceof M?"("+e[0].value.class.identifier+")":e[0].value}),!1,!1);return i.isVirtual=!0,n.addMethod(i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),t}(G);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e,t,n){return(se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ae(this,le(t).call(this,"Integer",null,"Wrapper-Klasse, um int-Werte in Collections verenden zu k√∂nnen."))).unboxableAs=[],n.baseClass=e,n.addAttribute(new k("MAX_VALUE",st,(function(e){e.value=Number.MAX_SAFE_INTEGER}),!0,j.public,!0,"Der gr√∂√üte Wert, den eine Variable vom Typ int annehmen kann")),n.addAttribute(new k("MIN_VALUE",st,(function(e){e.value=Number.MIN_SAFE_INTEGER}),!0,j.public,!0,"Der kleinste Wert, den eine Variable vom Typ int annehmen kann")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||se(le(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[st,lt,ut],this.addMethod(new S("Integer",new P([{identifier:"int-wert",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Integer-Objekt",!0)),this.addMethod(new S("Integer",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseInt(e[1].value)}),!1,!1,"Instanziert ein neues Integer-Objekt, indem die √ºbergebene Zeichenkette in einen int-Wert umgewandelt wird.",!0)),this.addMethod(new S("doubleValue",new P([]),ut,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen double-Wert um")),this.addMethod(new S("floatValue",new P([]),lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen float-Wert um")),this.addMethod(new S("intValue",new P([]),st,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen int-Wert um")),this.addMethod(new S("compareTo",new P([{identifier:"anotherInteger",type:this,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert gr√∂√üer als der √ºbergebene Wert, so wird +1 zur√ºckgegeben. Ist er kleiner, so wird -1 zur√ºckgegeben. Sind die Werte gleich, so wird 0 zur√ºckgegeben.")),this.addMethod(new S("equals",new P([{identifier:"anotherInteger",type:this,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Wert gleich dem √ºbergebenen Wert ist.")),this.addMethod(new S("toString",new P([]),ht,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur Basis 10 zur√ºck.")),this.addMethod(new S("hashCode",new P([]),st,(function(e){return e[0].value}),!1,!1,"Gibt den hashCode des Objekts zur√ºck.")),this.addMethod(new S("parseInt",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Number.parseInt(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen int-Wert um")),this.addMethod(new S("parseInt",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Wandelt die Zeichenkette s in einen int-Wert um. Dabei wird s als Zahl im Zahlensystem mit der Basis radix interpretiert.")),this.addMethod(new S("signum",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.sign(e[1].value)}),!1,!0,"Gibt das Signum der √ºbergebenen Zahl zur√ºck, also -1 falls negativ, 0 falls 0 und +1 falls positiv.")),this.addMethod(new S("toBinary",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return(e[1].value>>>0).toString(2)}),!1,!0,"Gibt die √ºbergebene Zahl als Bin√§rrepr√§sentation zur√ºck.")),this.addMethod(new S("toHex",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return(e[1].value>>>0).toString(16)}),!1,!0,"Gibt die √ºbergebene Zahl als Hexadezimalrepr√§sentation zur√ºck.")),this.addMethod(new S("toOctal",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return(e[1].value>>>0).toString(8)}),!1,!0,"Gibt die √ºbergebene Zahl als Oktalrepr√§sentation zur√ºck.")),this.addMethod(new S("toString",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return e[1].value.toString()}),!1,!0,"Gibt die √ºbergebene Zahl als String-Wert zur Basis 10 zur√ºck.")),this.addMethod(new S("toString",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return(e[1].value>>>0).toString(e[1].value)}),!1,!0,"Gibt die √ºbergebene Zahl als String-Wert zur Basis radix zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"i",type:st,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die √ºbergebene Zahl als Integer-Objekt zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseInt(e[1].value)}),!1,!0,"Interpretiert die √ºbergebene Zeichenkette als Dezimalzahl und gib sie als Integer-Objekt zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:st,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Interpretiert die √ºbergebene Zeichenkette als Zahl zur Basis radix und gib sie als Integer-Objekt zur√ºck."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&oe(n.prototype,i),r&&oe(n,r),t}(G);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e,t,n){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ye(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pe(this,ye(t).call(this,"Float",null,"Wrapper-Klasse, um float-Werte in Collections verenden zu k√∂nnen."))).unboxableAs=[],n.baseClass=e,n.addAttribute(new k("MAX_VALUE",lt,(function(e){e.value=Number.MAX_VALUE}),!0,j.public,!0,"Der gr√∂√üte Wert, den eine Variable vom Typ float annehmen kann")),n.addAttribute(new k("MIN_VALUE",lt,(function(e){e.value=Number.MIN_VALUE}),!0,j.public,!0,"Der kleinste Wert, den eine Variable vom Typ float annehmen kann")),n.addAttribute(new k("NaN_VALUE",lt,(function(e){e.value=Number.NaN}),!0,j.public,!0,'Der "Not a Number"-Wert vom Typ float')),n.addAttribute(new k("NEGATIVE_INFINITY",lt,(function(e){e.value=Number.NEGATIVE_INFINITY}),!0,j.public,!0,'Der "negative infinity"-Wert vom Typ float')),n.addAttribute(new k("POSITIVE_INFINITY",lt,(function(e){e.value=Number.POSITIVE_INFINITY}),!0,j.public,!0,'Der "positive infinity"-Wert vom Typ float')),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||fe(ye(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[lt,ut],this.addMethod(new S("Float",new P([{identifier:"double-value",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Float-Objekt",!0)),this.addMethod(new S("Float",new P([{identifier:"int-value",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Float-Objekt",!0)),this.addMethod(new S("Float",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseFloat(e[1].value)}),!1,!1,"Instanziert ein neues Float-Objekt, indem die √ºbergebene Zeichenkette in einen float-Wert umgewandelt wird.",!0)),this.addMethod(new S("doubleValue",new P([]),ut,(function(e){return e[0].value}),!1,!1,"Wandelt das Float-Objekt in einen double-Wert um.")),this.addMethod(new S("floatValue",new P([]),lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Float-Objekt in einen float-Wert um.")),this.addMethod(new S("intValue",new P([]),st,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Wandelt das Float-Objekt durch Abrunden in einen int-Wert um.")),this.addMethod(new S("compareTo",new P([{identifier:"anotherFloat",type:this,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert gr√∂√üer als der √ºbergebene Wert, so wird +1 zur√ºckgegeben. Ist er kleiner, so wird -1 zur√ºckgegeben. Sind die Werte gleich, so wird 0 zur√ºckgegeben.")),this.addMethod(new S("equals",new P([{identifier:"anotherFloat",type:this,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Wert gleich dem √ºbergebenen Wert ist.")),this.addMethod(new S("toString",new P([]),ht,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur√ºck.")),this.addMethod(new S("hashCode",new P([]),st,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Gibt den hashCode des Objekts zur√ºck.")),this.addMethod(new S("parseFloat",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen float-Wert um")),this.addMethod(new S("toString",new P([{identifier:"f",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return""+e[1].value}),!1,!0,"Gibt die √ºbergebene Zahl als String-Wert zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"f",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die √ºbergebene Zahl als Float-Objekt zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Interpretiert die √ºbergebene Zeichenkette als Dezimalzahl und gib sie als Float-Objekt zur√ºck.")),this.addMethod(new S("isNaN",new P([{identifier:"f",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Number.isNaN(e[1].value)}),!1,!0,"Gibt genau dann true zur√ºck, falls die √ºbergebene float-Zahl NaN (not a Number) ist.")),this.addMethod(new S("isNaN",new P([]),ct,(function(e){return Number.isNaN(e[0].value)}),!1,!1,"Gibt genau dann true zur√ºck, falls das Objekt NaN (not a Number) ist.")),this.addMethod(new S("isInfinite",new P([{identifier:"f",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[1].value==1/0}),!1,!0,"Gibt genau dann true zur√ºck, falls die √ºbergebene float-Zahl INFINTITY ist.")),this.addMethod(new S("isInfinite",new P([]),ct,(function(e){return e[0].value==1/0}),!1,!1,"Gibt genau dann true zur√ºck, falls das Objekt INFINITY ist."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&he(n.prototype,i),r&&he(n,r),t}(G);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function we(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e,t,n){return(ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Se(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=we(this,Se(t).call(this,"Character",null,"Wrapper-Klasse, um char-Werte in Collections verenden zu k√∂nnen."))).unboxableAs=[],n.baseClass=e,n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||ke(Se(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[pt,ht],this.addMethod(new S("Character",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Character-Objekt",!0)),this.addMethod(new S("charValue",new P([]),pt,(function(e){return e[0].value}),!1,!1,"Wandelt das Character-Objekt in einen char-Wert um")),this.addMethod(new S("compareTo",new P([{identifier:"anotherCharacter",type:this,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert gr√∂√üer als der √ºbergebene Wert, so wird +1 zur√ºckgegeben. Ist er kleiner, so wird -1 zur√ºckgegeben. Sind die Werte gleich, so wird 0 zur√ºckgegeben.")),this.addMethod(new S("equals",new P([{identifier:"anotherCharacter",type:this,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Wert gleich dem √ºbergebenen Wert ist.")),this.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur√ºck.")),this.addMethod(new S("hashCode",new P([]),st,(function(e){return e[0].value.charCodeAt(0)}),!1,!1,"Gibt den hashCode des Objekts zur√ºck.")),this.addMethod(new S("charValue",new P([]),pt,(function(e){return e[0].value}),!1,!1,"Gibt den char-Wert des Objekts zur√ºck.")),this.addMethod(new S("digit",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Gibt den numerischen Wert des Zeichens zur Basis radix zur√ºck.")),this.addMethod(new S("forDigit",new P([{identifier:"int-value",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:st,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return e[1].value.toString(e[2].value).charAt(0)}),!1,!0,"Gibt den √ºbergebenen Wert als Ziffer im Zahlensystem zur Basis radix zur√ºck.")),this.addMethod(new S("getNumericValue",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return e[1].value.charCodeAt(0)}),!1,!0,"Wandelt das Zeichen in einen numerischen Wert (Unicode-Wert) um.")),this.addMethod(new S("isLetter",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null!=e[1].value.match(/[a-z√§√∂√º√ü]/i)}),!1,!0,"Gibt genau dann true zur√ºck, wenn das Zeichen ein deutsches Alphabet-Zeichen ist.")),this.addMethod(new S("isLetterOrDigit",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null!=e[1].value.match(/[a-z√§√∂√º√ü0-9]/i)}),!1,!0,"Gibt genau dann true zur√ºck, wenn das Zeichen ein deutsches Alphabet-Zeichen oder eine Ziffer ist.")),this.addMethod(new S("isDigit",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null!=e[1].value.match(/[0-9]/i)}),!1,!0,"Gibt genau dann true zur√ºck, wenn das Zeichen eine Ziffer ist.")),this.addMethod(new S("isWhitespace",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null!=e[1].value.match(/[ \r\n\t]/i)}),!1,!0,"Gibt genau dann true zur√ºck, wenn das Zeichen ein Leerzeichen, Tabulatorzeichen oder Zeilenumbruch ist.")),this.addMethod(new S("toUpperCase",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return e[1].value.toLocaleUpperCase()}),!1,!0,"Wandelt das Zeichen in Gro√üschreibung um.")),this.addMethod(new S("toLowerCase",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return e[1].value.toLocaleLowerCase()}),!1,!0,"Wandelt das Zeichen in Kleinschreibung um.")),this.addMethod(new S("valueOf",new P([{identifier:"char-value",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Wandelt den char-Wert in ein Character-Objekt um."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&be(n.prototype,i),r&&be(n,r),t}(G);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=Oe(t).call(this,"Boolean",null,"Wrapper-Klasse, um boolean-Werte in Collections verenden zu k√∂nnen."))||"object"!==Te(r)&&"function"!=typeof r?Ce(i):r).unboxableAs=[],n.baseClass=e,n.addAttribute(new k("TRUE",Ce(n),(function(e){e.value=!0}),!0,j.public,!0,"das Boolean-Objekt, das TRUE repr√§sentiert")),n.addAttribute(new k("FALSE",Ce(n),(function(e){e.value=!1}),!0,j.public,!0,"das Boolean-Objekt, das FALSE repr√§sentiert")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||je(Oe(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[ct],this.addMethod(new S("Boolean",new P([{identifier:"boolean-value",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Boolean-Objekt",!0)),this.addMethod(new S("Boolean",new P([{identifier:"string-value",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=null!=e[1]&&"true"==e[1].value.toLowerCase()}),!1,!1,'Instanziert ein neues Boolean-Objekt: Es nimmt genau dann den Wert true an, wenn die √ºbergebene Zeichenkette ohne Ber√ºcksichtigung von Klein-/Gro√üschreibung den Wert "true" hat.',!0)),this.addMethod(new S("booleanValue",new P([]),ct,(function(e){return e[0].value}),!1,!1,"Wandelt das Boolean-Objekt in einen boolean-Wert um")),this.addMethod(new S("compareTo",new P([{identifier:"anotherBoolean",type:this,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return e[0].value==e[1].value?0:1}),!1,!1,"Gibt genau dann 0 zur√ºck, wenn der Wert des Objekts gleich dem √ºbergebenen Wert ist, ansonsten 1.")),this.addMethod(new S("equals",new P([{identifier:"anotherBoolean",type:this,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Wert gleich dem √ºbergebenen Wert ist.")),this.addMethod(new S("toString",new P([]),ht,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur√ºck.")),this.addMethod(new S("hashCode",new P([]),st,(function(e){return e[0].value?0:1}),!1,!1,"Gibt den hashCode des Objekts zur√ºck.")),this.addMethod(new S("booleanValue",new P([]),ct,(function(e){return e[0].value}),!1,!1,"Gibt den boolean-Wert des Objekts zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"boolean-value",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Wandelt den boolean-Wert in ein Boolean-Objekt um.")),this.addMethod(new S("valueOf",new P([{identifier:"string-value",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null!=e[1].value&&"true"==e[1].value.toLowerCase()}),!1,!0,'Wandelt die Zeichenkette in einen boolean-Wert um. Er ergibt true genau dann, wenn die Zeichenkette != null ist und - ohne Ber√ºcksichtigung von Klein-/Gro√üschreibung - den Wert "true" hat.')),this.addMethod(new S("parseBoolean",new P([{identifier:"string-value",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null!=e[1].value&&"true"==e[1].value.toLowerCase()}),!1,!0,'Wandelt die Zeichenkette in einen boolean-Wert um. Er ergibt true genau dann, wenn die Zeichenkette != null ist und - ohne Ber√ºcksichtigung von Klein-/Gro√üschreibung - den Wert "true" hat.'))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Me(n.prototype,i),r&&Me(n,r),t}(G);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ie(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e,t,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be,Re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ie(this,ze(t).call(this,"Double",null,"Wrapper-Klasse, um double-Werte in Collections verenden zu k√∂nnen."))).unboxableAs=[],n.baseClass=e,n.addAttribute(new k("MAX_VALUE",ut,(function(e){e.value=Number.MAX_VALUE}),!0,j.public,!0,"Der gr√∂√üte Wert, den eine Variable vom Typ double annehmen kann")),n.addAttribute(new k("MIN_VALUE",ut,(function(e){e.value=Number.MIN_VALUE}),!0,j.public,!0,"Der kleinste Wert, den eine Variable vom Typ double annehmen kann")),n.addAttribute(new k("NaN_VALUE",ut,(function(e){e.value=Number.NaN}),!0,j.public,!0,'Der "Not a Number"-Wert vom Typ double')),n.addAttribute(new k("NEGATIVE_INFINITY",ut,(function(e){e.value=Number.NEGATIVE_INFINITY}),!0,j.public,!0,'Der "negative infinity"-Wert vom Typ double')),n.addAttribute(new k("POSITIVE_INFINITY",ut,(function(e){e.value=Number.POSITIVE_INFINITY}),!0,j.public,!0,'Der "positive infinity"-Wert vom Typ double')),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,e),n=t,(i=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||_e(ze(t.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[ut],this.addMethod(new S("Double",new P([{identifier:"double-value",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Double-Objekt",!0)),this.addMethod(new S("Double",new P([{identifier:"int-value",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Double-Objekt",!0)),this.addMethod(new S("Double",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseFloat(e[1].value)}),!1,!1,"Instanziert ein neues Double-Objekt, indem die √ºbergebene Zeichenkette in einen double-Wert umgewandelt wird.",!0)),this.addMethod(new S("doubleValue",new P([]),ut,(function(e){return e[0].value}),!1,!1,"Wandelt das Double-Objekt in einen double-Wert um.")),this.addMethod(new S("floatValue",new P([]),lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Double-Objekt in einen float-Wert um.")),this.addMethod(new S("intValue",new P([]),st,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Wandelt das Double-Objekt durch Abrunden in einen int-Wert um.")),this.addMethod(new S("compareTo",new P([{identifier:"anotherDouble",type:this,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert gr√∂√üer als der √ºbergebene Wert, so wird +1 zur√ºckgegeben. Ist er kleiner, so wird -1 zur√ºckgegeben. Sind die Werte gleich, so wird 0 zur√ºckgegeben.")),this.addMethod(new S("equals",new P([{identifier:"anotherDouble",type:this,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Wert gleich dem √ºbergebenen Wert ist.")),this.addMethod(new S("toString",new P([]),ht,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur√ºck.")),this.addMethod(new S("hashCode",new P([]),st,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Gibt den hashCode des Objekts zur√ºck.")),this.addMethod(new S("parseDouble",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen double-Wert um")),this.addMethod(new S("toString",new P([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return""+e[1].value}),!1,!0,"Gibt die √ºbergebene Zahl als String-Wert zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die √ºbergebene Zahl als Double-Objekt zur√ºck.")),this.addMethod(new S("valueOf",new P([{identifier:"s",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Interpretiert die √ºbergebene Zeichenkette als Dezimalzahl und gib sie als Double-Objekt zur√ºck.")),this.addMethod(new S("isNaN",new P([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return Number.isNaN(e[1].value)}),!1,!0,"Gibt genau dann true zur√ºck, falls die √ºbergebene double-Zahl NaN (not a Number) ist.")),this.addMethod(new S("isNaN",new P([]),ct,(function(e){return Number.isNaN(e[0].value)}),!1,!1,"Gibt genau dann true zur√ºck, falls das Objekt NaN (not a Number) ist.")),this.addMethod(new S("isInfinite",new P([{identifier:"f",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return e[1].value==1/0}),!1,!0,"Gibt genau dann true zur√ºck, falls die √ºbergebene double-Zahl INFINTITY ist.")),this.addMethod(new S("isInfinite",new P([]),ct,(function(e){return e[0].value==1/0}),!1,!1,"Gibt genau dann true zur√ºck, falls das Objekt INFINITY ist."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Fe(n.prototype,i),r&&Fe(n,r),t}(G);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t,n){return(Ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ue(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function He(e,t,n){return t&&Ve(e.prototype,t),n&&Ve(e,n),e}function Ke(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?Qe(e):t}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(e){function t(){var e;return $e(this,t),(e=Ke(this,Ue(t).call(this))).identifier="null",e}return Ze(t,e),He(t,[{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return e instanceof G||e instanceof V}},{key:"castTo",value:function(e,t){return e}},{key:"equals",value:function(e){return e instanceof G||e instanceof V}},{key:"debugOutput",value:function(e){return"null"}}]),t}(b),Ye=function(e){function t(){var e;return $e(this,t),(e=Ke(this,Ue(t).call(this))).identifier="var",e}return Ze(t,e),He(t,[{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return e instanceof G||e instanceof V}},{key:"castTo",value:function(e,t){return e}},{key:"equals",value:function(e){return e instanceof G||e instanceof V}},{key:"debugOutput",value:function(e){return"var"}}]),t}(b),Je=function(e){function t(){return $e(this,t),Ke(this,Ue(t).apply(this,arguments))}return Ze(t,e),He(t,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="int",this.description="ganze Zahl",this.operationTable=(Ne(e={},r.plus,{int:st,Integer:st,float:lt,Float:lt,double:ut,Double:ut,String:ht}),Ne(e,r.minus,{none:st,int:st,Integer:st,float:lt,Float:lt,double:ut,Double:ut}),Ne(e,r.multiplication,{int:st,Integer:st,float:lt,Float:lt,double:ut,Double:ut}),Ne(e,r.modulo,{int:st,Integer:st}),Ne(e,r.division,{int:st,Integer:st,float:lt,Float:lt,double:ut,Double:ut}),Ne(e,r.doublePlus,{none:st}),Ne(e,r.doubleMinus,{none:st}),Ne(e,r.negation,{none:st}),Ne(e,r.tilde,{none:st}),Ne(e,r.lower,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.greater,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.lowerOrEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.greaterOrEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.equal,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.notEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.OR,{int:st,Integer:st}),Ne(e,r.XOR,{int:st,Integer:st}),Ne(e,r.ampersand,{int:st,Integer:st}),Ne(e,r.shiftLeft,{int:st,Integer:st}),Ne(e,r.shiftRight,{int:st,Integer:st}),Ne(e,r.shiftRightUnsigned,{int:st,Integer:st}),e),this.canCastToMap={float:{automatic:!0,needsStatement:!1},double:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},char:{automatic:!0,needsStatement:!0},int:{automatic:!0,needsStatement:!1},Integer:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.integerConstant}},{key:"castTo",value:function(e,t){return t==lt||t==ut?{type:t,value:e.value}:t==ht?{type:t,value:""+e.value}:t==pt?{type:t,value:String.fromCharCode(e.value)}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return n.type,i+n.value;case r.minus:return null==n?-i:i-n.value;case r.multiplication:return i*n.value;case r.division:return n.type==st?Math.trunc(i/n.value):i/n.value;case r.modulo:return n.type==st?Math.trunc(i%n.value):1;case r.doublePlus:return i++;case r.doubleMinus:return i--;case r.negation:return-i;case r.tilde:return~i;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value;case r.OR:return i|n.value;case r.XOR:return i^n.value;case r.ampersand:return i&n.value;case r.shiftLeft:return i<<n.value;case r.shiftRight:return i>>n.value;case r.shiftRightUnsigned:return i>>>n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(w),et=function(e){function t(){return $e(this,t),Ke(this,Ue(t).apply(this,arguments))}return Ze(t,e),He(t,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="float",this.description="Flie√ükommazahl mit einfacher Genauigkeit",this.operationTable=(Ne(e={},r.plus,{Integer:lt,int:lt,float:lt,Float:lt,double:ut,Double:ut,String:ht}),Ne(e,r.minus,{none:lt,Integer:lt,int:lt,float:lt,Float:lt,double:ut,Double:ut}),Ne(e,r.multiplication,{Integer:lt,int:lt,float:lt,Float:lt,double:ut,Double:ut}),Ne(e,r.division,{Integer:lt,int:lt,float:lt,Float:lt,double:ut,Double:ut}),Ne(e,r.doublePlus,{none:lt}),Ne(e,r.doubleMinus,{none:lt}),Ne(e,r.negation,{none:lt}),Ne(e,r.lower,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.greater,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.lowerOrEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.greaterOrEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.equal,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.notEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),e),this.canCastToMap={int:{automatic:!1,needsStatement:!0},double:{automatic:!0,needsStatement:!1},float:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},Float:{automatic:!0,needsStatement:!1},Double:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.floatingPointConstant}},{key:"castTo",value:function(e,t){return t==ht?{type:t,value:""+e.value}:t==st?{type:t,value:Math.trunc(e.value)}:t==ut?{type:t,value:e.value}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return n.type,i+n.value;case r.minus:return null==n?-i:i-n.value;case r.multiplication:return i*n.value;case r.division:return i/n.value;case r.doublePlus:return i++;case r.doubleMinus:return i--;case r.negation:return-i;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(w),tt=function(e){function t(){return $e(this,t),Ke(this,Ue(t).apply(this,arguments))}return Ze(t,e),He(t,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="double",this.description="Flie√ükommazahl mit doppelter Genauigkeit",this.operationTable=(Ne(e={},r.plus,{int:ut,Integer:ut,float:ut,Float:ut,double:ut,Double:ut,String:ht}),Ne(e,r.minus,{none:ut,int:ut,Integer:ut,float:ut,Float:ut,double:ut,Double:ut}),Ne(e,r.multiplication,{int:ut,Integer:ut,float:ut,Float:ut,double:ut,Double:ut}),Ne(e,r.division,{int:ut,Integer:ut,float:ut,Float:ut,double:ut,Double:ut}),Ne(e,r.doublePlus,{none:ut}),Ne(e,r.doubleMinus,{none:ut}),Ne(e,r.negation,{none:ut}),Ne(e,r.lower,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.greater,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.lowerOrEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.greaterOrEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.equal,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),Ne(e,r.notEqual,{int:ct,float:ct,double:ct,Integer:ct,Float:ct,Double:ct}),e),this.canCastToMap={int:{automatic:!1,needsStatement:!0},float:{automatic:!0,needsStatement:!1},double:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},Float:{automatic:!0,needsStatement:!1},Double:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.floatingPointConstant}},{key:"castTo",value:function(e,t){return t==ht?{type:t,value:""+e.value}:t==st?{type:t,value:Math.trunc(e.value)}:t==lt?{type:t,value:e.value}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return n.type,i+n.value;case r.minus:return null==n?-i:i-n.value;case r.multiplication:return i*n.value;case r.division:return i/n.value;case r.doublePlus:return i++;case r.doubleMinus:return i--;case r.negation:return-i;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(w),nt=function(e){function t(){return $e(this,t),Ke(this,Ue(t).apply(this,arguments))}return Ze(t,e),He(t,[{key:"init",value:function(){var e;this.initialValue=!1,this.identifier="boolean",this.description="boolescher Wert (true oder false)",this.operationTable=(Ne(e={},r.plus,{String:ht}),Ne(e,r.and,{boolean:ct}),Ne(e,r.or,{boolean:ct}),Ne(e,r.not,{none:ct}),Ne(e,r.equal,{boolean:ct}),Ne(e,r.notEqual,{boolean:ct}),e),this.canCastToMap={String:{automatic:!0,needsStatement:!0},boolean:{automatic:!0,needsStatement:!1},Boolean:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.booleanConstant}},{key:"castTo",value:function(e,t){if(t==ht)return{type:t,value:""+e.value}}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return i+n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value;case r.and:return i&&n.value;case r.or:return i||n.value;case r.not:return!i}}},{key:"debugOutput",value:function(e){return""+e.value}}]),t}(w),it=function(e){function t(){return $e(this,t),Ke(this,Ue(t).apply(this,arguments))}return Ze(t,e),He(t,[{key:"init",value:function(){this.initialValue=!1,this.identifier="void",this.description="leerer R√ºckgabewert",this.operationTable={},this.canCastToMap={}}},{key:"toTokenType",value:function(){return r.keywordVoid}},{key:"castTo",value:function(e,t){return e}},{key:"compute",value:function(e,t,n){return null}},{key:"debugOutput",value:function(e){return"void"}}]),t}(w),rt=function(e){function t(e){var n;$e(this,t),(n=Ke(this,Ue(t).call(this,"String",null,"Ein Objekt der Klasse String speichert eine Zeichenkette."))).baseClass=e;var i=Qe(n);return e.methods.filter((function(e){return"toString"==e.identifier})).forEach((function(e){return e.returnType=i})),n}return Ze(t,e),He(t,[{key:"toTokenType",value:function(){return r.stringConstant}},{key:"getResultType",value:function(e,n){if(e==r.keywordInstanceof)return Ge(Ue(t.prototype),"getResultType",this).call(this,e,n);var i=this.operationTable[e];return null==i?null:null!=n?i[n.identifier]:i.none}},{key:"init",value:function(){var e;this.operationTable=(Ne(e={},r.plus,{String:ht,int:ht,float:ht,double:ut,boolean:ht,char:ht}),Ne(e,r.equal,{String:ct,null:ct}),Ne(e,r.notEqual,{String:ct,null:ct}),Ne(e,r.lower,{String:ct}),Ne(e,r.greater,{String:ct}),Ne(e,r.lowerOrEqual,{String:ct}),Ne(e,r.greaterOrEqual,{String:ct}),e),this.addMethod(new S("length",new P([]),st,(function(e){return e[0].value.length}),!1,!1,"L√§nge der Zeichenkette, d.h. Anzahl der Zeichen in der Zeichenkette.")),this.addMethod(new S("charAt",new P([{identifier:"Position",type:st,declaration:null,usagePositions:null,isFinal:!1}]),pt,(function(e){return e[0].value.charAt(e[1].value)}),!1,!1,"Zeichen an der gegebenen Position.\n**Bem.: ** Position == 0 bedeutet das erste Zeichen in der Zeichenkette, Position == 1 das zweite usw. .")),this.addMethod(new S("equals",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ct,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann **wahr** zur√ºck, wenn die zwei Zeichenketten √ºbereinstimmen (unter Ber√ºcksichtigung von Klein-/Gro√üschreibung).")),this.addMethod(new S("compareTo",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),st,(function(e){return e[0].value.localeCompare(e[1].value,"de",{caseFirst:"upper"})}),!1,!1,"Vergleicht den String mit dem √ºbergebenen String. Gibt -1 zur√ºck, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind.")),this.addMethod(new S("compareToIgnoreCase",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),st,(function(e){return e[0].value.localeCompare(e[1].value,"de",{sensitivity:"accent"})}),!1,!1,"Vergleicht den String mit dem √ºbergebenen String. Gibt -1 zur√ºck, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind.")),this.addMethod(new S("equalsIgnoreCase",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ct,(function(e){return e[0].value.toLowerCase()==e[1].value.toLowerCase()}),!1,!1,"Gibt genau dann **wahr** zur√ºck, wenn die zwei Zeichenketten √ºbereinstimmen (**ohne** Ber√ºcksichtigung von Klein-/Gro√üschreibung).")),this.addMethod(new S("endsWith",new P([{identifier:"suffix",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ct,(function(e){return e[0].value.endsWith(e[1].value)}),!1,!1,"Gibt genau dann **wahr** zur√ºck, wenn die Zeichenkette mit der √ºbergebenen Zeichenkette ( = suffix) endet. Klein-/Gro√üschreibung wird dabei ber√ºcksichtigt!")),this.addMethod(new S("startsWith",new P([{identifier:"pr√§fix",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ct,(function(e){return e[0].value.startsWith(e[1].value)}),!1,!1,"Gibt genau dann **wahr** zur√ºck, wenn die Zeichenkette mit der √ºbergebenen Zeichenkette ( = pr√§fix) beginnt. Klein-/Gro√üschreibung wird dabei ber√ºcksichtigt!")),this.addMethod(new S("toLowerCase",new P([]),ht,(function(e){return e[0].value.toLocaleLowerCase()}),!1,!1,"Gibt die Zeichenkette zur√ºck, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Gro√übuchstaben durch den entsprechenden Kleinbuchstaben ersetzt.\n**Bemerkung: ** Die Methode ver√§ndert die Zeichenkette selbst nicht.")),this.addMethod(new S("toUpperCase",new P([]),ht,(function(e){return e[0].value.toLocaleUpperCase()}),!1,!1,"Gibt die Zeichenkette zur√ºck, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Kleinbuchstaben durch den entsprechenden Gro√übuchstaben ersetzt.\n**Bemerkung: ** Die Methode ver√§ndert die Zeichenkette selbst nicht.")),this.addMethod(new S("substring",new P([{identifier:"beginIndex",type:st,declaration:null,usagePositions:null,isFinal:!1}]),ht,(function(e){return e[0].value.substring(e[1].value)}),!1,!1,"Gibt das hintere Ende der Zeichenkette ab **beginIndex** zur√ºck. **beginIndex** == 1 bedeutet, dass die Zeichenkette ab dem 2.(!) Zeichen zur√ºckgegeben wird. ")),this.addMethod(new S("substring",new P([{identifier:"beginIndex",type:st,declaration:null,usagePositions:null,isFinal:!1},{identifier:"endIndex",type:st,declaration:null,usagePositions:null,isFinal:!1}]),ht,(function(e){return e[0].value.substring(e[1].value,e[2].value)}),!1,!1,"Gibt die Teil-Zeichenkette von **beginIndex** bis **endIndex** zur√ºck.\n**Vorsicht: ** beginIndex und endIndex sind nullbasiert, d.h. beginIndex == 0 bedeutet die Position vor dem ersten Zeichen.")),this.addMethod(new S("trim",new P([]),ht,(function(e){return e[0].value.trim()}),!1,!1,"Gibt die Zeichenkette zur√ºck, die entsteht, wenn man am Anfang und Ende der Zeichenkette alle Leerzeichen, Tabs und Zeilenumbr√ºche entfernt.")),this.addMethod(new S("isEmpty",new P([]),ct,(function(e){return""==e[0].value}),!1,!1,"Gibt genau dann wahr zur√ºck, wenn die Zeichenkette leer ist.\n**Warnung: ** Die Methode darf nicht mit dem '''null'''-Objekt aufgerufen werden!")),this.addMethod(new S("indexOf",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),st,(function(e){return e[0].value.indexOf(e[1].value)}),!1,!1,"Gibt die erste Position zur√ºck, an der **otherString** in der Zeichenkette gefunden wird.")),this.addMethod(new S("indexOf",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1},{identifier:"fromIndex",type:st,declaration:null,usagePositions:null,isFinal:!1}]),st,(function(e){return e[0].value.indexOf(e[1].value,e[2].value)}),!1,!1,"Gibt die erste Position zur√ºck, an der **otherString** in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex mit der Suche begonnen.")),this.addMethod(new S("lastIndexOf",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),st,(function(e){return e[0].value.lastIndexOf(e[1].value)}),!1,!1,"Gibt die letzte Position zur√ºck, bei der otherString in der Zeichenkette gefunden wird.")),this.addMethod(new S("lastIndexOf",new P([{identifier:"otherString",type:ht,declaration:null,usagePositions:null,isFinal:!1},{identifier:"fromIndex",type:st,declaration:null,usagePositions:null,isFinal:!1}]),st,(function(e){return e[0].value.lastIndexOf(e[1].value,e[2].value)}),!1,!1,"Gibt die letzte Position zur√ºck, bei der otherString in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex - von rechts her beginnend - gesucht.")),this.addMethod(new S("replace",new P([{identifier:"target",type:ht,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ht,(function(e){return e[0].value.replace(e[1].value,e[2].value)}),!1,!1,"Ersetzt alle Vorkommen von **target** durch **replacement** und gibt die entstandene Zeichenkette zur√ºck. Die Zeichenkette selbst wird nicht ver√§ndert.")),this.addMethod(new S("replaceAll",new P([{identifier:"regex",type:ht,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ht,(function(e){var t=e[1].value,n=new RegExp(t,"g");return e[0].value.replace(n,e[2].value)}),!1,!1,"Durchsucht den String mit dem regul√§ren Ausdruck (regex) und ersetzt **alle** Fundstellen durch **replacement**.")),this.addMethod(new S("replaceFirst",new P([{identifier:"regex",type:ht,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),ht,(function(e){var t=e[1].value,n=new RegExp(t,"");return e[0].value.replace(n,e[2].value)}),!1,!1,"Durchsucht den String mit dem regul√§ren Ausdruck (regex) und ersetzt **die erste** Fundstelle durch **replacement**.")),this.addMethod(new S("split",new P([{identifier:"regex",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),new Y(ht),(function(e){var t=e[1].value,n=new RegExp(t,""),i=e[0].value.split(n),r=[],o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push({type:ht,value:c})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return r}),!1,!1,"Teilt die Zeichenkette an den Stellen, die durch den regul√§ren Ausdruck (regex) definiert sind, in Teile auf. Die Fundstellen des regex werden dabei weggelassen. Gibt die Teile als String-Array zur√ºck."))}},{key:"compute",value:function(e,n,i){var o=n.value;switch(e){case r.plus:return i.type==ht||i.type==pt||i.type,o+i.value;case r.lower:return o.localeCompare(i.value,"de",{caseFirst:"upper"})<0;case r.greater:return o.localeCompare(i.value,"de",{caseFirst:"upper"})>0;case r.lowerOrEqual:return o.localeCompare(i.value,"de",{caseFirst:"upper"})<=0;case r.greaterOrEqual:return o.localeCompare(i.value,"de",{caseFirst:"upper"})>=0;case r.equal:return o==i.value;case r.notEqual:return o!=i.value;case r.keywordInstanceof:return Ge(Ue(t.prototype),"compute",this).call(this,e,n,i)}}},{key:"debugOutput",value:function(e){return'"'+e.value+'"'}}]),t}(G),ot=function(e){function t(){return $e(this,t),Ke(this,Ue(t).apply(this,arguments))}return Ze(t,e),He(t,[{key:"init",value:function(){var e;this.initialValue="\0",this.identifier="char",this.description="ein Zeichen",this.operationTable=(Ne(e={},r.plus,{String:ht,char:ht}),Ne(e,r.equal,{char:ct}),Ne(e,r.notEqual,{char:ct}),Ne(e,r.lower,{char:ct}),Ne(e,r.greater,{char:ct}),Ne(e,r.lowerOrEqual,{char:ct}),Ne(e,r.greaterOrEqual,{char:ct}),e),this.canCastToMap={int:{automatic:!0,needsStatement:!0},float:{automatic:!0,needsStatement:!0},double:{automatic:!0,needsStatement:!0},String:{automatic:!0,needsStatement:!1},char:{automatic:!0,needsStatement:!1},Character:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.charConstant}},{key:"castTo",value:function(e,t){return t==ht?e:t==st||t==lt||t==ut?{type:t,value:e.value.charCodeAt(0)}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return i+n.value;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return"'"+e.value+"'"}}]),t}(w),at=new it,st=new Je,lt=new et,ut=new tt,ct=new nt;O=ct;var dt=new ie(null),ht=new rt(dt),pt=new ot,ft=new qe,yt=new Ye,vt=new ce(dt),mt=new me(dt),gt=new Re(dt),bt=new xe(dt),wt=new Ae(dt),kt=(Ne(Be={},r.integerConstant,st),Ne(Be,r.floatingPointConstant,lt),Ne(Be,r.booleanConstant,ct),Ne(Be,r.stringConstant,ht),Ne(Be,r.charConstant,pt),Ne(Be,r.keywordNull,ft),Be);function St(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Pt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hexColorRegExp=/^#([a-fA-F0-9]{6})$/,this.rgbColorRegExp=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,this.rgbaColorRegExp=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/}var t,n,i;return t=e,(n=[{key:"getColorInfo",value:function(e){if(e.startsWith("#")){var t=e.match(this.hexColorRegExp);if(null==t)return null;var n=Number.parseInt(t[1],16);return{red:(n>>16)/255,green:(n>>8&255)/255,blue:(255&n)/255,alpha:1}}if(e.startsWith("rgb")){if(e.startsWith("rgba")){var i=e.match(this.rgbaColorRegExp);return null==i?null:{red:Number.parseInt(i[1])/255,green:Number.parseInt(i[2])/255,blue:Number.parseInt(i[3])/255,alpha:Number.parseFloat(i[4])}}var r=e.match(this.rgbColorRegExp);return null==r?null:{red:Number.parseInt(r[1])/255,green:Number.parseInt(r[2])/255,blue:Number.parseInt(r[3])/255,alpha:1}}return null}}])&&St(t.prototype,n),i&&St(t,i),e}();function xt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Tt,Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"intColorToHexRGB",value:function(e){if(null==e)return"---";for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t}},{key:"intColorToRGB",value:function(e){return null==e?"---":"rgb("+((16711680&e)>>16)+", "+((65280&e)>>8)+", "+(255&e)+")"}},{key:"parseColorToOpenGL",value:function(e){if(null==e)return{color:null,alpha:1};var t=this.predefinedColors[e];if(null!=t)return{color:t,alpha:1};var n=e.match(/^#([0-9a-f]{6})$/i);if(n&&n.length>1){var i=n[1];if(i)return{color:65536*parseInt(i.substr(0,2),16)+256*parseInt(i.substr(2,2),16)+parseInt(i.substr(4,2),16),alpha:1}}var r=e.match(/^#([0-9a-f]{8})$/i);if(r&&r.length>1){var o=r[1];if(o)return{color:65536*parseInt(o.substr(0,2),16)+256*parseInt(o.substr(2,2),16)+parseInt(o.substr(4,2),16),alpha:parseInt(o.substr(6,2),16)/255}}var a=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);return a?{color:65536*parseInt(a[1])+256*parseInt(a[2])+parseInt(a[3]),alpha:1}:(a=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+\.?\d+)\s*\)$/i))?{color:65536*parseInt(a[1])+256*parseInt(a[2])+parseInt(a[3]),alpha:parseFloat(a[4])}:{color:16711680,alpha:1}}}],(n=null)&&xt(t.prototype,n),i&&xt(t,i),e}();function Ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Mt.predefinedColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedAlmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grau:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldLace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,sand:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},function(e){e[e.number=0]="number",e[e.identifier=1]="identifier",e[e.stringConstant=2]="stringConstant",e[e.characterConstant=3]="characterConstant",e[e.multilineComment=4]="multilineComment",e[e.EndoflineComment=5]="EndoflineComment"}(Tt||(Tt={}));var jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorLexer=new Pt,this.spaceTokens=[r.space,r.tab,r.newline],this.correspondingBracket={},this.correspondingBracket[r.leftBracket]=r.rightBracket,this.correspondingBracket[r.leftCurlyBracket]=r.rightCurlyBracket,this.correspondingBracket[r.leftSquareBracket]=r.rightSquareBracket,this.correspondingBracket[r.rightBracket]=r.leftBracket,this.correspondingBracket[r.rightCurlyBracket]=r.leftCurlyBracket,this.correspondingBracket[r.rightSquareBracket]=r.leftSquareBracket}var t,n,i;return t=e,(n=[{key:"lex",value:function(e){if(this.input=e.replace("¬†"," "),this.tokenList=[],this.errorList=[],this.bracketError=null,this.bracketStack=[],this.pos=0,this.line=1,this.column=1,this.nonSpaceLastTokenType=null,this.colorInformation=[],this.colorIndices=[],0==e.length)return{tokens:this.tokenList,errors:this.errorList,bracketError:null,colorInformation:[]};for(this.currentChar=e.charAt(0),this.nextChar=e.length>1?e.charAt(1):"‚ñ∫";"‚ñ∫"!=this.currentChar;)this.mainState();if(this.bracketStack.length>0){var t=this.bracketStack.pop(),n=this.correspondingBracket[t];this.setBracketError(a[t]+" "+a[n])}return this.processColorIndices(),{tokens:this.tokenList,errors:this.errorList,bracketError:this.bracketError,colorInformation:this.colorInformation}}},{key:"processColorIndices",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=this.colorIndices[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=this.tokenList[a],l=this.getLastNonSpaceToken(a);if((null==l?void 0:l.tt)==r.keywordNew){var u=this.getNextNonSpaceTokens(a,7);this.compareTokenTypes(u,[r.leftBracket,r.integerConstant,r.comma,r.integerConstant,r.comma,r.integerConstant,r.rightBracket])&&this.colorInformation.push({color:{red:u[1].value/255,green:u[3].value/255,blue:u[5].value/255,alpha:1},range:{startLineNumber:l.position.line,startColumn:l.position.column,endLineNumber:u[6].position.line,endColumn:u[6].position.column+1}})}else{var c=this.getNextNonSpaceTokens(a,2);if(this.compareTokenTypes(c,[r.dot,r.identifier])){var d=c[1].value,h=Mt.predefinedColors[d];null!=h&&this.colorInformation.push({color:{red:(h>>16)/255,green:(h>>8&255)/255,blue:(255&h)/255,alpha:1},range:{startLineNumber:s.position.line,startColumn:s.position.column,endLineNumber:c[1].position.line,endColumn:c[1].position.column+d.length}})}}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"compareTokenTypes",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].tt!=t[n])return!1;return!0}},{key:"getNextNonSpaceTokens",value:function(e,t){for(var n=[],i=e;n.length<t&&i+1<this.tokenList.length;){var o=this.tokenList[i+1];[r.space,r.newline].indexOf(o.tt)<0&&n.push(o),i++}return n}},{key:"getLastNonSpaceToken",value:function(e){for(var t=e;t-1>0;){var n=this.tokenList[t-1];if([r.space,r.newline].indexOf(n.tt)<0)return n;t--}return null}},{key:"checkClosingBracket",value:function(e){if(0!=this.bracketStack.length){var t=this.bracketStack.pop(),n=this.correspondingBracket[t];e!=n&&this.setBracketError(a[t]+" "+a[n])}else{var i=this.correspondingBracket[e];this.setBracketError(a[i]+" "+a[e])}}},{key:"setBracketError",value:function(e){null==this.bracketError&&(this.bracketError=e)}},{key:"next",value:function(){this.pos++,this.currentChar=this.nextChar,this.pos+1<this.input.length?this.nextChar=this.input.charAt(this.pos+1):this.nextChar="‚ñ∫",this.column++}},{key:"mainState",value:function(){var e=this.currentChar,t=s[e];if(null!=t){switch(t){case r.leftSquareBracket:return"]"==this.nextChar?(this.pushToken(r.leftRightSquareBracket,"[]"),this.next(),void this.next()):(this.pushToken(r.leftSquareBracket,"["),this.bracketStack.push(t),void this.next());case r.rightSquareBracket:this.checkClosingBracket(t);break;case r.leftBracket:this.bracketStack.push(t);break;case r.rightBracket:this.checkClosingBracket(t);break;case r.leftCurlyBracket:this.bracketStack.push(t);break;case r.rightCurlyBracket:this.checkClosingBracket(t);break;case r.and:return"&"==this.nextChar?(this.pushToken(r.and,"&&"),this.next(),void this.next()):"="==this.nextChar?(this.pushToken(r.ANDAssigment,"&="),this.next(),void this.next()):(this.pushToken(r.ampersand,"&"),void this.next());case r.or:return"|"==this.nextChar?(this.pushToken(r.or,"||"),this.next(),void this.next()):"="==this.nextChar?(this.pushToken(r.ORAssigment,"&="),this.next(),void this.next()):(this.pushToken(r.OR,"|"),void this.next());case r.XOR:return"="==this.nextChar?(this.pushToken(r.XORAssigment,"^="),this.next(),void this.next()):(this.pushToken(r.XOR,"^"),void this.next());case r.multiplication:return"="==this.nextChar?(this.pushToken(r.multiplicationAssignment,"*="),this.next(),void this.next()):(this.pushToken(r.multiplication,"*"),void this.next());case r.not:return"="==this.nextChar?(this.pushToken(r.notEqual,"!="),this.next(),void this.next()):(this.pushToken(r.not,"!"),void this.next());case r.division:return"="==this.nextChar?(this.pushToken(r.divisionAssignment,"/="),this.next(),void this.next()):"*"==this.nextChar?void this.lexMultilineComment():"/"==this.nextChar?void this.lexEndofLineComment():(this.pushToken(r.division,"/"),void this.next());case r.modulo:return"="==this.nextChar?(this.pushToken(r.moduloAssignment,"%="),this.next(),void this.next()):(this.pushToken(r.modulo,"/"),void this.next());case r.plus:return"+"==this.nextChar?(this.pushToken(r.doublePlus,"++"),this.next(),void this.next()):!this.isDigit(this.nextChar,10)||[r.identifier,r.integerConstant,r.floatingPointConstant,r.rightBracket,r.rightSquareBracket].indexOf(this.nonSpaceLastTokenType)>=0?"="==this.nextChar?(this.pushToken(r.plusAssignment,"+="),this.next(),void this.next()):(this.pushToken(r.plus,"+"),void this.next()):void this.lexNumber();case r.lower:return"="==this.nextChar?(this.pushToken(r.lowerOrEqual,"<="),this.next(),void this.next()):"<"==this.nextChar?void this.lexShiftLeft():(this.pushToken(r.lower,"<"),void this.next());case r.greater:return"="==this.nextChar?(this.pushToken(r.greaterOrEqual,">="),this.next(),void this.next()):">"==this.nextChar?void this.lexShiftRight():(this.pushToken(r.greater,">"),void this.next());case r.dot:return"."==this.nextChar&&this.pos+2<this.input.length&&"."==this.input[this.pos+2]?(this.pushToken(r.ellipsis,"..."),this.next(),this.next(),void this.next()):(this.pushToken(r.dot,"."),void this.next());case r.assignment:return"="==this.nextChar?(this.pushToken(r.equal,"=="),this.next(),void this.next()):(this.pushToken(r.assignment,"="),void this.next());case r.minus:return"-"==this.nextChar?(this.pushToken(r.doubleMinus,"--"),this.next(),void this.next()):!this.isDigit(this.nextChar,10)||[r.identifier,r.integerConstant,r.floatingPointConstant,r.stringConstant,r.rightBracket,r.rightSquareBracket].indexOf(this.nonSpaceLastTokenType)>=0?"="==this.nextChar?(this.pushToken(r.minusAssignment,"-="),this.next(),void this.next()):(this.pushToken(r.minus,"-"),void this.next()):void this.lexNumber();case r.singleQuote:return void this.lexCharacterConstant();case r.doubleQuote:return void('"'==this.nextChar&&this.pos+3<this.input.length&&'"'==this.input[this.pos+2]?this.lexTripleQuoteStringConstant():this.lexStringConstant());case r.newline:return this.pushToken(r.newline,"\n"),this.line++,this.column=0,void this.next();case r.space:case r.tab:return void this.lexSpace();case r.linefeed:return void this.next();case r.at:return void this.lexAnnotation()}return this.pushToken(t,e),void this.next()}this.isDigit(e,10)?this.lexNumber():this.lexIdentifierOrKeyword()}},{key:"lexShiftRight",value:function(){this.next(),">"==this.nextChar?this.lexShiftRightUnsigned():"="==this.nextChar?(this.pushToken(r.shiftRightAssigment,">>="),this.next(),this.next()):(this.pushToken(r.shiftRight,">>"),this.next())}},{key:"lexShiftRightUnsigned",value:function(){this.next(),"="==this.nextChar?(this.pushToken(r.shiftRightUnsignedAssigment,">>>="),this.next(),this.next()):(this.pushToken(r.shiftRightUnsigned,">>>"),this.next())}},{key:"lexShiftLeft",value:function(){this.next(),"="==this.nextChar?(this.pushToken(r.shiftLeftAssigment,"<<="),this.next(),this.next()):(this.pushToken(r.shiftLeft,"<<"),this.next())}},{key:"pushToken",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.line,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.column,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(""+t).length,o={tt:e,value:t,position:{column:i,line:n,length:r}};this.spaceTokens.indexOf(e)>=0||(this.nonSpaceLastTokenType=e),this.tokenList.push(o)}},{key:"pushError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.line,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.column;this.errorList.push({text:e,position:{line:i,column:r,length:t},level:n})}},{key:"isDigit",value:function(e,t){var n=e.charCodeAt(0);return 10==t?n>=48&&n<=57:2==t?n>=48&&n<=49:8==t?n>=48&&n<=55:16==t?n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70:void 0}},{key:"lexSpace",value:function(){for(var e=this.column,t=this.line,n=this.pos;" "==this.currentChar||"\t"==this.currentChar;)this.next();var i=this.pos;this.pushToken(r.space,this.input.substring(n,i),t,e)}},{key:"lexCharacterConstant",value:function(){var e=this.column,t=this.line;this.next();var n=this.currentChar;if("\\"==n){var i=u[this.nextChar];null==i?(this.pushError("Die Escape-Sequenz \\"+this.nextChar+" gibt es nicht.",2),"'"!=this.nextChar&&(n=this.nextChar,this.next())):(n=i,this.next())}this.next(),"'"!=this.currentChar?this.pushError("Das Ende der char-Konstante wird erwartet (').",1):this.next(),this.pushToken(r.charConstant,n,t,e)}},{key:"lexStringConstant",value:function(){var e=this.line,t=this.column,n="";for(this.next();;){var i=this.currentChar;if("\\"!=i){if('"'==i){this.next();break}if("\n"==i||"‚ñ∫"==i){this.pushError("Innerhalb einer String-Konstante wurde das Zeilenende erreicht.",n.length+1,"error",e,t);break}n+=i,this.next()}else n+=i=this.parseStringLiteralEscapeCharacter()}this.pushToken(r.stringConstant,n,e,t,n.length+2);var o=this.colorLexer.getColorInfo(n);null!=o&&this.colorInformation.push({color:o,range:{startLineNumber:e,endLineNumber:e,startColumn:t+1,endColumn:this.column-1}})}},{key:"lexTripleQuoteStringConstant",value:function(){var e=this.line,t=this.column,n=[];this.next(),this.next(),this.next();for(var i="";["\n","\r"].indexOf(this.currentChar)<0&&"‚ñ∫"!=this.currentChar;)i+=this.currentChar,this.next();for((i=i.trim()).length>0&&!i.startsWith("//")&&!i.startsWith("/*")&&this.pushError('Eine Java-Multiline-Stringkonstante beginnt immer mit """ und einem nachfolgenden Zeilenumbruch. Alle nach """ folgenden Zeichen werden √ºberlesen!',i.length+3);["\n","\r"].indexOf(this.currentChar)>=0;)this.next();for(var o="";;){var a=this.currentChar;if("\\"==a)o+=this.parseStringLiteralEscapeCharacter();else{if('"'==a&&'"'==this.nextChar&&this.pos+2<this.input.length&&'"'==this.input[this.pos+2]){this.next(),this.next(),this.next(),n.push(o);break}if("‚ñ∫"==a){var s=0,l=!0,u=!1,c=void 0;try{for(var d,h=n[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)s+=d.value.length}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}this.pushError("Innerhalb einer String-Konstante wurde das Textende erreicht.",s,"error",e,t),n.push(o);break}if(["\n","\r"].indexOf(a)>=0){for(n.push(o),o="";["\n","\r"].indexOf(this.currentChar)>=0;)this.next();continue}o+=a}this.next()}if(0!=n.length){for(var p=n.pop(),f=0;p.length>f&&" "==p.charAt(f);)f++;var y;y=n.map((function(e){return e.substring(f)})).join("\n"),this.pushToken(r.stringConstant,y,e,t,y.length+2);var v=this.colorLexer.getColorInfo(y);null!=v&&this.colorInformation.push({color:v,range:{startLineNumber:e,endLineNumber:e,startColumn:t+1,endColumn:this.column-1}})}}},{key:"parseStringLiteralEscapeCharacter",value:function(){if(this.next(),"u"==this.currentChar){var e="";for(this.next();"abcdef0123456789".indexOf(this.currentChar)>=0&&e.length<4;)e+=this.currentChar,this.next();return e.length<4?(this.pushError("Die Escape-Sequenz \\u"+e+" gibt es nicht.",1+e.length),""):String.fromCodePoint(parseInt(e,16))}if(null!=u[this.currentChar]){var t=u[this.currentChar];return this.next(),t}return this.pushError("Die Escape-Sequenz \\"+this.currentChar+" gibt es nicht.",2),this.next(),""}},{key:"lexMultilineComment",value:function(){var e=this.line,t=this.column,n=!1,i="/*";for(this.next(),this.next();;){var o=this.currentChar;if("*"==o&&"/"==this.nextChar){this.next(),this.next(),i+="*/";break}if("‚ñ∫"==o){this.pushError("Innerhalb eines Mehrzeilenkommentars (/*... */) wurde das Dateiende erreicht.",1);break}"\n"==o?(this.line++,this.column=0,n=!0,i+=o):n&&" "==o||(i+=o,n=!1),this.next()}this.pushToken(r.comment,i,e,t)}},{key:"lexEndofLineComment",value:function(){var e=this.line,t=this.column,n="//";for(this.next(),this.next();;){var i=this.currentChar;if("\n"==i)break;if("‚ñ∫"==i)break;n+=i,this.next()}this.pushToken(r.comment,n,e,t)}},{key:"lexNumber",value:function(){var e=this.line,t=this.column,n=1;"-"==this.currentChar?(n=-1,this.next()):"+"==this.currentChar&&this.next();var i=this.pos,o=this.currentChar;this.next();var a=10;for("0"==o&&["b","x","0","1","2","3","4","5","6","7"].indexOf(this.currentChar)>=0&&("x"==this.currentChar?(a=16,this.next()):"b"==this.currentChar?(a=2,this.next()):a=8,i=this.pos);this.isDigit(this.currentChar,a);)this.next();var s=r.integerConstant;if("."==this.currentChar){for(s=r.floatingPointConstant,this.next();this.isDigit(this.currentChar,10);)this.next();10!=a&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i))}var l=this.input.substring(i,this.pos);i=this.pos;var u=0;if("e"==this.currentChar){this.next();var c=this.pos;for("-"==this.currentChar&&this.next();this.isDigit(this.currentChar,10);)this.next();10!=a&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i));var d=this.input.substring(c,this.pos);u=Number.parseInt(d)}"d"!=this.currentChar&&"f"!=this.currentChar||(r.floatingPointConstant,this.next(),10!=a&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i)));var h=s==r.integerConstant?Number.parseInt(l,a):Number.parseFloat(l);h*=n,0!=u&&(h*=Math.pow(10,u)),this.pushToken(s,h,e,t),16==a&&this.column-t==8&&this.colorInformation.push({color:{red:(h>>16)/255,green:(h>>8&255)/255,blue:(255&h)/255,alpha:1},range:{startLineNumber:e,endLineNumber:e,startColumn:t,endColumn:this.column}})}},{key:"lexAnnotation",value:function(){var e=this.line,t=this.column-1,n=this.pos;this.next();for(var i=this.currentChar;null==s[i]&&!this.isSpace(i)&&"‚ñ∫"!=i;)this.next(),i=this.currentChar;var o=this.pos,a=this.input.substring(n,o);this.pushToken(r.at,a,e,t,a.length+1)}},{key:"lexIdentifierOrKeyword",value:function(){for(var e=this.line,t=this.column,n=this.pos,i=this.currentChar;null==s[i]&&!this.isSpace(i)&&"‚ñ∫"!=i;)this.next(),i=this.currentChar;var o=this.pos,a=this.input.substring(n,o),u=l[a];if(null==u||"number"!=typeof u)"Color"==a&&this.colorIndices.push(this.tokenList.length),this.pushToken(r.identifier,a,e,t);else switch(u){case r.true:this.pushToken(r.booleanConstant,!0,e,t);break;case r.false:this.pushToken(r.booleanConstant,!1,e,t);break;case r.keywordPrint:case r.keywordPrintln:this.nonSpaceLastTokenType==r.dot?this.pushToken(r.identifier,a,e,t):this.pushToken(u,a,e,t);break;default:this.pushToken(u,a,e,t)}}},{key:"isSpace",value:function(e){return" "==e||"\n"==e}}])&&Ct(t.prototype,n),i&&Ct(t,i),e}();function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoFormatTriggerCharacters=["\n"],this.displayName="Java-Autoformat"}var t,n,i;return t=e,(n=[{key:"init",value:function(){monaco.languages.registerDocumentFormattingEditProvider("myJava",this),monaco.languages.registerOnTypeFormattingEditProvider("myJava",this)}},{key:"provideOnTypeFormattingEdits",value:function(e,t,n,i,r){var o=this.format(e);return Promise.resolve(o)}},{key:"deleteOverlappingRanges",value:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];if(!(n.range.endLineNumber<i.range.startLineNumber)&&n.range.endLineNumber==i.range.startLineNumber)if(n.range.endColumn>=i.range.startColumn)e.splice(t+1,1);else if(0==n.range.endColumn&&n.text.length>0&&1==i.range.startColumn&&i.range.endColumn>i.range.startColumn&&""==i.text){var r=n.text.length-(i.range.endColumn-i.range.startColumn);r>0?(n.text=n.text.substr(0,r),e.splice(t+1,1)):r<0?(i.range.endColumn=i.range.startColumn-r,e.splice(t,1),t--):(e.splice(t,2),t--)}}}},{key:"provideDocumentFormattingEdits",value:function(e,t,n){var i=this.format(e);return Promise.resolve(i)}},{key:"format",value:function(e){var t=[],n=e.getValue(monaco.editor.EndOfLinePreference.LF),i=(new jt).lex(n).tokens;if(null==i)return[];for(var o=null,a=0,s=[],l=[],u=!1,c=0,d=0,h=0;h<i.length;h++){var p=i[h];switch(c--,p.tt){case r.keywordSwitch:u=!0;break;case r.keywordCase:case r.keywordDefault:p.position.column>3&&this.deleteSpaces(t,p.position.line,1,3);break;case r.leftCurlyBracket:if(u&&(u=!1,l.push(a+2),a++),a++,s.push(p.position.line),null!=o){var f=o.tt;f!=r.rightBracket&&f!=r.identifier&&f!=r.leftRightSquareBracket||o.position.line==p.position.line&&this.replaceBetween(o,p,t," ")}if(h<i.length-1){var y=i[h+1];y.tt!=r.newline&&y.tt!=r.space&&this.insertSpaces(t,y.position.line,y.position.column,1)}break;case r.rightCurlyBracket:l[l.length-1]==a&&(l.pop(),a--,this.deleteSpaces(t,p.position.line,1,3)),a--;var v=s.pop();if(null!=v&&v!=p.position.line)null!=o&&o.position.line==p.position.line&&this.replace(t,p.position,p.position,"\n"+" ".repeat(3*a));else if(h>0){var m=i[h-1];m.tt!=r.space&&m.tt!=r.newline&&this.insertSpaces(t,p.position.line,p.position.column,1)}break;case r.leftBracket:if(d++,h<i.length-2){var g=i[h+1],b=i[h+2];g.tt==r.space&&b.tt!=r.newline&&(this.deleteSpaces(t,g.position.line,g.position.column,g.position.length),h++,b.tt==r.rightBracket&&(h++,d--))}if(h>1){var w=i[h-1],k=i[h-2];w.tt!=r.space||k.tt==r.newline||this.isBinaryOperator(k.tt)||1==w.position.length&&this.deleteSpaces(t,w.position.line,w.position.column,1)}break;case r.rightBracket:if(d--,h>1){var S=i[h-1],P=i[h-2];S.tt==r.space&&P.tt!=r.newline&&this.deleteSpaces(t,S.position.line,S.position.column,S.position.length)}break;case r.newline:if(c=2,h<i.length-2){var x=this.getNextNonSpaceToken(h,i),T=this.isBinaryOperator(null==o?void 0:o.tt)&&(null==o?void 0:o.tt)!=r.colon,M=this.isBinaryOperator(x.tt),C=i[h+1],j=i[h+2],O=0;if(C.tt==r.newline||x.tt==r.comment)break;var E=0;if(C.tt==r.space){if(j.tt==r.newline)break;O=C.position.length,h++,j.tt==r.rightCurlyBracket&&(E=-1)}C.tt==r.rightCurlyBracket&&(E=-1),(M||T)&&(E=1);var A=a+E;d>0&&A++,A<0&&(A=0);var D=3*A;D>O?this.insertSpaces(t,p.position.line+1,0,D-O):D<O&&this.deleteSpaces(t,p.position.line+1,0,O-D)}break;case r.space:h<i.length-1&&i[h+1].tt!=r.comment&&h>0&&i[h-1].tt!=r.newline&&p.position.length>1&&this.deleteSpaces(t,p.position.line,p.position.column,p.position.length-1);break;case r.comma:case r.semicolon:if(h>1){var F=i[h-1],I=i[h-2];F.tt==r.newline||I.tt==r.newline||this.isBinaryOperator(I.tt)||F.tt==r.space&&1==F.position.length&&this.deleteSpaces(t,F.position.line,F.position.column,1)}if(h<i.length-1){var _=i[h+1];_.tt!=r.comment&&_.tt!=r.space&&_.tt!=r.newline&&this.insertSpaces(t,_.position.line,_.position.column,1)}break;case r.rightSquareBracket:null!=o&&o.tt==r.leftSquareBracket&&this.replaceBetween(o,p,t,"")}if(this.isBinaryOperator(p.tt)){var z=p.tt==r.lower&&this.lowerBelongsToGenericExpression(h,i),L=p.tt==r.greater&&this.greaterBelongsToGenericExpression(h,i);if(c<=0&&null!=o&&[r.leftBracket,r.assignment,r.comma].indexOf(o.tt)<0){if(h>0){var B=i[h-1],R=z||L?0:1;B.tt==r.space?B.position.length!=R&&this.insertSpaces(t,B.position.line,B.position.column,R-B.position.length):1==R&&this.insertSpaces(t,p.position.line,p.position.column,1)}if(h<i.length-1){var W=i[h+1],G=z?0:1;W.tt==r.space?(L&&h<i.length-2&&i[h+2].tt==r.leftBracket&&(G=0),W.position.length!=G&&this.insertSpaces(t,W.position.line,W.position.column,G-W.position.length)):(L&&W.tt==r.leftBracket&&(G=0),1==G&&this.insertSpaces(t,W.position.line,W.position.column,1))}}}p.tt!=r.space&&p.tt!=r.newline&&(o=p)}return this.deleteOverlappingRanges(t),t}},{key:"getNextNonSpaceToken",value:function(e,t){if(e==t.length-1)return t[e];for(var n=e+1;n<t.length-1&&(t[n].tt==r.space||t[n].tt==r.return);)n++;return t[n]}},{key:"lowerBelongsToGenericExpression",value:function(e,t){for(var n=e+1;n<t.length;){var i=t[n].tt;if(i==r.greater)return!0;if([r.space,r.comma,r.identifier].indexOf(i)<0)return!1;n++}return!1}},{key:"greaterBelongsToGenericExpression",value:function(e,t){for(var n=e-1;n>=0;){var i=t[n].tt;if(i==r.lower)return!0;if([r.space,r.comma,r.identifier].indexOf(i)<0)return!1;n--}return!1}},{key:"isBinaryOperator",value:function(e){return null!=e&&e>=r.modulo&&e<=r.colon}},{key:"replaceBetween",value:function(e,t,n,i){var r={line:e.position.line,column:e.position.column+e.position.length},o={line:t.position.line,column:t.position.column};r.line==o.line&&o.column-r.column==i.length||this.replace(n,r,o,i)}},{key:"deleteSpaces",value:function(e,t,n,i){e.push({range:{startColumn:n,startLineNumber:t,endColumn:n+i+(0==n?1:0),endLineNumber:t},text:""})}},{key:"insertSpaces",value:function(e,t,n,i){i<0?this.deleteSpaces(e,t,n,-i):e.push({range:{startColumn:n,startLineNumber:t,endColumn:n,endLineNumber:t},text:" ".repeat(i)})}},{key:"replace",value:function(e,t,n,i){e.push({range:{startColumn:t.column,startLineNumber:t.line,endColumn:n.column,endLineNumber:n.line},text:i})}}])&&Ot(t.prototype,n),i&&Ot(t,i),e}();function At(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Dt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.themes=[],this.initThemes()}var t,n,i;return t=e,(n=[{key:"switchTheme",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.themes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.name==e){this.internalSwitchTheme(a);break}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"internalSwitchTheme",value:function(e){monaco.editor.setTheme(e.monacoTheme);for(var t=document.documentElement,n=0,i=Object.keys(e.cssColors);n<i.length;n++){var r=i[n],o=e.cssColors[r];t.style.setProperty(r,o)}}},{key:"initThemes",value:function(){this.themes.push({name:"dark",monacoTheme:"myCustomThemeDark",cssColors:{"--backgroundDark":"#1e1e1e","--backgroundLight":"#252526","--backgroundHeading":"#37373d","--backgroundSelected":"#2a2d2e","--fontColorNormal":"#c2cccc","--fontColorLight":"#e7e7e7","--slider":"#414141","--loginButtonBackgrond":"#59a15d","--loginButtonFontColor":"#000000","--loginMessageColor":"rgb(122, 48, 48)","--loginButtonHover":"#63a867","--loginButtonActive":"#94ffd1","--scrollbar":"#1e1e1e","--scrollbar-thumb":"#3e3e3e","--scrollbar-thumb-hover":"#5e5e5e","--scrollbar-thumb-active":"#7e7e7e","--submenu-hover":"#094771","--submenu-color":"#ffffff","--menuitemsdivider":"#616162","--file-hover":"hsla(0, 0%, 38%, 0.125)","--file-active":"#094771","--file-active-hover":"rgba(9, 71, 113, 0.827)","--file-errorcount":"red","--inplace-editor":"blue","--contextmenu-background":"#3c3c3c","--contextmenu-color":"rgb(212,212,212)","--contextmenu-hover-background":"#094771","--contextmenu-hover-color":"#ffffff","--error-filename":"#2a709e","--error-line-ative":"#094771","--error-line-hover":"rgba(96, 96, 96, 0.125)","--error-position":"#c0802d","--linecolumn":"#14c714","--reveal-error":"rgba(253, 101, 101, 0.745)","--reveal-method":"#2b2b7d2f","--reveal-errorline-background":"red","--reveal-error-whole-line":"rgba(255, 0, 0, 0.555)","--reveal-programpointer":"rgba(111, 214, 27, 0.337)","--reveal-syntaxelement":"rgb(85,85,85)","--margin-breakpoint":"rgba(255, 0, 0, 0.623)","--speedcontrol-bar":"#9d9d9d","--speedcontrol-grip":"#588555","--speedcontrol-grip-hover":"#89d185","--speedcontrol-display-background":"#383838","--speedcontrol-display-border":"#9d9d9d","--editorTooltip-background":"#252526","--editorTooltip-border":"#454545","--renameInput-color":"#ffffff","--bottomdiv-tabheading-hover":"white","--bottomdiv-tabheading-active":"rgb(97,97,255)","--noErrorMessage":"rgb(37, 211, 37)","--console-top-borderbottom":"#c4c4c4","--console-top-background":"#1e1e1e","--consoleEntry-withBorder":"#303030","--consoleEntryValue":"white","--consoleEntryIdentifier":"rgb(156, 156, 235)","--consoleEntryNoValue":"gray","--consoleEntryCaption":"white","--error-Caption":"rgb(166, 165, 176)","--console-error":"rgb(155, 51, 51)","--deIdentifier":"rgb(156, 156, 235)","--deValue":"white","--helper-background-color":"#383838","--helper-border-color":"#d4d4d4","--arrowBoxButtonOuter-background":"#59a15d","--arrowBoxButtonOuter-border":"#3d3d3d","--arrowBoxButtonOuter-color":"black","--arrowBoxButtonOuter-button-hover":"#63a867","--arrowBox-after":"rgba(136, 183, 213, 0)","--arrowBox-before":"rgba(194, 225, 245, 0)","--defaultOutputColor":"#ffffff","--runInputColor":"#ffffff","--runBackgroundColor":"rgba(255, 255, 255, 0.2)"}}),this.themes.push({name:"light",monacoTheme:"myCustomThemeLight",cssColors:{"--backgroundDark":"white","--backgroundLight":"#f3f3f3","--backgroundHeading":"#dcdcdc","--backgroundSelected":"#e8e8e8","--fontColorNormal":"#756161","--fontColorLight":"#756161","--slider":"#b0b0b0","--loginButtonBackgrond":"#59a15d","--loginButtonFontColor":"#000000","--loginMessageColor":"rgb(122, 48, 48)","--loginButtonHover":"#63a867","--loginButtonActive":"#94ffd1","--scrollbar":"#e3e3e3","--scrollbar-thumb":"#bababa","--scrollbar-thumb-hover":"#8e8e8e","--scrollbar-thumb-active":"#616161","--submenu-hover":"#8080ff","--submenu-color":"#ffffff","--menuitemsdivider":"#cfcfcf","--file-hover":"#e8e8e8","--file-active":"#8080ff","--file-active-hover":"#a0a0ff","--file-errorcount":"red","--inplace-editor":"white","--contextmenu-background":"white","--contextmenu-color":"#756161","--contextmenu-hover-background":"#8080ff","--contextmenu-hover-color":"#a0a0ff","--error-filename":"#ff0000","--error-line-ative":"#ffa0a0","--error-line-hover":"#ffc0c0","--error-position":"#804040","--linecolumn":"#14c714","--reveal-error":"rgba(253, 101, 101, 0.745)","--reveal-method":"#babaec80","--reveal-errorline-background":"red","--reveal-error-whole-line":"rgba(255, 0, 0, 0.555)","--reveal-programpointer":"rgba(111, 214, 27, 0.337)","--reveal-syntaxelement":"#c0c0c0","--margin-breakpoint":"rgba(255, 0, 0, 0.623)","--speedcontrol-bar":"#9d9d9d","--speedcontrol-grip":"#588555","--speedcontrol-grip-hover":"#89d185","--speedcontrol-display-background":"#e0e0e0","--speedcontrol-display-border":"#9d9d9d","--editorTooltip-background":"#e0e0e0","--editorTooltip-border":"#9d9d9d","--renameInput-color":"#000000","--bottomdiv-tabheading-hover":"#424242","--bottomdiv-tabheading-active":"#424242","--noErrorMessage":"rgb(17, 180, 17)","--console-top-borderbottom":"#c4c4c4","--console-top-background":"white","--consoleEntry-withBorder":"#303030","--consoleEntryValue":"#0000a0","--consoleEntryIdentifier":"black","--consoleEntryNoValue":"gray","--consoleEntryCaption":"#756161","--error-Caption":"rgb(166, 165, 176)","--console-error":"rgb(155, 21, 21)","--deIdentifier":"black","--deValue":"#0000a0","--helper-background-color":"#f3f3f3","--helper-border-color":"#606060","--arrowBoxButtonOuter-background":"#59a15d","--arrowBoxButtonOuter-border":"#3d3d3d","--arrowBoxButtonOuter-color":"black","--arrowBoxButtonOuter-button-hover":"#63a867","--arrowBox-after":"rgba(136, 183, 213, 0)","--arrowBox-before":"rgba(194, 225, 245, 0)","--defaultOutputColor":"#303030","--runInputColor":"#000000","--runBackgroundColor":"rgba(0, 0, 0, 0.2)"}})}}])&&At(t.prototype,n),i&&At(t,i),e}();function Ft(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var It=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=e.maxId++,this.beginsNewStackframe=!1,this.childSymbolTables=[],this.variableMap=new Map,this.classContext=null,this.method=null,this.parent=t,this.positionFrom=n,this.positionTo=i,this.classContext=null==t?null:t.classContext,null!=this.parent&&(this.parent.childSymbolTables.push(this),this.method=this.parent.method)}var t,n,i;return t=e,(n=[{key:"getImitation",value:function(){var t=new e(null,{line:1,column:1,length:0},{line:1,column:1e4,length:0});t.beginsNewStackframe=!0;for(var n=this,i=-1;null!=n;)null!=n.classContext&&(t.classContext=n.classContext),n.variableMap.forEach((function(e,n){null==t.variableMap.get(n)&&t.variableMap.set(n,e),e.stackPos>i&&(i=e.stackPos)})),n=n.parent;return t.stackframeSize=i+1,t}},{key:"getLocalVariableCompletionItems",value:function(e){var t=[];return this.variableMap.forEach((function(n,i){0!=i&&(null!=n&&null!=n.type&&n.type instanceof Y&&t.push({label:i+"[]",insertText:i+"[$0]",documentation:"Element des Arrays",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:e}),t.push({label:i,insertText:i,kind:monaco.languages.CompletionItemKind.Variable,range:e}))})),null!=this.parent&&this.parent.classContext==this.classContext&&(t=t.concat(this.parent.getLocalVariableCompletionItems(e))),t}},{key:"findTableAtPosition",value:function(e,t){if(!this.containsPosition(e,t))return null;var n=null,i=1e7,r=!0,o=!1,a=void 0;try{for(var s,l=this.childSymbolTables[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(u.containsPosition(e,t)){var c=u.findTableAtPosition(e,t);c.positionTo.line-c.positionFrom.line<i&&(n=c,i=c.positionTo.line-c.positionFrom.line)}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return null!=n?n:this}},{key:"containsPosition",value:function(e,t){return!(e<this.positionFrom.line||e>this.positionTo.line)&&(e==this.positionFrom.line?t>=this.positionFrom.column:e!=this.positionTo.line||t<=this.positionTo.column)}}])&&Ft(t.prototype,n),i&&Ft(t,i),e}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Lt(e,t,n){return(Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gt(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?Wt(e):t}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}It.maxId=0;var Vt=function(e){function t(e,n){var i;return Bt(this,t),(i=Rt(this,Gt(t).call(this,e))).enumValue=n,i}return Nt(t,e),t}(M),Ht=function(e){function t(e,n,i){var r;Bt(this,t),(r=Rt(this,Gt(t).call(this,e,n))).enumInfoList=[],r.identifierToInfoMap={},r.indexToInfoMap={},r.valueList=null,r.baseClass=dt;var o=0,a=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=new k(d.identifier,Wt(r),null,!0,j.public,!0);null!=d.position&&(h.declaration={module:n,position:d.position},h.usagePositions.set(n,[d.position])),r.staticClass.addAttribute(h);var p={identifier:d.identifier,ordinal:o++};r.enumInfoList.push(p),r.identifierToInfoMap[d.identifier]=p,r.indexToInfoMap[p.ordinal]=p}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}if(n.isSystemModule){r.valueList={type:new Y(Wt(r)),value:[]};var f=!0,y=!1,v=void 0;try{for(var m,g=r.enumInfoList[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;b.object=new Vt(Wt(r),b),r.valueList.value.push({type:Wt(r),value:b.object})}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}var w=Wt(r);return r.staticClass.addMethod(new S("getValues",new P([]),new Y(Wt(r)),(function(e){if(null==r.valueList){var t=[],n=!0,i=!1,o=void 0;try{for(var a,s=r.enumInfoList[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;t.push({type:w,value:l.object})}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}r.valueList={type:new Y(w),value:t}}return r.valueList.value}),!1,!0)),r.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.enumValue.identifier}),!1,!1)),r.addMethod(new S("toOrdinal",new P([]),st,(function(e){return e[0].value.enumValue.ordinal}),!1,!1)),r}var n,i,r;return Nt(t,e),n=t,(i=[{key:"getOrdinal",value:function(e){var t=this.identifierToInfoMap[e];return null==t?-1:t.ordinal}},{key:"debugOutput",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.value;return this.identifier+"."+t.enumValue.identifier}},{key:"canCastTo",value:function(e){return e==st||Lt(Gt(t.prototype),"canCastTo",this).call(this,e)}},{key:"castTo",value:function(e,n){if(n==st){var i=e.value;return{type:st,value:i.enumValue.ordinal}}return Lt(Gt(t.prototype),"castTo",this).call(this,e,n)}}])&&zt(n.prototype,i),r&&zt(n,r),t}(G);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Qt(this,Ut(t).call(this,"Input",e,"Klasse mit statischen Methoden zur Eingabe von Text per Tastatur"))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new S("readChar",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp char")),n.addMethod(new S("readInt",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp int")),n.addMethod(new S("readString",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp String")),n.addMethod(new S("readFloat",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp float")),n.addMethod(new S("readDouble",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp double")),n.addMethod(new S("readBoolean",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp boolean")),n.addMethod(new S("readChar",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),pt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp char")),n.addMethod(new S("readInt",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp int")),n.addMethod(new S("readString",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp String")),n.addMethod(new S("readFloat",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp float")),n.addMethod(new S("readDouble",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp double")),n.addMethod(new S("readBoolean",new P([{identifier:"Meldungstext",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp boolean")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,e),t}(G);function qt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Jt,en=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initStackFrameNodes=[]}var t,n,i;return t=e,(n=[{key:"startAdhocCompilation",value:function(e,t,n,i){this.moduleStore=t,this.module=e,this.symbolTableStack=[],this.symbolTableStack.push(n),this.currentSymbolTable=n,this.heap=i;var r=n.stackframeSize;return this.nextFreeRelativeStackPos=r,this.currentProgram=null,this.errorList=[],this.breakNodeStack=[],this.continueNodeStack=[],this.generateMain(!0),this.errorList}},{key:"start",value:function(e,t){if(this.moduleStore=t,this.module=e,this.symbolTableStack=[],this.currentSymbolTable=null,this.currentProgram=null,this.errorList=[],this.nextFreeRelativeStackPos=0,this.module.tokenList.length>0){var n=this.module.tokenList[this.module.tokenList.length-1];this.module.mainSymbolTable.positionTo={line:n.position.line,column:n.position.column+1,length:1}}this.symbolTableStack.push(this.module.mainSymbolTable),this.currentSymbolTable=this.module.mainSymbolTable,this.breakNodeStack=[],this.continueNodeStack=[],this.generateMain(),this.generateClasses(),this.lookForStaticVoidMain(),this.module.errors[3]=this.errorList}},{key:"lookForStaticVoidMain",value:function(){var e=this.module.mainProgram;if(!(null!=e&&e.statements.length>2)){var t=null,n=null,i=!0,o=!1,a=void 0;try{for(var s,l=this.module.classDefinitionsAST[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.type==r.keywordClass){var c=u.resolvedType,d=!0,h=!1,p=void 0;try{for(var f,y=c.staticClass.methods[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;if("main"==v.identifier&&1==v.parameterlist.parameters.length){var m=v.parameterlist.parameters[0];m.type instanceof Y&&m.type.arrayOfType==ht&&(null!=t?this.pushError("Es existieren mehrere Klassen mit statischen main-Methoden.",u.position):(t=v,n=c.staticClass))}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}if(null!=t){var g=t.usagePositions[0];null!=t.program&&t.program.statements.length>0&&(g=t.program.statements[0].position),this.initCurrentProgram(),this.module.mainProgram=this.currentProgram,this.pushStatements([{type:r.callMainMethod,position:g,stepFinished:!1,method:t,staticClass:n},{type:r.closeStackframe,position:t.usagePositions.get(this.module)[0]}],!1)}}}},{key:"generateClasses",value:function(){if(null!=this.module.classDefinitionsAST){var e=!0,t=!1,n=void 0;try{for(var i,o=this.module.classDefinitionsAST[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.type==r.keywordClass&&this.generateClass(a),a.type==r.keywordEnum&&this.generateEnum(a),a.type==r.keywordInterface){var s=a.resolvedType;null!=s&&this.checkDoubleMethodDeclaration(s)}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}}},{key:"generateEnum",value:function(e){if(null!=e.resolvedType){this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var t=e.resolvedType;this.currentSymbolTable.classContext=t,this.currentProgram=t.attributeInitializationProgram;var n=!0,i=!1,o=void 0;try{for(var a,s=e.attributes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;null==l||l.isStatic||null==l.initialization||this.initializeAttribute(l)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}t.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:r.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var u=!0,c=!1,d=void 0;try{for(var h,p=e.methods[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;null==f||f.isAbstract||f.isStatic||this.compileMethod(f)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var y=!0,v=!1,m=void 0;try{for(var g,b=e.values[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value;if(null!=w.constructorParameters){var k={module:this.module,labelManager:null,statements:[]};this.currentProgram=k,this.pushStatements({type:r.pushEnumValue,position:w.position,enumClass:t,valueIdentifier:w.identifier}),this.processEnumConstructorCall(t,w.constructorParameters,w.position,w.commaPositions,w.rightBracketPosition),this.pushStatements({type:r.programEnd,position:w.position,stepFinished:!0});var S=t.identifierToInfoMap[w.identifier];S.constructorCallProgram=k,S.position=w.position}}}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.classContext=t.staticClass,this.currentProgram=t.staticClass.attributeInitializationProgram;var P=!0,x=!1,T=void 0;try{for(var M,C=e.attributes[Symbol.iterator]();!(P=(M=C.next()).done);P=!0){var j=M.value;null!=j&&j.isStatic&&null!=j.initialization&&this.initializeAttribute(j)}}catch(e){x=!0,T=e}finally{try{P||null==C.return||C.return()}finally{if(x)throw T}}this.currentProgram.labelManager.resolveNodes();var O=!0,E=!1,A=void 0;try{for(var D,F=e.methods[Symbol.iterator]();!(O=(D=F.next()).done);O=!0){var I=D.value;null!=I&&I.isStatic&&this.compileMethod(I)}}catch(e){E=!0,A=e}finally{try{O||null==F.return||F.return()}finally{if(E)throw A}}this.checkDoubleMethodDeclaration(t),this.popSymbolTable(null)}}},{key:"processEnumConstructorCall",value:function(e,t,n,i,o){var a=[],s=!0,l=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,p=this.processNode(h);null!=p&&a.push(p.type)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var f=e.getMethodsThatFitWithCasting(e.identifier,a,!0,j.private);if(this.module.pushMethodCallPosition(n,i,e.getMethods(j.private,e.identifier),o),null!=f.error)return this.pushError(f.error,n),{type:ht,isAssignable:!1};for(var y=f.methodList[0],v=null,m=0;m<a.length;m++){m<y.getParameterCount()&&(v=y.getParameterType(m),m==y.getParameterCount()-1&&y.hasEllipsis()&&(v=v.arrayOfType));var g=a[m];g.equals(v)||g instanceof w&&v instanceof w&&g.getCastInformation(v).needsStatement&&this.pushStatements({type:r.castValue,position:null,newType:v,stackPosRelative:1-a.length+m})}var b=0;if(y.hasEllipsis()){var k=a.length-y.getParameterCount()+1;b=-(k-1),this.pushStatements({type:r.makeEllipsisArray,position:t[y.getParameterCount()-1].position,parameterCount:k,stepFinished:!1,arrayType:y.getParameter(y.getParameterCount()-1).type})}this.pushStatements({type:r.callMethod,method:y,position:n,stepFinished:!0,isSuperCall:!1,stackframeBegin:-(a.length+1+b)})}},{key:"generateClass",value:function(e){if(null!=e.resolvedType){this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var t=e.resolvedType,n=t.checkInheritance();""!=n.message&&this.pushError(n.message,e.position,"error",this.getInheritanceQuickFix(e.scopeTo,n));var i=t.baseClass;null!=i&&i.module!=t.module&&i.visibility==j.private&&this.pushError("Die Basisklasse "+i.identifier+" der Klasse "+t.identifier+" ist hier nicht sichtbar.",e.position),this.currentSymbolTable.classContext=t,this.currentProgram=t.attributeInitializationProgram;var o=!0,a=!1,s=void 0;try{for(var l,u=e.attributes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;null==c||c.isStatic||null==c.initialization||this.initializeAttribute(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:r.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var d=!0,h=!1,p=void 0;try{for(var f,y=e.methods[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;if(null!=v&&!v.isAbstract&&!v.isStatic){this.compileMethod(v);var m=v.resolvedType;null!=m&&"@Override"==m.annotation&&null!=t.baseClass&&null==t.baseClass.getMethodBySignature(m.signature)&&this.pushError("Die Methode "+m.signature+" ist mit @Override annotiert, √ºberschreibt aber keine Methode gleicher Signatur einer Oberklasse.",v.position,"warning")}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}this.checkDoubleMethodDeclaration(t),this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.classContext=t.staticClass,this.currentProgram=t.staticClass.attributeInitializationProgram;var g=!0,b=!1,w=void 0;try{for(var k,S=e.attributes[Symbol.iterator]();!(g=(k=S.next()).done);g=!0){var P=k.value;null!=P&&P.isStatic&&null!=P.initialization&&this.initializeAttribute(P)}}catch(e){b=!0,w=e}finally{try{g||null==S.return||S.return()}finally{if(b)throw w}}t.staticClass.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:r.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var x=!0,T=!1,M=void 0;try{for(var C,O=e.methods[Symbol.iterator]();!(x=(C=O.next()).done);x=!0){var E=C.value;null!=E&&E.isStatic&&this.compileMethod(E)}}catch(e){T=!0,M=e}finally{try{x||null==O.return||O.return()}finally{if(T)throw M}}this.popSymbolTable(null)}}},{key:"checkDoubleMethodDeclaration",value:function(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,a=e.methods[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.getSignatureWithReturnParameter();if(null!=t[l]){var u="In der Klasse ";e instanceof V&&(u="Im Interface "),e instanceof Ht&&(u="Im Enum "),this.pushError(u+e.identifier+" gibt es zwei Methoden mit derselben Signatur: "+l,s.usagePositions.get(this.module)[0],"error"),this.pushError(u+e.identifier+" gibt es zwei Methoden mit derselben Signatur: "+l,t[l].usagePositions.get(this.module)[0],"error")}else t[l]=s}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"getInheritanceQuickFix",value:function(e,t){var n="",i=!0,r=!1,o=void 0;try{for(var a,s=t.missingMethods[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n+="\tpublic "+(null==l.returnType?" void":x(l.returnType))+" "+l.identifier+"(",n+=l.parameterlist.parameters.map((function(e){return x(e.type)+" "+e.identifier})).join(", "),n+=") {\n\t\t//TODO: Methode f√ºllen\n\t}\n\n"}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return{title:"Fehlende Methoden einf√ºgen",editsProvider:function(t){return[{resource:t,edit:{range:{startLineNumber:e.line,startColumn:e.column-1,endLineNumber:e.line,endColumn:e.column-1},text:n}}]}}}},{key:"getSuperconstructorCalls",value:function(e,t,n){var i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;null!=u&&(u.type==r.superConstructorCall?(n||(t.length>0?this.pushError("Ein Konstruktor darf nur einen einzigen Aufruf des Superkonstruktors enthalten.",u.position,"error"):this.pushError("Vor dem Aufruf des Superkonstruktors darf keine andere Anweisung stehen.",u.position,"error")),t.push(u),n=!1):n=u.type==r.scopeNode&&null!=u.statements&&n&&this.getSuperconstructorCalls(u.statements,t,n))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return n}},{key:"compileMethod",value:function(e){var t,n,i,o=e.resolvedType;if(this.checkIfMethodIsVirtual(o),null!=o){this.initCurrentProgram(),o.program=this.currentProgram,this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.method=o;var a=1,s=!0,l=!1,u=void 0;try{for(var c,d=o.getParameterList().parameters[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;h.stackPos=a++,this.currentSymbolTable.variableMap.set(h.identifier,h)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}if(this.nextFreeRelativeStackPos=e.parameters.length+1,o.isConstructor&&this.currentSymbolTable.classContext instanceof G&&null!=e.statements){var p=this.currentSymbolTable.classContext,f=[];this.getSuperconstructorCalls(e.statements,f,!0);var y=f.length>0;if(null!=p&&(null===(t=p.baseClass)||void 0===t?void 0:t.hasConstructor())&&!(null===(n=p.baseClass)||void 0===n?void 0:n.hasParameterlessConstructor())){var v=!1;if(null!=e.statements&&0!=e.statements.length||(v=!0),v||(v=!y),v){var m=null,g=p.baseClass.methods.filter((function(e){return e.isConstructor}));if(1==g.length){var b="super("+g[0].parameterlist.parameters.map((function(e){return e.identifier})).join(", ")+");",w=e.position;m={title:"Aufruf des Konstruktors der Basisklasse einf√ºgen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:w.line+1,startColumn:0,endLineNumber:w.line+1,endColumn:0,message:"",severity:monaco.MarkerSeverity.Error},text:"\t\t"+b+"\n"}}]}}}this.pushError("Die Basisklasse der Klasse "+p.identifier+" besitzt keinen parameterlosen Konstruktor, daher muss diese Konstruktordefinition mit einem Aufruf eines Konstruktors der Basisklasse (super(...)) beginnen.",e.position,"error",m)}}else if(!y&&(null===(i=p.baseClass)||void 0===i?void 0:i.hasParameterlessConstructor())){var k=p.baseClass.getParameterlessConstructor();this.pushStatements([{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0},{type:r.callMethod,method:k,isSuperCall:!0,position:e.position,stackframeBegin:-1}])}}var S=this.moduleStore.getType("Actor").type;if(["act","onKeyTyped","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave"].indexOf(o.identifier)>=0&&this.currentSymbolTable.classContext.hasAncestorOrIs(S)&&this.pushStatements([{type:r.returnIfDestroyed,position:e.position}]),!this.generateStatements(e.statements).withReturnStatement){this.pushStatements({type:r.return,position:e.scopeTo,copyReturnValueToStackframePos0:!1,stepFinished:!0,leaveThisObjectOnStack:!1});var P=o.getReturnType();o.isConstructor||null==P||P==at||this.pushError("Die Deklaration der Methode verlangt die R√ºckgabe eines Wertes vom Typ "+P.identifier+". Es fehlt (mindestens) eine entsprechende return-Anweisung.",e.position)}o.reserveStackForLocalVariables=this.nextFreeRelativeStackPos-e.parameters.length-1,this.popSymbolTable(),this.currentProgram.labelManager.resolveNodes()}}},{key:"checkIfMethodIsVirtual",value:function(e){var t=this.currentSymbolTable.classContext;if(null!=t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=s.typeStore.typeList[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(p instanceof G&&p!=t&&p.hasAncestorOrIs(t)){var f=!0,y=!1,v=void 0;try{for(var m,g=p.methods[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;if(null!=b&&null!=e&&b.signature==e.signature)return void(e.isVirtual=!0)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"initializeAttribute",value:function(e){if(null!=e&&null!=e.identifier&&null!=e.initialization){e.isStatic?this.pushStatements({type:r.pushStaticAttribute,attributeIndex:e.resolvedType.index,attributeIdentifier:e.resolvedType.identifier,position:e.initialization.position,klass:this.currentSymbolTable.classContext}):this.pushStatements({type:r.pushAttribute,attributeIndex:e.resolvedType.index,attributeIdentifier:e.identifier,position:e.initialization.position,useThisObject:!0});var t=this.processNode(e.initialization);null!=t&&null!=t.type&&(this.ensureAutomaticCasting(t.type,e.attributeType.resolvedType)||(null==e.attributeType.resolvedType?this.pushError("Der Datentyp von "+e.identifier+" konnte nicht ermittelt werden. ",e.position):this.pushError("Der Wert des Term vom Datentyp "+t.type+" kann dem Attribut "+e.identifier+" vom Typ "+e.attributeType.resolvedType.identifier+" nicht zugewiesen werden.",e.initialization.position)),this.pushStatements({type:r.assignment,position:e.initialization.position,stepFinished:!0,leaveValueOnStack:!1}))}}},{key:"initCurrentProgram",value:function(){this.currentProgram={module:this.module,statements:[],labelManager:null},this.currentProgram.labelManager=new E(this.currentProgram),this.lastStatement=null}},{key:"generateMain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.initCurrentProgram();var t={line:1,column:1,length:0},n=this.module.mainProgramAst;null!=n&&n.length>0&&null!=n[0]&&(t=this.module.mainProgramAst[0].position),e||(this.pushNewSymbolTable(!0,t,{line:1e5,column:1,length:0},this.currentProgram),this.heap={}),this.module.mainProgram=this.currentProgram;var i=!1;null!=this.module.mainProgramAst&&this.module.mainProgramAst.length>0&&(i=!0,this.generateStatements(this.module.mainProgramAst),e&&null!=this.lastStatement&&this.lastStatement.type==r.decreaseStackpointer&&this.removeLastStatement(),this.lastPosition=this.module.mainProgramEnd,null==this.lastPosition&&(this.lastPosition={line:1e5,column:0,length:0}),this.currentSymbolTable.positionTo=this.lastPosition,e||this.popSymbolTable(this.currentProgram,!0),this.heap=null,this.pushStatements({type:r.programEnd,position:this.lastPosition,stepFinished:!0,pauseAfterProgramEnd:!0},!0)),this.currentProgram.labelManager.resolveNodes(),e||i||(this.popSymbolTable(this.currentProgram),this.heap=null)}},{key:"ensureAutomaticCasting",value:function(e,t,n,i){if(null==e)return!1;if(e.equals(t))return!0;if(null==e||null==t)return!1;if(!e.canCastTo(t))return t==ct&&null!=i&&this.checkIfAssignmentInstedOfEqual(i),!1;if(null!=e.unboxableAs&&e.unboxableAs.indexOf(t)>=0)return!0;if(e instanceof G&&t==ht){var o=this.getToStringStatement(e,n);return null!=o&&(this.pushStatements(o),!0)}if(e instanceof w&&(t instanceof w||t==ht)){var a=e.getCastInformation(t);if(!a.automatic)return!1;a.needsStatement&&this.pushStatements({type:r.castValue,newType:t,position:n})}return!0}},{key:"getToStringStatement",value:function(e,t){var n=e.getMethodBySignature("toString()");return null!=n&&n.getReturnType()==ht?{type:r.callMethod,position:t,method:n,isSuperCall:!1,stackframeBegin:-1,stepFinished:!1}:null}},{key:"checkIfAssignmentInstedOfEqual",value:function(e,t){if(null!=e&&e.type==r.binaryOp&&e.operator==r.assignment){var n=e.position;this.pushError("= ist der Zuweisungsoperator. Du willst sicher zwei Werte vergleichen. Dazu ben√∂tigst Du den Vergleichsoperator ==.",n,t==ct?"warning":"error",{title:"= durch == ersetzen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:n.line,startColumn:n.column,endLineNumber:n.line,endColumn:n.column+1,message:"",severity:monaco.MarkerSeverity.Error},text:"=="}}]}})}}},{key:"generateStatements",value:function(e){if(null==e||0==e.length||null==e[0])return{withReturnStatement:!1};var t,n=this.processStatementsInsideBlock(e),i=e[e.length-1];return null!=i?(i.type==r.scopeNode?t=i.positionTo:null!=(t=Object.assign({},i.position))&&(t.column+=t.length,t.length=1),this.lastPosition=t):t=this.lastPosition,{withReturnStatement:n,endPosition:t}}},{key:"processStatementsInsideBlock",value:function(e){var t=!1,n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(null!=l){var u=this.processNode(l);null!=u&&null!=u.withReturnStatement&&u.withReturnStatement&&(t=!0),null!=u&&null!=u.type&&u.type!=at&&(null!=this.lastStatement&&this.lastStatement.type==r.assignment&&this.lastStatement.leaveValueOnStack?this.lastStatement.leaveValueOnStack=!1:this.pushStatements({type:r.decreaseStackpointer,position:null,popCount:1,stepFinished:!0},!0))}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return t}},{key:"insertStatements",value:function(e,t){if(null!=t){Array.isArray(t)||(t=[t]);var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.currentProgram.statements.splice(e++,0,s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"pushStatements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e){if(t&&this.currentProgram.statements.length>0){var n=this.currentProgram.statements[this.currentProgram.statements.length-1];n.stepFinished=!1}if(Array.isArray(e)){var i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.currentProgram.statements.push(u),u.type!=r.return&&u.type!=r.jumpAlways||null!=this.lastStatement&&(this.lastStatement.stepFinished=!1),null!=u.position?this.lastPosition=u.position:u.position=this.lastPosition,this.lastStatement=u}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}else this.currentProgram.statements.push(e),e.type!=r.return&&e.type!=r.jumpAlways||null!=this.lastStatement&&(this.lastStatement.stepFinished=!1),null!=e.position?this.lastPosition=e.position:e.position=this.lastPosition,this.lastStatement=e}}},{key:"removeLastStatement",value:function(){var e=this.currentProgram.statements.pop();null!=this.currentProgram.labelManager&&this.currentProgram.labelManager.removeNode(e)}},{key:"pushNewSymbolTable",value:function(e,t,n,i){var o=new It(this.currentSymbolTable,t,n);if(this.symbolTableStack.push(this.currentSymbolTable),e&&(o.beginsNewStackframe=!0,this.currentSymbolTable.stackframeSize=this.nextFreeRelativeStackPos,this.nextFreeRelativeStackPos=0,null!=i)){var a={type:r.initStackframe,position:t,reserveForLocalVariables:0};i.statements.push(a),this.initStackFrameNodes.push(a)}return this.currentSymbolTable=o,o}},{key:"popSymbolTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.currentSymbolTable;if(this.currentSymbolTable=this.symbolTableStack.pop(),i.variableMap.forEach((function(e){null!=e.declarationError&&e.usedBeforeInitialization&&(t.errorList.push(e.declarationError),e.declarationError=null)})),i.beginsNewStackframe&&(i.stackframeSize=this.nextFreeRelativeStackPos,this.nextFreeRelativeStackPos=this.currentSymbolTable.stackframeSize,null!=e)){var o=this.initStackFrameNodes.pop();if(null!=o&&(o.reserveForLocalVariables=i.stackframeSize),e.statements.length>0&&n){var a=e.statements[e.statements.length-1];-1==[r.jumpAlways,r.jumpIfTrue,r.jumpIfFalse,r.jumpIfFalseAndLeaveOnStack,r.jumpIfTrueAndLeaveOnStack].indexOf(a.type)&&(e.statements[e.statements.length-1].stepFinished=!1)}e.statements.push({type:r.closeStackframe,position:i.positionTo})}}},{key:"pushError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",i=arguments.length>3?arguments[3]:void 0;this.errorList.push({text:e,position:t,quickFix:i,level:n})}},{key:"openBreakScope",value:function(){this.breakNodeStack.push([])}},{key:"openContinueScope",value:function(){this.continueNodeStack.push([])}},{key:"pushBreakNode",value:function(e){0==this.breakNodeStack.length?this.pushError("Eine break-Anweisung ist nur innerhalb einer umgebenden Schleife oder switch-Anweisung sinnvoll.",e.position):(this.breakNodeStack[this.breakNodeStack.length-1].push(e),this.pushStatements(e))}},{key:"pushContinueNode",value:function(e){0==this.continueNodeStack.length?this.pushError("Eine continue-Anweisung ist nur innerhalb einer umgebenden Schleife oder switch-Anweisung sinnvoll.",e.position):(this.continueNodeStack[this.continueNodeStack.length-1].push(e),this.pushStatements(e))}},{key:"closeBreakScope",value:function(e,t){var n=this.breakNodeStack.pop(),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.registerJumpNode(l,e)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"closeContinueScope",value:function(e,t){var n=this.continueNodeStack.pop(),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.registerJumpNode(l,e)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"breakOccured",value:function(){return this.breakNodeStack.length>0&&this.breakNodeStack[this.breakNodeStack.length-1].length>0}},{key:"processNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e)switch(e.type){case r.binaryOp:return this.processBinaryOp(e);case r.unaryOp:return this.processUnaryOp(e);case r.pushConstant:return this.pushConstant(e);case r.callMethod:return this.callMethod(e);case r.identifier:var n=this.resolveIdentifier(e),i=e.variable;return null!=i&&(t?(i.initialized=!0,i.usedBeforeInitialization||(i.declarationError=null)):null==i.initialized||i.initialized||(i.usedBeforeInitialization=!0,this.pushError("Die Variable "+i.identifier+" wird hier benutzt bevor sie initialisiert wurde.",e.position,"info"))),n;case r.selectArrayElement:return this.selectArrayElement(e);case r.incrementDecrementBefore:case r.incrementDecrementAfter:return this.incrementDecrementBeforeOrAfter(e);case r.superConstructorCall:case r.constructorCall:return this.superconstructorCall(e);case r.keywordThis:return this.pushThisOrSuper(e,!1);case r.keywordSuper:return this.pushThisOrSuper(e,!0);case r.pushAttribute:return this.pushAttribute(e);case r.newObject:return this.newObject(e);case r.keywordWhile:return this.processWhile(e);case r.keywordDo:return this.processDo(e);case r.keywordFor:return this.processFor(e);case r.forLoopOverCollection:return this.processForLoopOverCollection(e);case r.keywordIf:return this.processIf(e);case r.keywordSwitch:return this.processSwitch(e);case r.keywordReturn:return this.processReturn(e);case r.localVariableDeclaration:return this.localVariableDeclaration(e);case r.arrayInitialization:return this.processArrayLiteral(e);case r.newArray:return this.processNewArray(e);case r.keywordPrint:case r.keywordPrintln:return this.processPrint(e);case r.castValue:return this.processManualCast(e);case r.keywordBreak:return this.pushBreakNode({type:r.jumpAlways,position:e.position}),null;case r.keywordContinue:return this.pushContinueNode({type:r.jumpAlways,position:e.position}),null;case r.rightBracket:var o=this.processNode(e.termInsideBrackets);return null!=o&&o.type instanceof G&&this.pushTypePosition(e.position,o.type),o;case r.scopeNode:this.pushNewSymbolTable(!1,e.position,e.positionTo);var a=this.processStatementsInsideBlock(e.statements);return this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:a}}}},{key:"processManualCast",value:function(e){var t=this.processNode(e.whatToCast);if(null!=t&&null!=t.type){var n=t.type;if(null!=n&&null!=e.castToType&&null!=e.castToType.resolvedType){var i=e.castToType.resolvedType;if(n.canCastTo(i)){if(n instanceof w&&i instanceof w)n.getCastInformation(i).needsStatement&&this.pushStatements({type:r.castValue,position:e.position,newType:i});else if(n instanceof G&&i==ht){var o=n.getMethodBySignature("toString()");null!=o&&o.getReturnType()==ht?this.pushStatements({type:r.callMethod,position:e.position,method:o,isSuperCall:!1,stackframeBegin:-1,stepFinished:!1}):(this.pushError("Der Datentyp "+n.identifier+" kann (zumindest durch casting) nicht in den Datentyp "+i.identifier+" umgewandelt werden.",e.position),this.pushStatements({type:r.castValue,position:e.position,newType:i}))}return{isAssignable:t.isAssignable,type:i}}if((n instanceof G||n instanceof V)&&(i instanceof G||i instanceof V))return this.pushStatements({type:r.checkCast,position:e.position,newType:i,stepFinished:!1}),{isAssignable:t.isAssignable,type:i};this.pushError("Der Datentyp "+n.identifier+" kann (zumindest durch casting) nicht in den Datentyp "+i.identifier+" umgewandelt werden.",e.position)}}}},{key:"processPrint",value:function(e){var t,n=e.type==r.keywordPrint?r.print:r.println;if(this.module.pushMethodCallPosition(e.position,e.commaPositions,a[e.type],e.rightBracketPosition),null!=e.text){var i=this.processNode(e.text);null!=i&&(this.ensureAutomaticCasting(i.type,ht)||this.pushError("Die Methoden print und println erwarten einen Parameter vom Typ String. Gefunden wurde ein Wert vom Typ "+(null===(t=i.type)||void 0===t?void 0:t.identifier)+".",e.position))}var o=!1;if(null!=e.color){var s=this.processNode(e.color);null!=s&&s.type!=ht&&s.type!=st&&(this.ensureAutomaticCasting(s.type,ht)||this.pushError("Die Methoden print und println erwarten als Farbe einen Parameter vom Typ String oder int. Gefunden wurde ein Wert vom Typ "+s.type.identifier+".",e.position)),o=!0}return this.pushStatements({type:n,position:e.position,empty:null==e.text,stepFinished:!0,withColor:o}),null}},{key:"processNewArray",value:function(e){if(null!=e.initialization)return this.processArrayLiteral(e.initialization);var t=0,n=!0,i=!1,o=void 0;try{for(var a,s=e.elementCount[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(null==l)break;this.processNode(l),t++}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return this.pushStatements({type:r.pushEmptyArray,position:e.position,arrayType:e.arrayType.resolvedType,dimension:t}),{isAssignable:!1,type:e.arrayType.resolvedType}}},{key:"processArrayLiteral",value:function(e){var t,n={type:r.beginArray,position:e.position,arrayType:e.arrayType.resolvedType};this.pushStatements(n);var i=!0,o=!1,a=void 0;try{for(var s,l=e.nodes[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(null!=u)if(u.type==r.arrayInitialization)this.processArrayLiteral(u);else{var c=this.processNode(u);if(null==c)return;var d=e.arrayType.resolvedType.arrayOfType;this.ensureAutomaticCasting(c.type,d,u.position)||this.pushError("Der Datentyp des Terms ("+(null===(t=c.type)||void 0===t?void 0:t.identifier)+") kann nicht in den Datentyp "+(null==d?void 0:d.identifier)+" konvertiert werden.",u.position)}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return this.pushStatements({type:r.addToArray,position:e.position,numberOfElementsToAdd:e.nodes.length}),{isAssignable:!1,type:e.arrayType.resolvedType}}},{key:"localVariableDeclaration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==e.variableType.resolvedType&&(e.variableType.resolvedType=ft);var n=null!=this.heap&&this.symbolTableStack.length<=2,i={identifier:e.identifier,stackPos:n?null:this.nextFreeRelativeStackPos++,type:e.variableType.resolvedType,usagePositions:new Map,declaration:{module:this.module,position:e.position},isFinal:e.isFinal};if(this.pushUsagePosition(e.position,i),n?(this.pushStatements({type:r.heapVariableDeclaration,position:e.position,pushOnTopOfStackForInitialization:null!=e.initialization,variable:i,stepFinished:null==e.initialization}),this.heap[i.identifier]&&this.pushError("Die Variable "+e.identifier+" darf im selben Sichtbarkeitsbereich (Scope) nicht mehrmals definiert werden.",e.position),this.heap[i.identifier]=i,this.currentSymbolTable.variableMap.set(e.identifier,i)):(this.currentSymbolTable.variableMap.get(e.identifier)&&this.pushError("Die Variable "+e.identifier+" darf im selben Sichtbarkeitsbereich (Scope) nicht mehrmals definiert werden.",e.position),this.currentSymbolTable.variableMap.set(e.identifier,i),this.pushStatements({type:r.localVariableDeclaration,position:e.position,pushOnTopOfStackForInitialization:null!=e.initialization,variable:i,stepFinished:null==e.initialization})),null!=e.initialization){var o=this.processNode(e.initialization);null!=o&&(i.type==yt?i.type=o.type:null==o.type?this.pushError("Der Typ des Terms auf der rechten Seite des Zuweisungsoperators (=) konnte nicht bestimmt werden.",e.initialization.position):this.ensureAutomaticCasting(o.type,i.type)||this.pushError("Der Term vom Typ "+o.type.identifier+" kann der Variable vom Typ "+i.type.identifier+" nicht zugeordnet werden.",e.initialization.position),this.pushStatements({type:r.assignment,position:e.initialization.position,stepFinished:!0,leaveValueOnStack:!1}))}else if(i.type==yt)this.pushError("Die Verwendung von var ist nur dann zul√§ssig, wenn eine lokale Variable in einer Anweisung deklariert und initialisiert wird, also z.B. var i = 12;",e.variableType.position);else{var a=" = null";i.type==st&&(a=" = 0"),i.type==ut&&(a=" = 0.0"),i.type==ct&&(a=" = false"),i.type==pt&&(a=" = ' '"),i.type==ht&&(a=' = ""'),i.declarationError={text:"Jede lokale Variable sollte vor ihrer ersten Verwendung initialisiert werden.",position:e.position,quickFix:{title:a+" erg√§nzen",editsProvider:function(t){var n=e.position;return[{resource:t,edit:{range:{startLineNumber:n.line,startColumn:n.column+n.length,endLineNumber:n.line,endColumn:n.column+n.length},text:a}}]}},level:"info"},i.usedBeforeInitialization=!1,i.initialized=t}return null}},{key:"processReturn",value:function(e){var t=this.currentSymbolTable.method;if(null==t)return this.pushError("Eine return-Anweisung ist nur im Kontext einer Methode erlaubt.",e.position),null;if(null!=e.term){if(null==t.getReturnType())return this.pushError("Die Methode "+t.identifier+" erwartet keinen R√ºckgabewert.",e.position),null;var n=this.processNode(e.term);null!=n&&(this.ensureAutomaticCasting(n.type,t.getReturnType(),null,e)||this.pushError("Die Methode "+t.identifier+" erwartet einen R√ºckgabewert vom Typ "+t.getReturnType().identifier+". Gefunden wurde ein Wert vom Typ "+n.type.identifier+".",e.position))}else null!=t.getReturnType()&&t.getReturnType()!=at&&this.pushError("Die Methode "+t.identifier+" erwartet einen R√ºckgabewert vom Typ "+t.getReturnType().identifier+", daher ist die leere Return-Anweisung (return;) nicht ausreichend.",e.position);return this.pushStatements({type:r.return,position:e.position,copyReturnValueToStackframePos0:null!=e.term,stepFinished:!0,leaveThisObjectOnStack:!1}),{type:null,isAssignable:!1,withReturnStatement:!0}}},{key:"processSwitch",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=this.processNode(e.condition);if(null!=n&&null!=n.type){var i=n.type,o=i==ht||i==pt,a=i instanceof Ht;o||i==st||a||this.pushError("Der Unterscheidungsterms einer switch-Anweisung muss den Datentyp String, char, int oder enum besitzen. Dieser hier ist vom Typ "+i.identifier,e.condition.position),a&&this.pushStatements({type:r.castValue,position:e.condition.position,newType:st});var s={type:r.keywordSwitch,position:e.position,defaultDestination:null,switchType:o?"string":"number",destinationLabels:[],destinationMap:{}};this.pushStatements(s);var l=t.insertJumpNode(r.jumpAlways,e.position,this);s.stepFinished=!0,t.registerSwitchStatement(s),this.openBreakScope();var u=e.caseNodes.length>0,c=!0,d=!1,h=void 0;try{for(var p,f=e.caseNodes[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;if(null==y.caseTerm){var v=t.markJumpDestination(1);this.generateStatements(y.statements),s.defaultDestination=v}else{var m=null;if(a&&y.caseTerm.type==r.identifier){var g=i.identifierToInfoMap[y.caseTerm.identifier];null==g?this.pushError("Die Enum-Klasse "+i.identifier+" hat kein Element mit dem Bezeichner "+y.caseTerm.identifier,y.position,"error"):m=g.ordinal}else{this.processNode(y.caseTerm);var b=this.lastStatement;b.type==r.pushConstant&&(m=b.value),b.type==r.pushEnumValue&&(m=b.enumClass.getOrdinal(b.valueIdentifier)),this.removeLastStatement()}null==m&&this.pushError("Der Term bei case muss konstant sein.",y.caseTerm.position);var w=t.markJumpDestination(1),k=this.generateStatements(y.statements);null!=(null==k?void 0:k.withReturnStatement)&&k.withReturnStatement||(u=!1),s.destinationLabels.push({constant:m,label:w})}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return t.markJumpDestination(1,l),this.closeBreakScope(l,t),this.popSymbolTable(null),{type:null,isAssignable:!1,withReturnStatement:u}}}},{key:"processIf",value:function(e){var t=this.currentProgram.labelManager,n=this.processNode(e.condition);this.checkIfAssignmentInstedOfEqual(e.condition,null==n?void 0:n.type),null!=n&&n.type!=ct&&this.pushError("Der Wert des Terms in Klammern hinter 'if' muss den Datentyp boolean besitzen.",e.condition.position);var i,o,a=t.insertJumpNode(r.jumpIfFalse,null,this),s=this.generateStatements(e.statementsIfTrue).withReturnStatement;return null!=e.statementsIfFalse&&(i=t.insertJumpNode(r.jumpAlways,null,this)),t.markJumpDestination(1,a),o=null!=e.statementsIfFalse&&0!=e.statementsIfFalse.length&&this.generateStatements(e.statementsIfFalse).withReturnStatement,null!=i&&t.markJumpDestination(1,i),{type:null,isAssignable:!1,withReturnStatement:s&&o}}},{key:"processFor",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.generateStatements(e.statementsBefore);var n=t.markJumpDestination(1),i=this.processNode(e.condition);null!=i&&i.type!=ct&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert der Bedingung muss den Datentyp boolean besitzen.",e.condition.position));var o=t.insertJumpNode(r.jumpIfFalse,null,this);this.openBreakScope(),this.openContinueScope();var a=this.generateStatements(e.statements),s=a.withReturnStatement,l=t.markJumpDestination(1);return this.closeContinueScope(l,t),this.generateStatements(e.statementsAfter),t.insertJumpNode(r.jumpAlways,a.endPosition,this,n),t.markJumpDestination(1,o),this.closeBreakScope(o,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:s}}},{key:"processForLoopOverCollection",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=this.nextFreeRelativeStackPos++,i=this.processNode(e.collection);if(null!=i){var o,a=i.type;this.pushStatements({type:r.popAndStoreIntoVariable,position:e.collection.position,stackposOfVariable:n,stepFinished:!1});var s=null;if(a instanceof Y)o=a.arrayOfType,s="array";else if(a instanceof G&&null!=a.getImplementedInterface("Iterable"))s=a.module.isSystemModule?"internalList":"userDefinedIterable",a.getImplementedInterface("Iterable"),o=0==a.typeVariables.length?dt:a.typeVariables[0].type;else{if(!(a instanceof G&&"Group"==a.identifier))return this.pushError("Mit der vereinfachten for-Schleife (for identifier : collectionOrArray) kann man nur √ºber Arrays oder Klassen, die das Interface Iterable implementieren, iterieren.",e.collection.position),null;s="group",o=this.moduleStore.getType("Shape").type}var l=e.variableType.resolvedType;if(null==l)return null;var u=l==yt;if(u)l=o,e.variableType.resolvedType=o;else if(!o.canCastTo(l))return this.pushError("Der ElementTyp "+o.identifier+" der Collection kann nicht in den Typ "+l.identifier+" der Iterationsvariable "+e.variableIdentifier+" konvertiert werden.",e.position),null;this.localVariableDeclaration({type:r.localVariableDeclaration,identifier:e.variableIdentifier,initialization:null,isFinal:!1,position:e.variablePosition,variableType:e.variableType},!0);var c=this.nextFreeRelativeStackPos-1,d=this.nextFreeRelativeStackPos++;"array"==s||"internalList"==s||"group"==s?this.pushStatements([{type:r.extendedForLoopInit,position:e.position,stepFinished:!1,stackPosOfCollection:n,stackPosOfElement:c,typeOfElement:l,stackPosOfCounter:d}],!0):this.pushStatements([{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:d,stepFinished:!1},{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:n,stepFinished:!1},{type:r.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:a.getMethod("iterator",new P([])),stackframeBegin:-1},{type:r.assignment,position:e.position,stepFinished:!0,leaveValueOnStack:!1}],!0);var h,p,f=t.markJumpDestination(1);if("array"==s||"internalList"==s||"group"==s){var y={type:r.extendedForLoopCheckCounterAndGetElement,kind:s,position:e.variablePosition,stepFinished:!0,stackPosOfCollection:n,stackPosOfElement:c,stackPosOfCounter:d,destination:0};p=y,h=t.registerJumpNode(y),this.pushStatements(y)}else this.pushStatements([{type:r.pushLocalVariableToStack,position:e.variablePosition,stackposOfVariable:n,stepFinished:!1},{type:r.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:a.getMethod("hasNext",new P([])),stackframeBegin:-1}]),h=t.insertJumpNode(r.jumpIfFalse,null,this),this.pushStatements([{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:c,stepFinished:!1},{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:n,stepFinished:!1},{type:r.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:a.getMethod("next",new P([])),stackframeBegin:-1},{type:r.assignment,position:e.position,stepFinished:!0,leaveValueOnStack:!1}]);if(!u){var v=this.currentProgram.statements.length;this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:c,stepFinished:!1}),this.ensureAutomaticCasting(o,l),this.currentProgram.statements.length<v+2?this.currentProgram.statements.pop():(this.pushStatements({type:r.popAndStoreIntoVariable,stackposOfVariable:c,position:e.position,stepFinished:!0}),p.stepFinished=!1)}this.openBreakScope(),this.openContinueScope();var m=this.generateStatements(e.statements),g=m.withReturnStatement,b=t.markJumpDestination(1);return this.closeContinueScope(b,t),t.insertJumpNode(r.jumpAlways,m.endPosition,this,f),t.markJumpDestination(1,h),this.closeBreakScope(h,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:g}}}},{key:"processWhile",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=t.markJumpDestination(1),i=this.processNode(e.condition);null!=i&&i.type!=ct&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'while' muss den Datentyp boolean besitzen.",e.condition.position));var o=e.position;null!=e.condition&&(o=e.condition.position);var a=t.insertJumpNode(r.jumpIfFalse,o,this);this.openBreakScope(),this.openContinueScope();var s=this.generateStatements(e.statements),l=s.withReturnStatement;return this.closeContinueScope(n,t),t.insertJumpNode(r.jumpAlways,s.endPosition,this,n),t.markJumpDestination(1,a),this.closeBreakScope(a,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:l}}},{key:"processDo",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=t.markJumpDestination(1);this.openBreakScope(),this.openContinueScope();var i=this.generateStatements(e.statements),o=i.withReturnStatement,a=t.markJumpDestination(1);this.closeContinueScope(a,t);var s=this.processNode(e.condition);null!=s&&s.type!=ct&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'while' muss den Datentyp boolean besitzen.",e.condition.position)),t.insertJumpNode(r.jumpIfTrue,i.endPosition,this,n);var l=t.markJumpDestination(1);return this.closeBreakScope(l,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:o}}},{key:"newObject",value:function(e){var t;if(null==e.classType||null==e.classType.resolvedType)return null;var n=e.classType.resolvedType;if(!(n instanceof G))return this.pushError(e.classType.identifier+" ist keine Klasse, daher kann davon mit 'new' kein Objekt erzeugt werden.",e.position),null;if(n.isAbstract)return this.pushError("".concat(e.classType.identifier," ist eine abstrakte Klasse, daher kann von ihr mit 'new' kein Objekt instanziert werden. Falls ").concat(e.classType.identifier," nicht-abstrakte Kindklassen besitzt, k√∂nntest Du von DENEN mit new Objekte instanzieren..."),e.position),null;n.module!=this.module&&n.visibility!=j.public&&this.pushError("Die Klasse "+n.identifier+" ist hier nicht sichtbar.",e.position);var i={type:r.newObject,position:e.position,class:n,subsequentConstructorCall:!1,stepFinished:!0};this.pushStatements(i),this.pushTypePosition(e.rightBracketPosition,n);var o=[],a=[],s=this.currentProgram.statements;if((null===(t=e.constructorOperands)||void 0===t?void 0:t.length)>0)for(var l=0;l<e.constructorOperands.length;l++){var u=e.constructorOperands[l],c=this.processNode(u);a.push(s.length),null==c?o.push(at):o.push(c.type)}var d=K(n,this.currentSymbolTable.classContext),h=n.getConstructor(o,d);if(this.module.pushMethodCallPosition(e.position,e.commaPositions,n.getMethods(j.public,n.identifier),e.rightBracketPosition),o.length>0||n.hasConstructor()){if(null!=h.error)return this.pushError(h.error,e.position),{type:n,isAssignable:!1};var p=h.methodList[0];this.pushUsagePosition(e.position,p);var f=null,y=this.currentSymbolTable.classContext;null!=y&&y instanceof G&&(f=y.staticClass),p.visibility==j.private&&n!=y&&n!=f&&(n==y||n!=f||y instanceof N&&n==y.Klass||this.pushError("Die Konstruktormethode ist private und daher hier nicht sichtbar.",e.position));for(var v=null,m=0;m<o.length;m++){m<p.getParameterCount()&&(v=p.getParameterType(m),m==p.getParameterCount()-1&&p.hasEllipsis()&&(v=v.arrayOfType));var g=o[m],b=s.length;if(this.ensureAutomaticCasting(g,v,e.constructorOperands[m].position,e.constructorOperands[m])||this.pushError("Der Wert vom Datentyp "+g.identifier+" kann nicht als Parameter (Datentyp "+v.identifier+") verwendet werden.",e.constructorOperands[m].position),s.length>b){var w=s.splice(b,s.length-b);s.splice.apply(s,[a[m],0].concat(qt(w))),this.currentProgram.labelManager.correctPositionsAfterInsert(a[m],w.length)}}var k=0;if(p.hasEllipsis()){var S=o.length-p.getParameterCount()+1;k=-(S-1),this.pushStatements({type:r.makeEllipsisArray,position:e.constructorOperands[p.getParameterCount()-1].position,parameterCount:S,stepFinished:!1,arrayType:p.getParameter(p.getParameterCount()-1).type})}this.pushStatements({type:r.callMethod,method:p,position:e.position,isSuperCall:!1,stepFinished:null==n.getPostConstructorCallbacks(),stackframeBegin:-(o.length+1+k)},!0),i.subsequentConstructorCall=!0,i.stepFinished=!1}return null!=n.getPostConstructorCallbacks()&&this.pushStatements({type:r.processPostConstructorCallbacks,position:e.position,stepFinished:!0},!0),{type:n,isAssignable:!1}}},{key:"pushAttribute",value:function(e){if(null==e.object||null==e.identifier)return null;var t=this.processNode(e.object);if(null==t)return this.pushError("Links vom Punkt steht kein Objekt.",e.position),null;if(!(t.type instanceof G||t.type instanceof N||t.type instanceof Y))return null==t.type?this.pushError("Der Ausdruck links vom Punkt hat kein Attribut "+e.identifier+".",e.position):this.pushError("Links vom Punkt steht ein Ausdruck vom Datentyp "+t.type.identifier+". Dieser hat kein Attribut "+e.identifier+".",e.position),null;var n=t.type;if(n instanceof G){var i,o=K(n,this.currentSymbolTable.classContext),a=n.getAttribute(e.identifier,o),s=null;return null==a.attribute&&(s=n.staticClass.getAttribute(e.identifier,o)),null==a.attribute&&null==s.attribute?(a.foundButInvisible||!s.foundButInvisible?this.pushError(a.error,e.position):this.pushError(s.error,e.position),{type:n,isAssignable:!1}):(null!=a.attribute?(this.pushStatements({type:r.pushAttribute,position:e.position,attributeIndex:a.attribute.index,attributeIdentifier:a.attribute.identifier,useThisObject:!1}),i=a.attribute):(this.pushStatements([{type:r.decreaseStackpointer,position:e.position,popCount:1},{type:r.pushStaticAttribute,position:e.position,klass:s.staticClass,attributeIndex:s.attribute.index,attributeIdentifier:s.attribute.identifier}]),i=s.attribute),this.pushUsagePosition(e.position,i),{type:i.type,isAssignable:!i.isFinal})}if(n instanceof N){if(n.Klass instanceof Ht)return this.removeLastStatement(),null==n.Klass.enumInfoList.find((function(t){return t.identifier==e.identifier}))&&this.pushError("Die enum-Klasse "+n.identifier+" hat keinen enum-Wert mit dem Bezeichner "+e.identifier,e.position),this.pushStatements({type:r.pushEnumValue,position:e.position,enumClass:n.Klass,valueIdentifier:e.identifier}),{type:n.Klass,isAssignable:!1};var l=K(n,this.currentSymbolTable.classContext),u=n.getAttribute(e.identifier,l);return null!=u.attribute?(this.removeLastStatement(),this.pushStatements({type:r.pushStaticAttribute,position:e.position,attributeIndex:u.attribute.index,attributeIdentifier:u.attribute.identifier,klass:u.staticClass}),this.pushUsagePosition(e.position,u.attribute),{type:u.attribute.type,isAssignable:!u.attribute.isFinal}):(this.pushError(u.error,e.position),{type:n,isAssignable:!1})}if("length"!=e.identifier)return this.pushError("Der Wert vom Datentyp "+t.type.identifier+" hat kein Attribut "+e.identifier,e.position),null;this.pushStatements({type:r.pushArrayLength,position:e.position});var c=new k("length",st,null,!0,j.public,!0,"L√§nge des Arrays");return this.module.addIdentifierPosition(e.position,c),{type:st,isAssignable:!1}}},{key:"pushThisOrSuper",value:function(e,t){var n=this.currentSymbolTable.classContext;t&&null!=n&&(n=n.baseClass);var i=this.currentSymbolTable.method;return null==n||null==i?(this.pushError("Das Objekt "+(t?"super":"this")+" existiert nur innerhalb einer Methodendeklaration.",e.position),null):(this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0}),this.pushTypePosition(e.position,n),{type:n,isAssignable:!1,isSuper:t})}},{key:"superconstructorCall",value:function(e){var t=this.currentSymbolTable.classContext,n=e.type==r.superConstructorCall;n&&(null!=(null==t?void 0:t.baseClass)&&"Object"!=t.baseClass.identifier||this.pushError("Die Klasse ist nur Kindklasse der Klasse Object, daher ist der Aufruf des Superkonstruktors nicht m√∂glich.",e.position));var i,o=this.currentSymbolTable.method;if(null==t||null==o||!o.isConstructor)return this.pushError("Ein Aufruf des Konstruktors oder des Superkonstructors ist nur innerhalb des Konstruktors einer Klasse m√∂glich.",e.position),null;if(n){if((i=t.baseClass)instanceof N)return this.pushError("Statische Methoden haben keine super-Methodenaufrufe.",e.position),{type:null,isAssignable:!1};null==i&&(i=this.moduleStore.getType("Object").type)}else if((i=t)instanceof N)return this.pushError("Statische Methoden haben keine this-Methodenaufrufe.",e.position),{type:null,isAssignable:!1};this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0});var a=[];if(null!=e.operands){var s=!1,l=!0,u=!1,c=void 0;try{for(var d,h=e.operands[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=this.processNode(p);null!=f?a.push(f.type):s=!0}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}if(s)return{type:ht,isAssignable:!1}}var y=i.getConstructor(a,j.protected);if(this.module.pushMethodCallPosition(e.position,e.commaPositions,i.getMethods(j.protected,i.identifier),e.rightBracketPosition),null!=y.error)return this.pushError(y.error,e.position),{type:ht,isAssignable:!1};var v=y.methodList[0];this.pushUsagePosition(e.position,v);var m=0;if(v.hasEllipsis()){var g=a.length-v.getParameterCount()+1;m=-(g-1),this.pushStatements({type:r.makeEllipsisArray,position:e.operands[v.getParameterCount()-1].position,parameterCount:g,stepFinished:!1,arrayType:v.getParameter(v.getParameterCount()-1).type})}return this.pushStatements({type:r.callMethod,method:v,isSuperCall:n,position:e.position,stackframeBegin:-(a.length+1+m)}),{type:null,isAssignable:!1}}},{key:"incrementDecrementBeforeOrAfter",value:function(e){var t=this.processNode(e.operand);if(null!=t)return t.isAssignable?t.type.canCastTo(lt)?(this.pushStatements({type:e.type,position:e.position,incrementDecrementBy:e.operator==r.doubleMinus?-1:1}),t):(this.pushError("Die Operatoren ++ und -- k√∂nnen nur auf Zahlen angewendet werden, nicht auf Werte des Datentyps "+t.type.identifier,e.position),t):(this.pushError("Die Operatoren ++ und -- k√∂nnen nur auf Variablen angewendet werden, nicht auf konstante Werte oder R√ºckgabewerte von Methoden.",e.position),t)}},{key:"selectArrayElement",value:function(e){var t=this.processNode(e.object),n=this.processNode(e.index);if(null!=t&&null!=n)return t.type instanceof Y?(this.module.addIdentifierPosition({line:e.position.line,column:e.position.column+e.position.length,length:0},t.type.arrayOfType),this.ensureAutomaticCasting(n.type,st)?(this.pushStatements({type:r.selectArrayElement,position:e.position}),{type:t.type.arrayOfType,isAssignable:t.isAssignable}):(this.pushError("Als Index eines Arrays wird ein ganzzahliger Wert erwartet. Gefunden wurde ein Wert vom Typ "+n.type.identifier+".",e.index.position),{type:t.type.arrayOfType,isAssignable:t.isAssignable})):(this.pushError("Der Typ der Variablen ist kein Array, daher ist [] nicht zul√§ssig. ",e.object.position),null)}},{key:"pushTypePosition",value:function(e,t){null!=e&&(e.length>0&&(e={line:e.line,column:e.column+e.length,length:0}),this.module.addIdentifierPosition(e,t))}},{key:"pushUsagePosition",value:function(e,t){if(this.module.addIdentifierPosition(e,t),!(t instanceof w)){var n=t.usagePositions.get(this.module);null==n&&(n=[],t.usagePositions.set(this.module,n)),n.push(e)}}},{key:"resolveIdentifier",value:function(e){if(null==e.identifier)return null;var t=this.findLocalVariable(e.identifier);if(null!=t)return this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:t.stackPos}),this.pushUsagePosition(e.position,t),e.variable=t,{type:t.type,isAssignable:!t.isFinal};if(null!=this.heap){var n=this.heap[e.identifier];if(null!=n)return this.pushStatements({type:r.pushFromHeapToStack,position:e.position,identifier:e.identifier}),this.pushUsagePosition(e.position,n),e.variable=n,{type:n.type,isAssignable:!n.isFinal}}var i=this.findAttribute(e.identifier,e.position);if(null!=i){if(i.isStatic){for(var o=this.currentSymbolTable.classContext,a=o instanceof N?o:o.staticClass;null!=a&&-1==a.attributes.indexOf(i);)a=a.baseClass;this.pushStatements({type:r.pushStaticAttribute,position:e.position,klass:a,attributeIndex:i.index,attributeIdentifier:i.identifier})}else this.pushStatements({type:r.pushAttribute,position:e.position,attributeIndex:i.index,attributeIdentifier:i.identifier,useThisObject:!0}),e.attribute=i;return this.pushUsagePosition(e.position,i),{type:i.type,isAssignable:!i.isFinal}}var s=this.moduleStore.getType(e.identifier);if(null!=s){var l=s.type;return l instanceof G||l instanceof V?(this.pushStatements({type:r.pushStaticClassObject,position:e.position,klass:l}),this.pushUsagePosition(e.position,l),{type:l instanceof G?l.staticClass:l,isAssignable:!1}):(this.pushError("Der Typ "+l.identifier+" hat keine statischen Attribute/Methoden.",e.position),{type:l,isAssignable:!1})}this.pushError("Der Bezeichner "+e.identifier+" ist hier nicht bekannt.",e.position)}},{key:"findLocalVariable",value:function(e){for(var t=this.currentSymbolTable;null!=t;){var n=t.variableMap.get(e);if(null!=n&&null!=n.stackPos)return n;t=t.parent}return null}},{key:"findAttribute",value:function(e,t){var n=this.currentSymbolTable.classContext;if(null==n)return null;var i=n.getAttribute(e,j.private);if(null!=i.attribute)return i.attribute;if(n instanceof G){var r=n.staticClass.getAttribute(e,j.private);if(null!=r.attribute)return r.attribute}return null}},{key:"callMethod",value:function(e){var t=null;if(null==e.object){var n=this.currentSymbolTable.classContext;if(null==n)return this.pushError("Ein Methodenaufruf (hier: "+e.identifier+") ohne Punktschreibweise ist nur innerhalb anderer Methoden m√∂glich.",e.position),null;this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0}),t={type:n,isAssignable:!1}}else t=this.processNode(e.object);if(null==t)return null;if(!(t.type instanceof G||t.type instanceof N||t.type instanceof V&&(null!=e.object.variable||null!=e.object.attribute||null!=e.object.termInsideBrackets)||t.type instanceof Ht))return null==t.type?this.pushError("Werte dieses Datentyps besitzen keine Methoden.",e.position):t.type instanceof V?this.pushError("Methodendefinitionen eines Interfaces k√∂nnen nicht statisch aufgerufen werden.",e.position):this.pushError("Werte des Datentyps "+t.type.identifier+" besitzen keine Methoden.",e.position),null;var i,o=t.type,a=this.currentProgram.statements.length,s=[],l=[],u=this.currentProgram.statements;if(null!=e.operands)for(var c=0;c<e.operands.length;c++){var d=e.operands[c],h=this.processNode(d);l.push(u.length),null==h?s.push(at):s.push(h.type)}if(o instanceof V)i=o.getMethodsThatFitWithCasting(e.identifier,s,!1);else{var p=K(o,this.currentSymbolTable.classContext);i=o.getMethodsThatFitWithCasting(e.identifier,s,!1,p)}if(this.module.pushMethodCallPosition(e.position,e.commaPositions,o.getMethods(j.private,e.identifier),e.rightBracketPosition),null!=i.error)return this.pushError(i.error,e.position),{type:ht,isAssignable:!1};var f=i.methodList[0];this.pushUsagePosition(e.position,f),f.isStatic&&o instanceof G&&"PrintStream"!=o.identifier&&(this.pushError("Es ist kein guter Programmierstil, statische Methoden einer Klasse mithilfe eines Objekts aufzurufen. Besser w√§re hier "+o.identifier+"."+f.identifier+"(...).",e.position,"info"),this.insertStatements(a,[{type:r.decreaseStackpointer,position:e.position,popCount:1},{type:r.pushStaticClassObject,position:e.position,klass:o}]));for(var y=null,v=0;v<s.length;v++){v<f.getParameterCount()&&(y=f.getParameterType(v),v==f.getParameterCount()-1&&f.hasEllipsis()&&(y=y.arrayOfType));var m=s[v],g=u.length;if(this.ensureAutomaticCasting(m,y,e.operands[v].position,e.operands[v])||this.pushError("Der Wert vom Datentyp "+m.identifier+" kann nicht als Parameter (Datentyp "+y.identifier+") verwendet werden.",e.operands[v].position),u.length>g){var b=u.splice(g,u.length-g);u.splice.apply(u,[l[v],0].concat(qt(b))),this.currentProgram.labelManager.correctPositionsAfterInsert(l[v],b.length)}}var w=0;if(f.hasEllipsis()){var k=s.length-f.getParameterCount()+1;w=-(k-1),this.pushStatements({type:r.makeEllipsisArray,position:e.operands[f.getParameterCount()-1].position,parameterCount:k,stepFinished:!1,arrayType:f.getParameter(f.getParameterCount()-1).type})}if(f.visibility!=j.public){var S=!0,P=this.currentSymbolTable.classContext;null==P?S=!1:P==o||P instanceof G&&P.implements.indexOf(o)>0||(S=f.visibility!=j.private&&P.hasAncestorOrIs(o)),S||this.pushError("Die Methode "+f.identifier+" ist an dieser Stelle des Programms nicht sichtbar.",e.position)}return f.isStatic&&null!=t.type&&t.type instanceof N&&t.type.Klass instanceof Xt?this.pushStatements({type:r.callInputMethod,method:f,position:e.position,stepFinished:!0,stackframeBegin:-(s.length+1+w)}):this.pushStatements({type:r.callMethod,method:f,position:e.position,isSuperCall:null!=t.isSuper&&t.isSuper,stepFinished:!0,stackframeBegin:-(s.length+1+w)}),this.pushTypePosition(e.rightBracketPosition,f.getReturnType()),{type:f.getReturnType(),isAssignable:!1}}},{key:"pushConstant",value:function(e){var t;switch(e.constantType){case r.integerConstant:t=st;break;case r.booleanConstant:t=ct;break;case r.floatingPointConstant:t=lt;break;case r.stringConstant:t=ht,this.pushTypePosition(e.position,t);break;case r.charConstant:t=pt;break;case r.keywordNull:t=ft}return this.pushStatements({type:r.pushConstant,dataType:t,position:e.position,value:e.constant}),{type:t,isAssignable:!1}}},{key:"processBinaryOp",value:function(t){var n=e.assignmentOperators.indexOf(t.operator)>=0;if(t.operator==r.ternaryOperator)return this.processTernaryOperator(t);var i=this.processNode(t.firstOperand,n),o=this.currentProgram.statements.length,s=null;t.operator==r.and?s=this.currentProgram.labelManager.insertJumpNode(r.jumpIfFalseAndLeaveOnStack,t.firstOperand.position,this):t.operator==r.or&&(s=this.currentProgram.labelManager.insertJumpNode(r.jumpIfTrueAndLeaveOnStack,t.firstOperand.position,this));var l=this.processNode(t.secondOperand);if(null==i||null==i.type||null==l||null==l.type)return null;if(n){if(!this.ensureAutomaticCasting(l.type,i.type,t.position,t.firstOperand))return this.pushError("Der Wert vom Datentyp "+l.type.identifier+" auf der rechten Seite kann der Variablen auf der linken Seite (Datentyp "+i.type.identifier+") nicht zugewiesen werden.",t.position),i;i.isAssignable||this.pushError("Dem Term/der Variablen auf der linken Seite des Zuweisungsoperators (=) kann kein Wert zugewiesen werden.",t.position);var u={type:t.operator,position:t.position,stepFinished:!0,leaveValueOnStack:!0};return this.pushStatements(u),i}if(t.firstOperand.type==r.identifier&&null!=t.firstOperand.variable){var c=t.firstOperand.variable;null==c.initialized||c.initialized||(c.usedBeforeInitialization=!0,this.pushError("Die Variable "+c.identifier+" wird hier benutzt bevor sie initialisiert wurde.",t.position,"info"))}var d=i.type.getResultType(t.operator,l.type),h=i.type.unboxableAs,p=l.type.unboxableAs;if(null==d&&(null!=h||null!=p)){var f=null==h?[i.type]:h,y=null==p?[l.type]:p,v=!0,m=!1,g=void 0;try{for(var b,w=f[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var k=b.value,S=!0,P=!1,x=void 0;try{for(var T,M=y[Symbol.iterator]();!(S=(T=M.next()).done);S=!0){var C=T.value;if(null!=(d=k.getResultType(t.operator,C))){i.type=k,l.type=C;break}}}catch(e){P=!0,x=e}finally{try{S||null==M.return||M.return()}finally{if(P)throw x}}if(null!=d)break}}catch(e){m=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw g}}}if(null==d&&t.operator==r.plus&&(i.type instanceof G&&l.type==ht?(this.insertStatements(o,this.getToStringStatement(i.type,t.firstOperand.position)),d=ht,i.type=ht):l.type instanceof G&&i.type==ht&&(this.pushStatements(this.getToStringStatement(l.type,t.firstOperand.position)),d=ht)),t.operator in[r.and,r.or]&&(this.checkIfAssignmentInstedOfEqual(t.firstOperand),this.checkIfAssignmentInstedOfEqual(t.secondOperand)),null==d){var j=[r.ampersand,r.OR].indexOf(t.operator);return j>=0&&i.type==ct&&l.type==ct?this.pushError("Die Operation "+a[t.operator]+" ist f√ºr die Operanden der Typen "+i.type.identifier+" und "+l.type.identifier+" nicht definiert. Du meintest wahrscheinlich den Operator "+["&& (boolescher UND-Operator)","|| (boolescher ODER-Operator)"][j]+".",t.position,"error",{title:"Operator "+["& &","||"][j]+" verwenden statt "+a[t.operator],editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:t.position.line,startColumn:t.position.column,endLineNumber:t.position.line,endColumn:t.position.column},text:a[t.operator]}}]}}):this.pushError("Die Operation "+a[t.operator]+" ist f√ºr die Operanden der Typen "+i.type.identifier+" und "+l.type.identifier+" nicht definiert.",t.position),i}return this.pushStatements({type:r.binaryOp,leftType:i.type,operator:t.operator,position:t.position}),null!=s&&this.currentProgram.labelManager.markJumpDestination(1,s),{type:d,isAssignable:!1}}},{key:"processTernaryOperator",value:function(e){var t=this.processNode(e.firstOperand);if(null!=t&&this.ensureAutomaticCasting(t.type,ct,null,e.firstOperand)){var n=e.secondOperand;if(null!=n){if(n.type==r.binaryOp&&n.operator==r.colon){var i=this.currentProgram.labelManager,o=i.insertJumpNode(r.jumpIfFalse,e.position,this),a=this.processNode(n.firstOperand),s=i.insertJumpNode(r.jumpAlways,n.firstOperand.position,this);i.markJumpDestination(1,o);var l=this.processNode(n.secondOperand);i.markJumpDestination(1,s);var u=a.type;return null!=l&&u!=l.type&&u.canCastTo(l.type)&&(u=l.type),{type:u,isAssignable:!1}}this.pushError("Auf den Fragezeichenoperator m√ºssen - mit Doppelpunkt getrennt - zwei Alternativterme folgen.",e.position)}}}},{key:"processUnaryOp",value:function(e){var t=this.processNode(e.operand);if(null!=t&&null!=t.type)return e.operator!=r.minus||t.type.canCastTo(lt)?e.operator==r.not&&t.type!=ct?(this.checkIfAssignmentInstedOfEqual(e.operand),this.pushError("Der Operator ! ist f√ºr den Typ "+t.type.identifier+" nicht definiert.",e.position),t):(this.pushStatements({type:r.unaryOp,operator:e.operator,position:e.position}),t):(this.pushError("Der Operator - ist f√ºr den Typ "+t.type.identifier+" nicht definiert.",e.position),t)}}])&&Yt(t.prototype,n),i&&Yt(t,i),e}();function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}en.assignmentOperators=[r.assignment,r.plusAssignment,r.minusAssignment,r.multiplicationAssignment,r.divisionAssignment,r.ANDAssigment,r.ORAssigment,r.XORAssigment,r.shiftLeftAssigment,r.shiftRightAssigment,r.shiftRightUnsignedAssigment];var rn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isInConsoleMode=t,this.lookahead=4,this.endToken={position:{line:0,column:0,length:1},tt:r.endofSourcecode,value:"das Ende des Programms"},this.tokensNotAfterCasting=[r.multiplication,r.division,r.plus,r.minus,r.dot,r.modulo,r.semicolon,r.rightBracket]}var t,n,i;return t=e,(n=[{key:"parse",value:function(e){if(this.module=e,this.tokenList=e.tokenList,this.errorList=[],0==this.tokenList.length)return this.module.mainProgramAst=[],this.module.classDefinitionsAST=[],this.module.typeNodes=[],void(this.module.errors[1]=this.errorList);this.pos=0,this.initializeLookahead(),this.typeNodes=[];var t=this.tokenList[this.tokenList.length-1];this.endToken.position={line:t.position.line,column:t.position.column+t.position.length,length:1};var n=this.parseMain();this.module.mainProgramAst=n.mainProgramAST,this.module.classDefinitionsAST=n.classDefinitionAST,this.module.mainProgramEnd=n.mainProgramEnd,this.module.typeNodes=this.typeNodes,this.module.errors[1]=this.errorList}},{key:"initializeLookahead",value:function(){this.ct=[];for(var e=0;e<this.lookahead;e++){for(var t=this.endToken;!(this.pos>=this.tokenList.length);){var n=this.tokenList[this.pos];if(n.tt==r.comment&&(this.lastComment=n),n.tt!=r.newline&&n.tt!=r.space&&n.tt!=r.comment){t=n,null!=this.lastComment&&(t.commentBefore=this.lastComment,this.lastComment=null);break}this.pos++}this.ct.push(t),e<this.lookahead-1&&this.pos++}this.cct=this.ct[0],this.tt=this.cct.tt,this.position=this.cct.position}},{key:"nextToken",value:function(){var e;for(this.lastToken=this.cct;;){if(this.pos++,this.pos>=this.tokenList.length){e=this.endToken;break}if((e=this.tokenList[this.pos]).tt==r.comment&&(this.lastComment=e),e.tt!=r.newline&&e.tt!=r.space&&e.tt!=r.comment){e.commentBefore=this.lastComment,this.lastComment=null;break}}for(var t=0;t<this.lookahead-1;t++)this.ct[t]=this.ct[t+1];this.ct[this.lookahead-1]=e,this.cct=this.ct[0],this.tt=this.cct.tt,this.position=this.cct.position}},{key:"pushError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;null==n&&(n=Object.assign({},this.position)),this.errorList.push({text:e,position:n,quickFix:i,level:t})}},{key:"expect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.tt!=e){if(e==r.semicolon&&this.tt==r.endofSourcecode)return!0;var i=this.cct.position;e==r.semicolon&&null!=this.lastToken&&this.lastToken.position.line<i.line&&(i={line:this.lastToken.position.line,column:this.lastToken.position.column+this.lastToken.position.length,length:1});var o=null;return e==r.semicolon&&this.lastToken.position.line<this.cct.position.line&&!this.isOperatorOrDot(this.lastToken.tt)&&(o={title:"Strichpunkt hier einf√ºgen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:i.line,startColumn:i.column,endLineNumber:i.line,endColumn:i.column,message:"",severity:monaco.MarkerSeverity.Error},text:";"}}]}},n&&this.errorList.length<3&&this.module.main.getSemicolonAngel().register(i,this.module)),this.pushError("Erwartet wird: "+a[e]+" - Gefunden wurde: "+a[this.tt],"error",i,o),!1}return t&&this.nextToken(),!0}},{key:"isOperatorOrDot",value:function(t){if(t==r.dot)return!0;var n=!0,i=!1,o=void 0;try{for(var a,s=e.operatorPrecedence[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,u=!0,c=!1,d=void 0;try{for(var h,p=l[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)if(t==h.value)return!0}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"isEnd",value:function(){return this.cct==this.endToken}},{key:"comesToken",value:function(e){return Array.isArray(e)?e.indexOf(this.tt)>=0:this.tt==e}},{key:"getCurrentPosition",value:function(){return Object.assign({},this.position)}},{key:"getEndOfCurrentToken",value:function(){var e=this.getCurrentPosition();return e.column=e.column+this.position.length,e.length=0,e}},{key:"parseMain",value:function(){for(var t=[],n=[],i={column:0,line:1e4,length:1};!this.isEnd();){var r=this.pos;if(this.comesToken(e.BeforeClassDefinitionTokens)){var o=this.parseClassDefinition();null!=o&&(n=n.concat(o))}else{var a=this.parseStatement();null!=a&&(t=t.concat(a)),i=this.getCurrentPosition()}this.pos==r&&(this.pos++,this.initializeLookahead())}return{mainProgramAST:t,classDefinitionAST:n,mainProgramEnd:i}}},{key:"checkIfStatementHasNoEffekt",value:function(t){if(!this.isInConsoleMode)if(t.type==r.binaryOp&&e.assignmentOperators.indexOf(t.operator)<0){var n="dieses Terms";switch(t.operator){case r.plus:n="dieser Summe";break;case r.minus:n="dieser Differenz";break;case r.multiplication:n="dieses Produkts";break;case r.division:n="dieses Quotienten"}n+=" (Operator "+a[t.operator]+")",this.pushError("Der Wert ".concat(n," wird zwar berechnet, aber danach verworfen. M√∂chtest Du ihn vielleicht einer Variablen zuweisen?"),"info",t.position)}else[r.unaryOp,r.pushConstant,r.identifier,r.selectArrayElement].indexOf(t.type)>=0&&this.pushError("Der Wert dieses Terms wird zwar berechnet, aber danach verworfen. M√∂chtest Du ihn vielleicht einer Variablen zuweisen?","info",t.position)}},{key:"parseStatement",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=null;switch(this.tt){case r.leftBracket:case r.identifier:case r.keywordThis:case r.keywordSuper:case r.keywordFinal:case r.charConstant:case r.integerConstant:case r.stringConstant:case r.booleanConstant:case r.floatingPointConstant:case r.keywordNew:var i=this.parseVariableDeclarationOrTerm();t&&this.expect(r.semicolon,!0,!0),n=i;break;case r.leftCurlyBracket:var o=[],s=this.getCurrentPosition();for(this.nextToken();this.tt!=r.rightCurlyBracket&&this.tt!=r.endofSourcecode&&e.BeforeClassDefinitionTokens.indexOf(this.tt)<0;)o=o.concat(this.parseStatement());var l=this.getCurrentPosition();l.column=l.column+l.length,l.length=0,this.expect(r.rightCurlyBracket),n=[{type:r.scopeNode,position:s,positionTo:l,statements:o}];break;case r.keywordWhile:n=this.parseWhile();break;case r.keywordFor:n=this.parseFor();break;case r.keywordDo:n=this.parseDo();break;case r.keywordIf:n=this.parseIf();break;case r.keywordReturn:n=this.parseReturn();break;case r.keywordPrint:case r.keywordPrintln:n=this.parsePrint();break;case r.keywordSwitch:n=this.parseSwitch();break;case r.keywordBreak:var u=this.getCurrentPosition();this.nextToken(),n=[{type:r.keywordBreak,position:u}];break;case r.keywordContinue:var c=this.getCurrentPosition();this.nextToken(),n=[{type:r.keywordContinue,position:c}];break;case r.semicolon:break;default:var d=a[this.tt];d!=this.cct.value&&(d+="("+this.cct.value+")"),d+=" wird hier nicht erwartet.",this.pushError(d);var h=e.BeforeClassDefinitionTokens.indexOf(this.tt)>=0;h||this.nextToken()}if(null==n)for(;this.tt==r.semicolon&&t;)this.nextToken();if(null!=n&&n.length>0){var p=n[n.length-1];null!=p?this.checkIfStatementHasNoEffekt(n[n.length-1]):n=null}return n}},{key:"parseReturn",value:function(){var e,t=this.getCurrentPosition();return this.nextToken(),this.tt!=r.semicolon&&(e=this.parseTerm(),this.expect(r.semicolon,!0,!0)),[{type:r.keywordReturn,position:t,term:e}]}},{key:"parseWhile",value:function(){var e=this.getCurrentPosition();this.nextToken();var t=this.getCurrentPosition();if(this.expect(r.leftBracket,!0)){var n=this.parseTerm(),i=this.getCurrentPosition();this.module.pushMethodCallPosition(e,[],"while",i),this.expect(r.rightBracket,!0),this.tt==r.semicolon&&this.pushError("Diese while-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var o=this.parseStatement(),a=this.getCurrentPosition();return a.length=0,null!=o&&o.length>0&&o[0].type==r.scopeNode&&(a=o[0].positionTo),[{type:r.keywordWhile,position:e,scopeFrom:t,scopeTo:a,condition:n,statements:o}]}return[]}},{key:"parseFor",value:function(){var e=this.getCurrentPosition(),t=[];this.nextToken();var n=this.getCurrentPosition();if(this.expect(r.leftBracket,!0)){if(this.ct[2].tt==r.colon)return this.parseForLoopOverCollection(e,n);var i=this.parseStatement(!1);t.push(this.getCurrentPosition()),this.expect(r.semicolon);var o=this.parseTerm();t.push(this.getCurrentPosition()),this.expect(r.semicolon,!0);var a=this.parseStatement(!1),s=this.getCurrentPosition();this.expect(r.rightBracket,!0),this.module.pushMethodCallPosition(e,t,"for",s),this.tt==r.semicolon&&this.pushError("Diese for-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var l=this.parseStatement(),u=this.getCurrentPosition();return u.length=0,null!=l&&l.length>0&&l[0].type==r.scopeNode&&(u=l[0].positionTo),null==o&&(o={type:r.pushConstant,position:this.getCurrentPosition(),constantType:r.booleanConstant,constant:!0}),[{type:r.keywordFor,position:e,scopeFrom:n,scopeTo:u,condition:o,statementsBefore:i,statementsAfter:a,statements:l}]}return[]}},{key:"parseForLoopOverCollection",value:function(e,t){var n=this.parseType(),i=this.cct.value,o=this.getCurrentPosition();this.nextToken(),this.expect(r.colon,!0);var a=this.parseTerm();this.expect(r.rightBracket,!0),this.tt==r.semicolon&&this.pushError("Diese for-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var s=this.parseStatement(),l=this.getCurrentPosition();return l.length=0,null!=s&&s.length>0&&s[0].type==r.scopeNode&&(l=s[0].positionTo),null==a||null==n||null==s?[]:[{type:r.forLoopOverCollection,position:e,scopeFrom:t,scopeTo:l,variableIdentifier:i,variableType:n,variablePosition:o,collection:a,statements:s}]}},{key:"parsePrint",value:function(){var e=this.tt,t=this.getCurrentPosition();if(this.nextToken(),this.expect(r.leftBracket,!1)){var n=this.parseMethodCallParameters(),i=n.nodes;return i.length>2&&this.pushError("Die Methoden print und println haben maximal zwei Parameter.","error",t),this.expect(r.semicolon,!0,!0),[{type:e,position:t,text:0==i.length?null:i[0],color:i.length<=1?null:i[1],commaPositions:n.commaPositions,rightBracketPosition:n.rightBracketPosition}]}return null}},{key:"parseSwitch",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.expect(r.leftBracket,!0)){var t=this.parseTerm();this.module.pushMethodCallPosition(e,[],"switch",this.getCurrentPosition()),this.expect(r.rightBracket);var n=this.getCurrentPosition();this.expect(r.leftCurlyBracket,!0);for(var i={type:r.keywordSwitch,position:e,scopeFrom:n,scopeTo:null,condition:t,caseNodes:[]},o=!1;this.tt==r.keywordCase||this.tt==r.keywordDefault;){var a=this.getCurrentPosition(),s=this.tt==r.keywordDefault;s&&(o?this.pushError("Eine switch-Anweisung darf nur maximal einen default-Zweig haben.","error",a):o=!0),this.nextToken();var l=null;s||(l=this.parseUnary()),this.expect(r.colon,!0);for(var u=[];this.tt!=r.rightCurlyBracket&&this.tt!=r.endofSourcecode&&this.tt!=r.keywordCase&&this.tt!=r.keywordDefault;){var c=this.parseStatement();null!=c&&(u=u.concat(c))}var d={type:r.keywordCase,position:a,caseTerm:l,statements:u};i.caseNodes.push(d)}return i.scopeTo=this.getEndOfCurrentToken(),this.expect(r.rightCurlyBracket,!0),[i]}return null}},{key:"parseIf",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.expect(r.leftBracket,!0)){var t=this.parseTerm(),n=this.getCurrentPosition();this.module.pushMethodCallPosition(e,[],"if",n),this.expect(r.rightBracket,!0),this.tt==r.semicolon&&this.pushError("Falls die Bedingung zutrifft, wird nur der Strichpunkt ausgef√ºhrt (leere Anweisung).","warning");var i=this.parseStatement();this.tt==r.semicolon&&this.nextToken();var o=null;return this.comesToken(r.keywordElse)&&(this.nextToken(),o=this.parseStatement()),null==t&&0==this.errorList.length&&(t={type:r.pushConstant,position:this.getCurrentPosition(),constantType:r.booleanConstant,constant:!0}),[{type:r.keywordIf,position:e,condition:t,statementsIfTrue:i,statementsIfFalse:o}]}return[]}},{key:"parseDo",value:function(){var e=this.getCurrentPosition(),t=this.getCurrentPosition();this.nextToken();var n=this.parseStatement();if(this.expect(r.keywordWhile,!0)&&this.expect(r.leftBracket,!0)){var i=this.parseTerm(),o=this.getEndOfCurrentToken();return this.expect(r.rightBracket,!0),[{type:r.keywordDo,position:e,scopeFrom:t,scopeTo:o,condition:i,statements:n}]}return[]}},{key:"comesGenericType",value:function(){return this.ct[1].tt==r.lower&&this.ct[2].tt==r.identifier&&(this.ct[3].tt==r.greater||this.ct[3].tt==r.comma)}},{key:"parseVariableDeclarationOrTerm",value:function(){if(this.tt!=r.identifier&&this.tt!=r.keywordFinal||this.ct[1].tt!=r.identifier&&this.ct[1].tt!=r.leftRightSquareBracket&&!this.comesGenericType())return[this.parseTerm()];var e=[],t=null;do{null!=t&&this.expect(r.comma,!0);var n=this.parseVariableDeclaration(t);e.push(n),t=null==n?void 0:n.variableType}while(this.tt==r.comma);return e}},{key:"parseTerm",value:function(){return this.parseTermBinary(0)}},{key:"parseTermBinary",value:function(t){var n,i=this;n=t<e.operatorPrecedence.length-1?this.parseTermBinary(t+1):this.parsePlusPlusMinusMinus();var o=e.operatorPrecedence[t];if(null==n||o.indexOf(this.tt)<0)return n;for(var a=!0,s=function(){var o=i.tt;a=!1;var s=i.getCurrentPosition();i.nextToken();for(var l=function(){var e=c[u];if(o==r.assignment&&i.tt==e.op){var t=i.getCurrentPosition();i.pushError("Den Operator ".concat(e.wrong," gibt es nicht. Du meintest sicher: ").concat(e.right),"error",Object.assign({},s,{length:2}),{title:"".concat(e.wrong," durch ").concat(e.right," ersetzen"),editsProvider:function(n){return[{resource:n,edit:{range:{startLineNumber:s.line,startColumn:s.column,endLineNumber:s.line,endColumn:t.column+t.length},text:e.right}}]}}),i.nextToken(),o=e.correctOp}},u=0,c=[{op:r.lower,wrong:"=<",right:"<=",correctOp:r.lowerOrEqual},{op:r.greater,wrong:"=>",right:">=",correctOp:r.greaterOrEqual}];u<c.length;u++)l();var d=void 0;if(null!=(d=t<e.operatorPrecedence.length-1?i.parseTermBinary(t+1):i.parsePlusPlusMinusMinus())){var h=!1;if(i.isConstant(n)&&i.isConstant(d)){var p=n,f=d,y=kt[p.constantType],v=kt[f.constantType],m=y.getResultType(o,v);if(null!=m){h=!0;var g=y.compute(o,{type:y,value:p.constant},{type:v,value:f.constant});i.considerIntDivisionWarning(o,y,p.constant,v,f.constant,s),p.constantType=m.toTokenType(),p.constant=g,p.position.length=f.position.column+f.position.length-p.position.column}}h||(n={type:r.binaryOp,position:s,operator:o,firstOperand:n,secondOperand:d})}};a||o.indexOf(this.tt)>=0;)s();return n}},{key:"considerIntDivisionWarning",value:function(e,t,n,i,o,a){e==r.division&&this.isIntegerType(t)&&this.isIntegerType(i)&&0!=o&&n/o!=Math.floor(n/o)&&this.pushError("Da "+n+" und "+o+" ganzzahlige Werte sind, wird diese Division als Ganzzahldivision ausgef√ºhrt und ergibt den Wert "+Math.floor(n/o)+". Falls das nicht gew√ºnscht ist, h√§nge '.0' an einen der Operanden.","info",a)}},{key:"isIntegerType",value:function(e){return e==st}},{key:"isConstant",value:function(e){return null!=e&&e.type==r.pushConstant}},{key:"parsePlusPlusMinusMinus",value:function(){var e=null,t=null;this.comesToken([r.doublePlus,r.doubleMinus])&&(e=this.tt,t=this.getCurrentPosition(),this.nextToken());var n=this.parseUnary();return null!=e&&(n={type:r.incrementDecrementBefore,position:t,operator:e,operand:n}),this.comesToken([r.doublePlus,r.doubleMinus])&&(n={type:r.incrementDecrementAfter,position:this.getCurrentPosition(),operator:this.tt,operand:n},this.nextToken()),n}},{key:"parseUnary",value:function(){var e,t=this.getCurrentPosition();switch(this.tt){case r.leftBracket:return this.parseDotOrArrayChains(this.bracketOrCasting());case r.minus:case r.not:case r.tilde:t=t;var n=this.tt;if(this.nextToken(),e=this.parseUnary(),this.isConstant(e)){var i=e,o=kt[i.constantType],a=o.getResultType(n);if(null!=a){var s=o.compute(n,{type:o,value:i.constant});return i.constantType=a.toTokenType(),i.constant=s,t.length=i.position.column-t.column+1,i}}return{type:r.unaryOp,position:t,operand:e,operator:n};case r.keywordSuper:if(this.ct[1].tt==r.leftBracket){this.nextToken();var l=this.parseMethodCallParameters();return e={type:r.superConstructorCall,position:t,operands:l.nodes,commaPositions:l.commaPositions,rightBracketPosition:l.rightBracketPosition}}return e={type:r.keywordSuper,position:t},this.nextToken(),this.parseDotOrArrayChains(e);case r.keywordThis:if(this.ct[1].tt==r.leftBracket){this.nextToken();var u=this.parseMethodCallParameters();return e={type:r.constructorCall,position:t,operands:u.nodes,commaPositions:u.commaPositions,rightBracketPosition:u.rightBracketPosition}}return e={type:r.keywordThis,position:t},this.nextToken(),this.parseDotOrArrayChains(e);case r.keywordNew:return this.parseDotOrArrayChains(this.parseNew());case r.integerConstant:case r.charConstant:case r.floatingPointConstant:case r.stringConstant:case r.booleanConstant:e={type:r.pushConstant,position:this.getCurrentPosition(),constantType:this.tt,constant:this.cct.value};var c=this.tt==r.stringConstant;return this.nextToken(),c?this.parseDotOrArrayChains(e):e;case r.keywordNull:return e={type:r.pushConstant,position:this.getCurrentPosition(),constantType:r.keywordNull,constant:null},this.nextToken(),e;case r.identifier:var d=this.cct.value,h=this.getCurrentPosition();if(this.nextToken(),this.tt==r.leftBracket){var p=this.parseMethodCallParameters(),f=p.rightBracketPosition;e={type:r.callMethod,position:h,rightBracketPosition:f,operands:p.nodes,object:e,identifier:d,commaPositions:p.commaPositions}}else e={type:r.identifier,identifier:d,position:t};return this.parseDotOrArrayChains(e);default:return this.pushError("Erwartet wird eine Variable, ein Methodenaufruf oder this oder super. Gefunden wurde: "+this.cct.value),null}}},{key:"bracketOrCasting",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.tt==r.identifier&&this.ct[1].tt==r.rightBracket&&this.tokensNotAfterCasting.indexOf(this.ct[2].tt)<0){var t=this.parseType(),n=this.getCurrentPosition();e.length=n.column-e.column+1,this.expect(r.rightBracket,!0);var i=this.parsePlusPlusMinusMinus();return{type:r.castValue,position:e,castToType:t,whatToCast:i}}var o=this.parseTerm(),a=this.getCurrentPosition();return this.expect(r.rightBracket,!0),this.isConstant(o)?o:{position:a,type:r.rightBracket,termInsideBrackets:o}}},{key:"parseNew",value:function(){this.nextToken();var e=this.getCurrentPosition();if(this.expect(r.identifier,!1)){var t=this.cct.value,n=this.getCurrentPosition();this.nextToken();var i=null;if(this.tt==r.lower){i=[];var o=!0;for(this.nextToken();o&&this.tt==r.identifier||!o&&this.tt==r.comma;)o||this.nextToken(),o=!1,i.push(this.parseType());this.expect(r.greater),0==i.length&&(i=null)}if(this.tt==r.leftSquareBracket||this.tt==r.leftRightSquareBracket){var a={type:r.type,position:e,arrayDimension:0,identifier:t,genericParameterTypes:i};this.typeNodes.push(a);for(var s=[];this.tt==r.leftSquareBracket||this.tt==r.leftRightSquareBracket;)a.arrayDimension++,this.tt==r.leftRightSquareBracket?(s.push(null),this.nextToken()):(this.nextToken(),s.push(this.parseTerm()),this.expect(r.rightSquareBracket,!0));var l=null;return this.tt==r.leftCurlyBracket&&(l=this.parseArrayLiteral(a)),{type:r.newArray,position:e,arrayType:a,elementCount:s,initialization:l}}if(this.tt==r.leftBracket){var u=this.parseMethodCallParameters(),c={type:r.type,position:n,arrayDimension:0,identifier:t,genericParameterTypes:i};return this.typeNodes.push(c),{type:r.newObject,position:e,classType:c,constructorOperands:u.nodes,rightBracketPosition:u.rightBracketPosition,commaPositions:u.commaPositions}}this.pushError("Konstruktoraufruf (also runde Klammer auf) oder Array-Intanzierung (eckige Klammer auf) erwartet.","error",this.getCurrentPosition())}return null}},{key:"parseArrayLiteral",value:function(e){var t=[],n=this.getCurrentPosition(),i=null;if(this.expect(r.leftCurlyBracket,!0),this.tt!=r.rightCurlyBracket)for(var o=!0;o||this.tt==r.comma;){var a=this.getCurrentPosition();o||this.nextToken(),o=!1;var s=void 0;if(this.tt==r.leftCurlyBracket){var l={type:r.type,position:this.getCurrentPosition(),arrayDimension:e.arrayDimension-1,identifier:e.identifier};this.typeNodes.push(l);var u=this.parseArrayLiteral(l);s=u.dimension+1,t.push(u)}else t.push(this.parseTerm()),s=1;null!=i&&i!=s&&this.pushError("Die Dimension dieses Array-Literals ("+(s-1)+" ist ungleich derjenigen der vorangegangenen Array-Literale ("+(i-1)+").","error",a),i=s}return this.expect(r.rightCurlyBracket,!0),{type:r.arrayInitialization,position:n,arrayType:e,dimension:i,nodes:t}}},{key:"parseMethodCallParameters",value:function(){if(this.nextToken(),this.tt==r.rightBracket){var e=this.getCurrentPosition();return this.nextToken(),{rightBracketPosition:e,nodes:[],commaPositions:[]}}for(var t=[],n=[];;){var i=this.pos,o=this.parseTerm();if(null!=o&&t.push(o),this.tt!=r.comma)break;n.push(this.getCurrentPosition()),this.nextToken(),this.pos==i&&this.nextToken()}var a=this.getCurrentPosition();return{rightBracketPosition:this.expect(r.rightBracket,!0)?a:null,nodes:t,commaPositions:n}}},{key:"parseDotOrArrayChains",value:function(e){if(null==e)return null;for(;this.comesToken([r.dot,r.leftSquareBracket]);)if(this.tt==r.dot){if(this.nextToken(),this.tt!=r.identifier)return this.pushError("Erwartet wird der Bezeichner eines Attributs oder einer Methode, gefunden wurde: "+this.cct.value),e;var t=this.cct.value,n=this.getCurrentPosition();if(this.nextToken(),this.tt==r.leftBracket){var i=this.parseMethodCallParameters();e={type:r.callMethod,position:n,rightBracketPosition:i.rightBracketPosition,operands:i.nodes,object:e,identifier:t,commaPositions:i.commaPositions}}else e={type:r.pushAttribute,position:n,identifier:t,object:e}}else{var o=e.position;this.nextToken();var a=this.parseTerm(),s=this.getCurrentPosition(),l=Object.assign({},o);this.expect(r.rightSquareBracket,!0),s.line==o.line?l.length=s.column+s.length-l.column:l=s,e={type:r.selectArrayElement,position:l,index:a,object:e}}return e}},{key:"parseVariableDeclaration",value:function(e){var t=!1;if(this.tt==r.keywordFinal&&(t=!0,this.nextToken()),null==e&&(e=this.parseType()),this.tt!=r.identifier)return this.pushError("Hier wird ein Bezeichner (Name) einer Variable erwartet.","error",this.getCurrentPosition()),null;var n=this.cct.value,i=this.getCurrentPosition();this.nextToken();var o=null;return this.tt==r.assignment&&(this.nextToken(),o=e.arrayDimension>0&&this.tt==r.leftCurlyBracket?this.parseArrayLiteral(e):this.parseTerm()),this.tt==r.endofSourcecode&&null==e&&null==n?null:{type:r.localVariableDeclaration,position:i,identifier:n,variableType:e,initialization:o,isFinal:t}}},{key:"parseType",value:function(){if(this.tt!=r.identifier&&this.tt!=r.keywordVoid)return this.pushError("Erwartet wird ein Datentyp. Dieser muss mit einem Bezeichner beginnen. Gefunden wurde: "+this.cct.value,"error",this.getCurrentPosition()),this.nextToken(),{type:r.type,position:this.getCurrentPosition(),arrayDimension:0,identifier:"int",genericParameterTypes:[]};var e=this.cct.value,t=this.getCurrentPosition();this.nextToken();var n=null;if(this.tt==r.lower){n=[];var i=!0;for(this.nextToken();i&&this.tt==r.identifier||!i&&this.tt==r.comma;)i||this.nextToken(),i=!1,n.push(this.parseType());this.expect(r.greater)}for(var o=0;this.tt==r.leftRightSquareBracket;)o++,t.length+=2,this.nextToken();var a={type:r.type,position:t,arrayDimension:o,identifier:e,genericParameterTypes:n};return this.typeNodes.push(a),a}},{key:"parseClassDefinition",value:function(){var t=this.cct.commentBefore,n=this.collectModifiers();if(!this.comesToken(e.ClassTokens))return this.pushError("Erwartet wird class, interface oder enum. Gefunden wurde: "+this.cct.value),null;var i=this.tt;if(this.nextToken(),this.expect(r.identifier,!1)){var o=this.cct.value,a=this.getCurrentPosition();this.nextToken();var s=[];this.tt==r.lower&&(s=this.parseTypeParameterDefinition());var l=this.parseExtendsImplements(i==r.keywordInterface);if(i==r.keywordEnum)return this.parseEnum(o,l,a,n.visibility,t);var u=this.getCurrentPosition();if(this.expect(r.leftCurlyBracket,!0)){var c=this.parseClassBody(i,o),d=this.getEndOfCurrentToken();switch(this.expect(r.rightCurlyBracket,!0),i){case r.keywordClass:return{type:r.keywordClass,position:a,scopeFrom:u,scopeTo:d,identifier:o,attributes:c.attributes,methods:c.methods,isAbstract:n.isAbstract,visibility:n.visibility,extends:l.extends,implements:l.implements,typeParameters:s,commentBefore:t};case r.keywordInterface:return{type:r.keywordInterface,position:a,identifier:o,scopeFrom:u,scopeTo:d,methods:c.methods,typeParameters:s,extends:l.implements,commentBefore:t}}}}}},{key:"parseTypeParameterDefinition",value:function(){var e=this,t=[],n={};this.expect(r.lower,!0);for(var i=!0,o=function(){i||e.expect(r.comma,!0);var o={type:r.typeParameter,position:e.getCurrentPosition(),identifier:e.cct.value,extends:null,implements:null};null!=n[o.identifier]&&e.pushError("Zwei Typparameter d√ºrfe nicht denselben Bezeichner tragen."),n[o.identifier]=!0,e.nextToken();var a=e.parseTypeParameterBounds();o.extends=a.extends,null!=o.extends&&o.extends.arrayDimension>0&&e.pushError("Der Datentyp des Typparameters "+o.identifier+" darf kein Array sein."),o.implements=a.implements,o.implements.forEach((function(t){t.arrayDimension>0&&e.pushError("Der Datentyp des Typparameters "+o.identifier+" darf kein Array sein.")})),i=!1,t.push(o)};i&&this.tt==r.identifier||!i&&this.tt==r.comma;)o();return this.expect(r.greater,!0),t}},{key:"parseEnum",value:function(e,t,n,i,o){null!=t.extends&&this.pushError("Ein enum kann nicht mit extends erweitert werden."),t.implements.length>0&&this.pushError("Ein enum kann kein Interface implementieren.");var a=this.getCurrentPosition();if(this.expect(r.leftCurlyBracket,!0)){var s=this.parseEnumValues(),l=this.parseClassBody(r.keywordEnum,e),u=this.getEndOfCurrentToken();return this.expect(r.rightCurlyBracket,!0),{type:r.keywordEnum,position:n,scopeFrom:a,scopeTo:u,attributes:l.attributes,methods:l.methods,identifier:e,values:s,visibility:i,commentBefore:o}}return null}},{key:"parseEnumValues",value:function(){for(var e=[],t=0,n=!0;n&&this.tt==r.identifier||this.tt==r.comma;){if(t=this.pos,n||this.nextToken(),n=!1,this.expect(r.identifier,!1)){var i=this.cct.value,o=this.getCurrentPosition();this.nextToken();var a=null,s=[],l=null;if(this.tt==r.leftBracket){var u=this.parseMethodCallParameters();a=u.nodes,s=u.commaPositions,l=u.rightBracketPosition}e.push({type:r.pushEnumValue,constructorParameters:a,identifier:i,position:o,commaPositions:s,rightBracketPosition:l})}this.pos==t&&this.nextToken()}return this.tt==r.semicolon&&this.nextToken(),e}},{key:"parseClassBody",value:function(e,t){for(var n=[],i=[];this.tt!=r.rightCurlyBracket&&this.tt!=r.endofSourcecode;){var o=this.cct.commentBefore,a=null;this.tt==r.at&&(a=this.cct.value,this.nextToken());var s=this.collectModifiers(),l=!1,u=this.getCurrentPosition();this.tt==r.identifier&&this.cct.value==t&&this.ct[1].tt==r.leftBracket&&(l=!0);var c=this.parseType();if(l&&(c={identifier:"void",arrayDimension:0,position:c.position,type:r.type}),l||this.expect(r.identifier,!1)){var d=t;if(l||(u=this.getCurrentPosition(),d=this.cct.value,this.nextToken()),this.tt==r.leftBracket){l&&e==r.keywordEnum&&s.visibility!=j.private&&this.pushError("Konstruktoren in enums m√ºssen private sein.","error",u);var h=this.parseMethodDeclarationParameters(),p=void 0,f=this.getCurrentPosition(),y=f;if(s.isAbstract)this.expect(r.semicolon,!0),l&&this.pushError("Ein Konstruktor kann nicht abstrakt sein.","error",u),p=[];else if(f=this.getCurrentPosition(),p=this.parseStatement(),y=this.getEndOfCurrentToken(),null!=p&&p.length>0&&p[0].type==r.scopeNode){var v=p[0];f=v.position,y=v.positionTo}n.push({type:r.methodDeclaration,identifier:d,position:u,scopeFrom:f,scopeTo:y,parameters:h,statements:p,visibility:s.visibility,isAbstract:s.isAbstract||e==r.keywordInterface,isStatic:s.isStatic,isConstructor:l,returnType:c,annotation:a,isTransient:s.isTransient,commentBefore:o})}else{d==t&&this.pushError("Das Attribut "+t+" darf nicht denselben Bezeichner haben wie die Klasse.","error",u);var m=null;this.tt==r.assignment&&(this.nextToken(),m=c.arrayDimension>0&&this.tt==r.leftCurlyBracket?this.parseArrayLiteral(c):this.parseTerm()),this.expect(r.semicolon),i.push({type:r.attributeDeclaration,identifier:d,position:u,attributeType:c,isStatic:s.isStatic,isFinal:s.isFinal,visibility:s.visibility,initialization:m,annotation:a,isTransient:s.isTransient,commentBefore:o}),e==r.keywordInterface&&this.pushError("Interfaces d√ºrfen keine Attribute enthalten.","error",u)}}}return{methods:n,attributes:i}}},{key:"parseMethodDeclarationParameters",value:function(){var e=[];if(this.nextToken(),this.tt==r.rightBracket)return this.nextToken(),[];for(var t=!1;;){t&&this.pushError("Nur der letzte Parameter darf als Ellipsis (...) definiert werden.");var n=this.tt==r.keywordFinal;n&&this.nextToken();var i=this.parseType();if((t=this.tt==r.ellipsis)&&(this.nextToken(),i.arrayDimension++),this.expect(r.identifier,!1)){var o=this.cct.value;e.push({type:r.parameterDeclaration,position:this.getCurrentPosition(),identifier:o,parameterType:i,isFinal:n,isEllipsis:t}),this.nextToken()}if(this.tt!=r.comma)break;this.nextToken()}return this.expect(r.rightBracket,!0),e}},{key:"parseExtendsImplements",value:function(e){for(var t=this,n=null,i=[];this.comesToken([r.keywordExtends,r.keywordImplements]);)if(this.comesToken(r.keywordExtends)&&!e&&(null!=n&&this.pushError("Eine Klasse kann nicht Unterklasse von zwei anderen Klassen sein, es darf also hier nur ein Mal 'extends...' stehen.","error",n.position),this.nextToken(),null!=(n=this.parseType())&&n.arrayDimension>0&&this.pushError("Der Datentyp der Basisklasse darf kein Array sein.","error",n.position)),!e&&this.comesToken(r.keywordImplements)||e&&this.comesToken(r.keywordExtends)){i.length>0&&this.pushError("Es darf hier nur ein Mal 'implements' stehen, hinter 'implements' ist aber eine kommaseparierte Liste von Interfaces erlaubt.","warning"),this.nextToken();for(var o=!0;o&&this.tt==r.identifier||!o&&this.tt==r.comma;)o||this.nextToken(),o=!1,i.push(this.parseType())}return i.forEach((function(e){e.arrayDimension>0&&t.pushError(e.identifier+"[] ist kein Interface, sondern ein Array. Array-Datentypen sind hier nicht erlaubt.")})),{extends:n,implements:i}}},{key:"parseTypeParameterBounds",value:function(){var e=null,t=[];for(this.comesToken(r.keywordExtends)&&(this.nextToken(),e=this.parseType());this.comesToken(r.ampersand);)this.nextToken(),t.push(this.parseType());return{extends:e,implements:t}}},{key:"collectModifiers",value:function(){for(var e=j.public,t=!1,n=!1,i=!1,o=!1,a=!1,s=!1;!a;)switch(this.tt){case r.keywordPublic:e=j.public,this.nextToken();break;case r.keywordPrivate:e=j.private,this.nextToken();break;case r.keywordProtected:e=j.protected,this.nextToken();break;case r.keywordStatic:n=!0,t&&!s&&(this.pushError("Die Modifier 'abstract' und 'static' k√∂nnen nicht kombiniert werden."),s=!0),this.nextToken();break;case r.keywordAbstract:t=!0,n&&!s&&(this.pushError("Die Modifier 'abstract' und 'static' k√∂nnen nicht kombiniert werden."),s=!0),this.nextToken();break;case r.keywordFinal:i=!0,this.nextToken();break;case r.keywordTransient:o=!0,this.nextToken();break;default:a=!0}return{isAbstract:t,isStatic:n,visibility:e,isFinal:i,isTransient:o}}}])&&nn(t.prototype,n),i&&nn(t,i),e}();function on(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}rn.assignmentOperators=[r.assignment,r.plusAssignment,r.minusAssignment,r.multiplicationAssignment,r.divisionAssignment,r.moduloAssignment,r.ANDAssigment,r.XORAssigment,r.ORAssigment,r.shiftLeftAssigment,r.shiftRightAssigment,r.shiftRightUnsignedAssigment],rn.operatorPrecedence=[rn.assignmentOperators,[r.ternaryOperator],[r.colon],[r.or],[r.and],[r.OR],[r.XOR],[r.ampersand],[r.equal,r.notEqual],[r.keywordInstanceof,r.lower,r.lowerOrEqual,r.greater,r.greaterOrEqual],[r.shiftLeft,r.shiftRight,r.shiftRightUnsigned],[r.plus,r.minus],[r.multiplication,r.division,r.modulo]],rn.TokenTypeToVisibilityMap=(tn(Jt={},r.keywordPublic,j.public),tn(Jt,r.keywordPrivate,j.private),tn(Jt,r.keywordProtected,j.protected),Jt),rn.forwardToInsideClass=[r.keywordPublic,r.keywordPrivate,r.keywordProtected,r.keywordVoid,r.identifier,r.rightCurlyBracket,r.keywordStatic,r.keywordAbstract,r.keywordClass,r.keywordEnum,r.keywordInterface],rn.ClassTokens=[r.keywordClass,r.keywordEnum,r.keywordInterface],rn.VisibilityTokens=[r.keywordPrivate,r.keywordProtected,r.keywordPublic],rn.BeforeClassDefinitionTokens=rn.ClassTokens.concat(rn.VisibilityTokens).concat(r.keywordAbstract).concat(rn.ClassTokens);var an=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.primitiveTypes=["String","Integer","Double","Boolean","Float","Character"]}var t,n,i;return t=e,(n=[{key:"toJson",value:function(e){this.objectToIndexMap=new Map,this.nextIndex=0;var t=JSON.stringify(this.toJsonObj(e));return this.objectToIndexMap=null,t}},{key:"toJsonObj",value:function(e){var t=this,n=e.type,i=e.value;if(null==i)return null;if((n instanceof G||n instanceof V)&&this.primitiveTypes.indexOf(n.identifier)<0){if(n instanceof Ht)return i.enumValue.ordinal;var r=i;return this.objectToJsonObj(r)}return n instanceof Y?i.map((function(e){return t.toJsonObj(e)})):e.value}},{key:"objectToJsonObj",value:function(e){var t=this.objectToIndexMap.get(e);if(null!=t)return{"!i":t};t=this.nextIndex++,this.objectToIndexMap.set(e,t);var n=e.class,i={"!k":n.identifier,"!i":t};if(n.module.isSystemModule)return null;for(;null!=n;){var r=!0,o=void 0,a=!0,s=!1,l=void 0;try{for(var u,c=n.attributes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;d.isStatic||d.isTransient||(r&&(r=!1,o={},i[n.identifier]=o),o[d.identifier]=this.toJsonObj(e.attributes[d.index]))}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}n=n.baseClass}return i}},{key:"fromJson",value:function(e,t,n,i){this.indexToObjectMap={},this.valuesToResolve=[];var r=JSON.parse(e),o=this.fromJsonObj(r,t,n,i),a=!0,s=!1,l=void 0;try{for(var u,c=this.valuesToResolve[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=this.indexToObjectMap[d.i];null!=h&&(d.v.type=h.type,d.v.value=h.value)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return this.indexToObjectMap=null,this.valuesToResolve=null,o.value}},{key:"fromJsonObj",value:function(e,t,n,i){var r=this;if(null==e)return{type:t,value:null};if((t instanceof G||t instanceof V)&&this.primitiveTypes.indexOf(t.identifier)<0){if(t instanceof Ht)return{type:t,value:t.indexToInfoMap[e].object};var o=e;return this.objectFromJsonObj(o,t,n,i)}return t instanceof Y?{type:t,value:e.map((function(e){return r.fromJsonObj(e,t.arrayOfType,n,i)}))}:{type:t,value:e}}},{key:"objectFromJsonObj",value:function(e,t,n,i){var r=e["!k"],o=e["!i"];if(null!=r){for(var a=n.getType(r).type,s=a,l=i.instantiateObjectImmediately(s);null!=s;){var u=l.attributes,c=e[s.identifier];if(null!=u&&null!=e){var d=!0,h=!1,p=void 0;try{for(var f,y=s.attributes[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;v.isStatic||v.isTransient||(u[v.index]=this.fromJsonObj(c[v.identifier],v.type,n,i))}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}s=s.baseClass}var m={type:a,value:l};return this.indexToObjectMap[o]=m,m}var g=e["!i"],b=this.indexToObjectMap[g];return null==b?(b={type:t,value:null},this.valuesToResolve.push({v:b,i:g}),b):{type:b.type,value:b.value}}}])&&on(t.prototype,n),i&&on(t,i),e}();function sn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ln,un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.moduleToTypeParameterListMap=new Map,this.genericTypes=[],this.genericTypesInClassDefinitions=[],this.typeParameterList=[]}var t,n,i;return t=e,(n=[{key:"start",value:function(e){this.classes=[],this.interfaces=[],this.enums=[],this.unresolvedTypes=new Map,this.moduleStore=e,this.resolveTypesInModules(),this.setupClassesAndInterfaces();var t=this.resolveTypeVariables();this.resolveUnresolvedTypes(!1),this.resolveGenericTypes(t),this.resolveExtendsImplements();var n=this.resolveGenericTypes(this.genericTypes);this.resolveUnresolvedTypes(!0),this.resolveGenericTypes(n),this.setupMethodsAndAttributes(),this.checkDoubleIdentifierDefinition(),this.checkGenericTypesAgainsTypeGuards(),this.setupAttributeIndices()}},{key:"setupAttributeIndices",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.classes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.resolvedType.setupAttributeIndicesRecursive(),null!=o.resolvedType.staticClass&&o.resolvedType.staticClass.setupAttributeIndicesRecursive()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.enums[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;d.resolvedType.setupAttributeIndicesRecursive(),null!=d.resolvedType.staticClass&&d.resolvedType.staticClass.setupAttributeIndicesRecursive()}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"checkGenericTypesAgainsTypeGuards",value:function(){var t=!0,n=!1,i=void 0;try{for(var r,o=this.genericTypes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(null!=a.typeNode.genericParameterTypes){var s=a.typeNode.resolvedType;if(null!=s.isGenericVariantFrom)if(s.typeVariables.length==s.isGenericVariantFrom.typeVariables.length){for(var l=0;l<s.typeVariables.length;l++){var u=null,c=s.typeVariables[l],d=s.isGenericVariantFrom.typeVariables[l],h=a.typeNode.genericParameterTypes[l];c.scopeFrom=d.scopeFrom,c.scopeTo=d.scopeTo,c.identifier=d.identifier,u="",c.type.hasAncestorOrIs(d.type)||(u+="Die Klasse "+c.type.identifier+" ist keine Unterklasse von "+d.type.identifier+" und pass damit nicht zum Typparamter "+d.identifier+" der Klasse "+s.isGenericVariantFrom.identifier+". ");var p=[],f=!0,y=!1,v=void 0;try{for(var m,g=d.type.implements[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;c.type.implementsInterface(b)||p.push(b.identifier)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}p.length>0&&(u+="Die Klasse "+c.identifier+" implementiert nicht die Interfaces "+p.join(", ")),""!=u&&a.module.errors[2].push({position:h.position,text:"Der angegebene Wert des Typparameters passt nicht zur Definition: "+u,level:"error"})}this.adjustMethodsAndAttributesToTypeParameters(s,e.WATCHDOG)}else a.module.errors[2].push({position:a.typeNode.position,text:"Der Generische Typ "+s.isGenericVariantFrom.identifier+" hat "+s.isGenericVariantFrom.typeVariables.length+" Typparameter. Hier wurden aber "+s.typeVariables.length+" angegeben.",level:"error"})}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"adjustMethodsAndAttributesToTypeParameters",value:function(e,t){if(!(t<=0)&&null!=e&&null!=e.isGenericVariantFrom&&0!=e.typeVariables.length){var n=!1,i=[],r=!0,o=!1,a=void 0;try{for(var s,l=e.methods[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=this.getAdjustedMethod(u,e.typeVariables,t-1);n=n||c.altered,i.push(c.newMethod)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}if(n&&(e.methods=i),e instanceof G){var d=[],h=new Map,p=!1,f=!0,y=!1,v=void 0;try{for(var m,g=e.attributes[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value,w=this.getAdjustedAttribute(b,e.typeVariables,t-1);p=p||w.altered,d.push(w.newAttribute),h.set(b.identifier,w.newAttribute)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}p&&(e.attributes=d,e.attributeMap=h),this.adjustMethodsAndAttributesToTypeParameters(e.baseClass,t-1)}else{var k=!0,S=!1,P=void 0;try{for(var x,T=e.extends[Symbol.iterator]();!(k=(x=T.next()).done);k=!0){var M=x.value;this.adjustMethodsAndAttributesToTypeParameters(M,t-1)}}catch(e){S=!0,P=e}finally{try{k||null==T.return||T.return()}finally{if(S)throw P}}}}}},{key:"getAdjustedAttribute",value:function(e,t,n){var i=this.getAdjustedType(e.type,t,!0,n-1);if(i.altered){var r=Object.create(e);return r.type=i.newType,{altered:!0,newAttribute:r}}return{altered:!1,newAttribute:e}}},{key:"getAdjustedMethod",value:function(e,t,n){var i=this.getAdjustedType(e.returnType,t,!0,n-1),r=!1,o=[],a=!0,s=!1,l=void 0;try{for(var u,c=e.parameterlist.parameters[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=this.getAdjustedType(d.type,t,!1,n-1);if(h.altered){r=!0;var p=Object.create(d);p.type=h.newType,o.push(p)}else o.push(d)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}if(i.altered||r){var f=Object.create(e);return i.altered&&(f.returnType=i.newType),r&&(f.parameterlist=new P(o)),{altered:!0,newMethod:f}}return{altered:!1,newMethod:e}}},{key:"getAdjustedType",value:function(e,t,n,i){if(null==e)return{altered:!1,newType:e};if(1==e.isTypeVariable){var r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(u.identifier==e.identifier)return{altered:!0,newType:u.type}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return{altered:!1,newType:e}}if((e instanceof G||e instanceof V)&&e.typeVariables.length>0){var c=[],d=!1,h=!0,p=!1,f=void 0;try{for(var y,v=e.typeVariables[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value,g=this.getAdjustedType(m.type,t,!1,i-1);g.altered?(c.push({identifier:m.identifier,scopeFrom:m.scopeFrom,scopeTo:m.scopeTo,type:g.newType}),d=!0):c.push(m)}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}if(d){var b=e.clone();return b.typeVariables=c,n&&this.adjustMethodsAndAttributesToTypeParameters(b,i-1),{altered:!0,newType:b}}return{altered:!1,newType:e}}if(e instanceof Y){var w=this.getAdjustedType(e.arrayOfType,t,n,i-1);return{altered:w.altered,newType:w.altered?new Y(w.newType):e}}return{altered:!1,newType:e}}},{key:"resolveGenericTypes",value:function(e){for(var t=!1,n=e.slice(0);!t;){t=!0;for(var i=0;i<n.length;i++){var r=n[i];this.resolveGenericType(r)&&(t=!1),null!=r.typeNode.genericParameterTypes&&null==r.typeNode.genericParameterTypesResolved||(n.splice(n.indexOf(r),1),i--)}}return n}},{key:"resolveGenericType",value:function(e){if(null!=e.typeNode.genericParameterTypesResolved)return!1;if(null==e.typeNode.genericParameterTypes)return!0;var t=e.typeNode.resolvedType;if(null==t||!(t instanceof V||t instanceof G))return e.typeNode.genericParameterTypes=null,!1;if(!t.typeVariablesReady)return!1;for(var n=[],i=0;i<e.typeNode.genericParameterTypes.length;i++){var r=e.typeNode.genericParameterTypes[i],o=r.resolvedType;if(null==o)return!1;if(null!=r.genericParameterTypes&&null==r.genericParameterTypesResolved)return!1;if(!(o instanceof V||o instanceof G))return e.module.errors[2].push({position:r.position,text:"Hier wird ein Interface- oder Klassentyp erwartet. Der Typ "+r.identifier+" ist aber keiner.",level:"error"}),e.typeNode.genericParameterTypes=null,!0;n.push(r.resolvedType)}var a=new Map;if(t.typeVariables.length!=n.length)return e.module.errors[2].push({position:e.typeNode.position,text:(t instanceof G?"Die Klasse ":"Das Interface ")+t.identifier+" hat "+t.typeVariables.length+" Typparameter, hier sind aber "+n.length+" angegeben.",level:"error"}),e.typeNode.genericParameterTypes=null,!0;for(var s=0,l=0,u=n;l<u.length;l++){var c=u[l],d=t.typeVariables[s];if(c instanceof V){var h=dt.clone();h.implements.push(c),c=h}var p={identifier:d.identifier,scopeFrom:d.scopeFrom,scopeTo:d.scopeTo,type:c};a.set(t.typeVariables[s].type,p.type),s++}var f=this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(t,a);return e.typeNode.resolvedType=f,e.typeNode.genericParameterTypesResolved=!0,!0}},{key:"propagateTypeParameterToBaseClassesAndImplementedInterfaces",value:function(e,t){if(e instanceof G){var n=e.clone();n.typeVariables=[];var i=!0,r=!1,o=void 0;try{for(var a,s=e.typeVariables[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=t.get(l.type),c=l;null!=u&&(c={identifier:l.identifier,scopeFrom:l.scopeFrom,scopeTo:l.scopeTo,type:u}),n.typeVariables.push(c)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var d=e.baseClass;null!=d&&null!=d.isGenericVariantFrom&&n.setBaseClass(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(d,t)),n.implements=[];var h=!0,p=!1,f=void 0;try{for(var y,v=e.implements[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value;null==m.isGenericVariantFrom?n.implements.push(m):n.implements.push(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(m,t))}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}return n}var g=e.clone();g.typeVariables=[];var b=!0,w=!1,k=void 0;try{for(var S,P=e.typeVariables[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value,T=t.get(x.type),M=x;null!=T&&(M={identifier:x.identifier,scopeFrom:x.scopeFrom,scopeTo:x.scopeTo,type:T}),g.typeVariables.push(M)}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}g.extends=[];var C=!0,j=!1,O=void 0;try{for(var E,A=e.extends[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){var D=E.value;null==D.isGenericVariantFrom?g.extends.push(D):g.extends.push(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(D,t))}}catch(e){j=!0,O=e}finally{try{C||null==A.return||A.return()}finally{if(j)throw O}}return g}},{key:"checkDoubleIdentifierDefinition",value:function(){var e=new Map,t=!0,n=!1,i=void 0;try{for(var r,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=!0,l=!1,u=void 0;try{for(var c,d=a.typeStore.typeList[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,p=e.get(h.identifier);if(null!=p){a.errors[1].push({text:"Der Typbezeichner "+h.identifier+" wurde mehrfach definiert, n√§mlich in den Modulen "+a.file.name+" und "+p.file.name+".",position:h.declaration.position,level:"error"});var f=p.typeStore.getType(h.identifier);null!=f&&p.errors[1].push({text:"Der Typbezeichner "+h.identifier+" wurde mehrfach definiert, n√§mlich in den Modulen "+p.file.name+" und "+a.file.name+".",position:f.declaration.position,level:"error"})}else e.set(h.identifier,a)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var y=this.moduleStore.getBaseModule(),v=!0,m=!1,g=void 0;try{for(var b,w=this.typeParameterList[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var k=b.value,S=k.ci.module,P=e.get(k.tpn.identifier);if(null==P&&null!=y.typeStore.getType(k.tpn.identifier)&&(P=y),null!=P){S.errors[1].push({text:"Der Typbezeichner "+k.tpn.identifier+" wurde mehrfach definiert, n√§mlich in den Modulen "+S.file.name+" und "+P.file.name+".",position:k.tpn.position,level:"error"});var x=P.typeStore.getType(k.tpn.identifier);null!=x&&P!=y&&P.errors[1].push({text:"Der Typbezeichner "+k.tpn.identifier+" wurde mehrfach definiert, n√§mlich in den Modulen "+P.file.name+" und "+S.file.name+".",position:x.declaration.position,level:"error"})}}}catch(e){m=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw g}}}},{key:"resolveUnresolvedTypes",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.dependsOnModules=new Map}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.moduleStore.getModules(!1)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=this.unresolvedTypes.get(d),p=[],f=!0,y=!1,v=void 0;try{for(var m,g=h[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;this.resolveType(b,d,e)||p.push(b)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}this.unresolvedTypes.set(d,p)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"addFromJsonMethod",value:function(e){var t=this,n=this.main.getInterpreter();e.addMethod(new S("fromJson",new P([{identifier:"jsonString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),e,(function(i){var r=i[1].value;return(new an).fromJson(r,e,t.moduleStore,n)}),!1,!0,"Konvertiert eine Json-Zeichenkette in ein ".concat(e.identifier,'-Objekt ("deserialisieren"). Vor dem Deserialisieren eines Objekts werden die Attributinitialisierer angewandt und - falls vorhanden - ein parameterloser Konstruktor ausgef√ºhrt. Der Algorithmus kommt auch mit zyklischen Objektreferenzen zurecht.'),!1))}},{key:"addToJsonMethod",value:function(e){e.addMethod(new S("toJson",new P([]),ht,(function(e){return(new an).toJson(e[0])}),!1,!1,"Konvertiert ein Objekt (rekursiv mitsamt referenzierter Objekte) in eine Json-Zeichenkette. Nicht konvertiert werden Systemklassen (au√üer: ArrayList) sowie mit dem Schl√ºsselwort transient ausgezeichnete Attribute."))}},{key:"setupMethodsAndAttributes",value:function(){var e=[];e=(e=e.concat(this.classes)).concat(this.enums);var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=!0,l=!1,u=void 0;try{for(var c,d=a.methods[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value,p=this.setupMethod(h,a.resolvedType.module,a.resolvedType);null!=p&&(null!=h.commentBefore&&(p.documentation=""+h.commentBefore.value),a.resolvedType.addMethod(p))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}this.addFromJsonMethod(a.resolvedType),this.addToJsonMethod(a.resolvedType);var f=!0,y=!1,v=void 0;try{for(var m,g=a.attributes[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;this.resolveType(b.attributeType,a.resolvedType.module,!0);var w=b.attributeType.resolvedType;if(null!=w){var S=new k(b.identifier,w,null,b.isStatic,b.visibility,b.isFinal);b.resolvedType=S,null!=b.commentBefore&&(S.documentation=""+b.commentBefore.value),S.annotation=b.annotation,S.isTransient=b.isTransient,null!=a.resolvedType.attributeMap.get(S.identifier)&&a.resolvedType.module.errors[2].push({text:"Es darf nicht mehrere Attribute mit demselben Bezeichner '"+S.identifier+"' in derselben Klassse geben.",position:b.position,level:"error"}),a.resolvedType.addAttribute(S),this.pushUsagePosition(a.resolvedType.module,b.position,S),S.declaration={module:a.resolvedType.module,position:b.position}}}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var P=!0,x=!1,T=void 0;try{for(var M,C=this.interfaces[Symbol.iterator]();!(P=(M=C.next()).done);P=!0){var j=M.value,O=!0,E=!1,A=void 0;try{for(var D,F=j.methods[Symbol.iterator]();!(O=(D=F.next()).done);O=!0){var I=D.value,_=this.setupMethod(I,j.resolvedType.module,j.resolvedType);null!=_&&j.resolvedType.addMethod(_)}}catch(e){E=!0,A=e}finally{try{O||null==F.return||F.return()}finally{if(E)throw A}}}}catch(e){x=!0,T=e}finally{try{P||null==C.return||C.return()}finally{if(x)throw T}}}},{key:"setupMethod",value:function(e,t,n){var i=!0;i=i&&this.resolveType(e.returnType,t,!0);var r=[],o=!0,a=!1,s=void 0;try{for(var l,u=e.parameters[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(i=i&&this.resolveType(c.parameterType,t,!0)){var d={definition:c.position,identifier:c.identifier,usagePositions:new Map,type:c.parameterType.resolvedType,declaration:{module:t,position:c.position},isFinal:c.isFinal,isEllipsis:c.isEllipsis};r.push(d),this.pushUsagePosition(t,c.position,d)}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h=new P(r);if(i){var p=new S(e.identifier,h,e.returnType.resolvedType,null,e.isAbstract,e.isStatic);return p.isConstructor=e.identifier==n.identifier,p.visibility=e.visibility,p.isConstructor=e.isConstructor,e.resolvedType=p,p.annotation=e.annotation,this.pushUsagePosition(t,e.position,p),p.declaration={module:t,position:e.position},p}return null}},{key:"pushUsagePosition",value:function(e,t,n){if(e.addIdentifierPosition(t,n),!(n instanceof w)){var i=n.usagePositions.get(e);null==i&&(i=[],n.usagePositions.set(e,i)),i.push(t)}}},{key:"resolveType",value:function(e,t,n){if(null==e.resolvedType){var i=this.moduleStore.getType(e.identifier);if(null!=i){var r=i.type;return t.dependsOnModules.set(i.module,!0),this.pushUsagePosition(t,e.position,r),r=cn(r,e.arrayDimension),this.registerGenericType(e,t,!1),e.resolvedType=r,!0}var o=this.moduleToTypeParameterListMap.get(t);if(null!=o){var a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(d.identifier==e.identifier){var h=e.position;if((h.line>d.scopeFrom.line||h.line==d.scopeFrom.line&&h.column>=d.scopeFrom.column)&&(h.line<d.scopeTo.line||h.line==d.scopeTo.line&&h.column<=d.scopeTo.column))return this.pushUsagePosition(t,e.position,d.type),e.resolvedType=d.type,!0}}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}if(n){var p=e.identifier.length>0&&e.identifier[0].toUpperCase()==e.identifier[0]?"Die Klasse":"Der Typ";t.errors[2].push({position:e.position,text:p+" "+e.identifier+" konnte nicht gefunden werden."+("string"==e.identifier?" Meinten Sie String (gro√ügeschrieben)?":""),level:"error",quickFix:"string"==e.identifier?{title:"String gro√ü schreiben",editsProvider:function(t){return[{resource:t,edit:{range:{startLineNumber:e.position.line,startColumn:e.position.column-1,endLineNumber:e.position.line,endColumn:e.position.column+6},text:"String"}}]}}:null})}return e.resolvedType=null,!1}return!0}},{key:"resolveExtendsImplements",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.classes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=o.resolvedType,s=!0,l=!1,u=void 0;try{for(var c,d=o.implements[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;this.resolveType(h,a.module,!0);var p=h.resolvedType;null!=p&&(p instanceof V?(a.implements.push(p),h.resolvedType=p):a.module.errors[2].push({position:h.position,text:"Der Typ "+h.identifier+" ist kein interface, darf also nicht bei implements... stehen.",level:"error"}))}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}if(null!=o.extends){this.resolveType(o.extends,a.module,!0);var f=o.extends.resolvedType;if(null==f||!(f instanceof G)){a.module.errors[2].push({position:o.extends.position,text:"Der Typ "+o.extends.identifier+" ist keine Klasse, darf also nicht hinter extends stehen.",level:"error"});continue}a.setBaseClass(f),o.extends.resolvedType=f}else a.setBaseClass(this.moduleStore.getType("Object").type)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var y=!0,v=!1,m=void 0;try{for(var g,b=this.interfaces[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value,k=w.resolvedType,S=!0,P=!1,x=void 0;try{for(var T,M=w.extends[Symbol.iterator]();!(S=(T=M.next()).done);S=!0){var C=T.value;this.resolveType(C,k.module,!0);var j=C.resolvedType;null!=j&&(j instanceof V?(k.extends.push(j),C.resolvedType=j):k.module.errors[2].push({position:C.position,text:"Der Typ "+C.identifier+" ist kein interface, darf also nicht bei extends... stehen.",level:"error"}))}}catch(e){P=!0,x=e}finally{try{S||null==M.return||M.return()}finally{if(P)throw x}}}}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}}},{key:"setupClassesAndInterfaces",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(null!=a.classDefinitionsAST){var s=!0,l=!1,u=void 0;try{for(var c,d=a.classDefinitionsAST[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;switch(h.type){case r.keywordClass:this.classes.push(h);var p=new G(h.identifier,a);if(null!=h.commentBefore&&(p.documentation=""+h.commentBefore.value),h.resolvedType=p,p.visibility=h.visibility,p.isAbstract=h.isAbstract,a.typeStore.addType(p),this.pushUsagePosition(a,h.position,p),p.declaration={module:a,position:h.position},this.registerTypeVariables(h,p),null!=h.extends&&this.registerGenericType(h.extends,a,!0),null!=h.implements){var f=!0,y=!1,v=void 0;try{for(var m,g=h.implements[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;this.registerGenericType(b,a,!0)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}break;case r.keywordEnum:this.enums.push(h);var w=new Ht(h.identifier,a,h.values);null!=h.commentBefore&&(w.documentation=""+h.commentBefore.value),h.resolvedType=w,w.visibility=h.visibility,a.typeStore.addType(w),this.pushUsagePosition(a,h.position,w),w.declaration={module:a,position:h.position};break;case r.keywordInterface:this.interfaces.push(h);var k=new V(h.identifier,a);if(null!=h.commentBefore&&(k.documentation=""+h.commentBefore.value),h.resolvedType=k,a.typeStore.addType(k),this.pushUsagePosition(a,h.position,k),k.declaration={module:a,position:h.position},this.registerTypeVariables(h,k),null!=h.extends){var S=!0,P=!1,x=void 0;try{for(var T,M=h.extends[Symbol.iterator]();!(S=(T=M.next()).done);S=!0){var C=T.value;this.registerGenericType(C,a,!0)}}catch(e){P=!0,x=e}finally{try{S||null==M.return||M.return()}finally{if(P)throw x}}}}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"resolveTypeVariables",value:function(){for(var e=this.typeParameterList.slice(0),t=!1,n=this.genericTypesInClassDefinitions.slice(0);!t;){this.resolveUnresolvedTypes(!1),n=this.resolveGenericTypes(n),t=!0;for(var i=0;i<e.length;i++){var r=e[i],o=!0,a=null==r.tpn.extends?[]:[r.tpn.extends];null!=r.tpn.implements&&(a=a.concat(r.tpn.implements));var s=!0,l=!1,u=void 0;try{for(var c,d=a[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null!=h.genericParameterTypes&&1!=h.genericParameterTypesResolved&&(o=!1)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}o&&(this.resolveTypeVariable(r),e.splice(e.indexOf(r),1),i--,t=!1)}}return n}},{key:"resolveTypeVariable",value:function(e){var t;if((t=null!=e.tpn.extends&&null!=e.tpn.extends.resolvedType?e.tpn.extends.resolvedType.clone():dt.clone()).identifier=e.tpn.identifier,t.isTypeVariable=!0,t.declaration={module:e.ci.module,position:e.tpn.position},null!=e.tpn.implements){var n=!0,i=!1,r=void 0;try{for(var o,a=e.tpn.implements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.implements.indexOf(s.resolvedType)<0&&t.implements.push(s.resolvedType)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}var l={identifier:e.tpn.identifier,type:t,scopeFrom:e.cdn.position,scopeTo:e.cdn.scopeTo};e.ci.typeVariables[e.index]=l,e.ci.typeVariablesReady=!0;var u=!0,c=!1,d=void 0;try{for(var h,p=e.ci.typeVariables[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)null==h.value&&(e.ci.typeVariablesReady=!1)}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}var f=this.moduleToTypeParameterListMap.get(e.ci.module);null==f&&(f=[],this.moduleToTypeParameterListMap.set(e.ci.module,f)),f.push(l),this.pushUsagePosition(e.ci.module,e.tpn.position,t)}},{key:"registerTypeVariables",value:function(e,t){var n=0,i=!0,r=!1,o=void 0;try{for(var a,s=e.typeParameters[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(null!=l.extends&&this.registerGenericType(l.extends,t.module,!0),null!=l.implements){var u=!0,c=!1,d=void 0;try{for(var h,p=l.implements[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;this.registerGenericType(f,t.module,!0)}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}t.typeVariablesReady=!1,t.typeVariables.push(null),this.typeParameterList.push({tpn:l,tp:{identifier:l.identifier,type:null,scopeFrom:e.position,scopeTo:e.scopeTo},ci:t,cdn:e,index:n++})}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"resolveTypesInModules",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.moduleStore.getModules(!1)[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=[];this.unresolvedTypes.set(o,a);var s=!0,l=!1,u=void 0;try{for(var c,d=o.typeNodes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;if(null==h.resolvedType){var p=this.moduleStore.getType(h.identifier);if(null!=p){var f=p.type;this.pushUsagePosition(o,h.position,f),h.resolvedType=cn(f,h.arrayDimension),this.registerGenericType(h,o,!1)}else a.push(h)}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"registerGenericType",value:function(e,t,n){if(null!=e.genericParameterTypes)n?this.genericTypesInClassDefinitions.push({typeNode:e,module:t}):this.genericTypes.push({typeNode:e,module:t});else{var i=e.resolvedType;if(null!=i&&i instanceof G&&i.typeVariables.length>0){var r=i.clone();r.typeVariables=[],e.resolvedType=r}}}}])&&sn(t.prototype,n),i&&sn(t,i),e}();function cn(e,t){for(;t>0;)e=new Y(e),t--;return e}function dn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}un.WATCHDOG=5,function(e){e[e.compiling=0]="compiling",e[e.error=1]="error",e[e.compiledButNothingToRun=2]="compiledButNothingToRun",e[e.readyToRun=3]="readyToRun"}(ln||(ln={}));var hn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.compilerStatus=ln.compiledButNothingToRun}var t,n,i;return t=e,(n=[{key:"compile",value:function(e){var t,n;this.compilerStatus=ln.compiling;var i=performance.now();e.clearUsagePositions();var r=new jt,o=!0,a=!1,s=void 0;try{for(var l,u=e.getModules(!1)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.file.dirty=!1,c.clear();var d=r.lex(c.getProgramTextFromMonacoModel());c.errors[0]=d.errors,c.tokenList=d.tokens,c.bracketError=d.bracketError,c.colorInformation=d.colorInformation,c.file.name==(null===(n=null===(t=this.main.getCurrentlyEditedModule())||void 0===t?void 0:t.file)||void 0===n?void 0:n.name)&&null!=this.main.getBottomDiv()&&this.main.getBottomDiv().errorManager.showParenthesisWarning(d.bracketError)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}this.main.getSemicolonAngel().startRegistering();var h=new rn(!1),p=!0,f=!1,y=void 0;try{for(var v,m=e.getModules(!1)[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;h.parse(g)}}catch(e){f=!0,y=e}finally{try{p||null==m.return||m.return()}finally{if(f)throw y}}new un(this.main).start(e);var b=new en,w=!0,k=!1,S=void 0;try{for(var P,x=e.getModules(!1)[Symbol.iterator]();!(w=(P=x.next()).done);w=!0){var T=P.value;b.start(T,e)}}catch(e){k=!0,S=e}finally{try{w||null==x.return||x.return()}finally{if(k)throw S}}var M=!0,C=!0,j=!1,O=void 0;try{for(var E,A=e.getModules(!1)[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){var D=E.value;D.dependsOnModulesWithErrors=D.hasErrors(),D.dependsOnModulesWithErrors&&(M=!1)}}catch(e){j=!0,O=e}finally{try{C||null==A.return||A.return()}finally{if(j)throw O}}for(var F=!1;!F;){F=!0;var I=!0,_=!1,z=void 0;try{for(var L,B=e.getModules(!1)[Symbol.iterator]();!(I=(L=B.next()).done);I=!0){var R=L.value;if(!R.dependsOnModulesWithErrors){var W=!0,G=!1,N=void 0;try{for(var $,V=e.getModules(!1)[Symbol.iterator]();!(W=($=V.next()).done);W=!0){var H=$.value;if(R.dependsOnModules.get(H)&&H.dependsOnModulesWithErrors){R.dependsOnModulesWithErrors=!0,F=!1;break}}}catch(e){G=!0,N=e}finally{try{W||null==V.return||V.return()}finally{if(G)throw N}}}}}catch(e){_=!0,z=e}finally{try{I||null==B.return||B.return()}finally{if(_)throw z}}}this.atLeastOneModuleIsStartable=!1;var K=!0,Q=!1,U=void 0;try{for(var Z,X=e.getModules(!1)[Symbol.iterator]();!(K=(Z=X.next()).done);K=!0){var q=Z.value;q.isStartable=q.hasMainProgram()&&!q.dependsOnModulesWithErrors,q.isStartable&&(this.atLeastOneModuleIsStartable=!0),this.main instanceof qf&&!this.main.config.withFileList||q.renderStartButton()}}catch(e){Q=!0,U=e}finally{try{K||null==X.return||X.return()}finally{if(Q)throw U}}this.atLeastOneModuleIsStartable?this.compilerStatus=ln.readyToRun:this.compilerStatus=M?ln.error:ln.compiledButNothingToRun;var Y=performance.now()-i,J="Compiled in "+(Y=Math.round(100*Y)/100)+" ms.";return this.main.getCurrentWorkspace().compilerMessage=J,this.main.getSemicolonAngel().healSemicolons(),null}}])&&dn(t.prototype,n),i&&dn(t,i),e}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gn(e,t,n){return t&&mn(e.prototype,t),n&&mn(e,n),e}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(e){var n;fn(this,t),n=yn(this,vn(t).call(this,"ListIteratorImpl",e));var i=e.typeStore.getType("Object");n.setBaseClass(i);var r=i.clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[o],n.implements.push(a),n.addMethod(new S("hasNext",new P([]),ct,(function(e){return e[0].value.intrinsicData.IteratorHelper.hasNext()}),!1,!1,"Gibt genau dann true zur√ºck, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),n.addMethod(new S("next",new P([]),r,(function(e){return e[0].value.intrinsicData.IteratorHelper.next()}),!1,!1,"Gibt das n√§chste Element der Collection zur√ºck.")),n.addMethod(new S("remove",new P([]),null,(function(e){return e[0].value.intrinsicData.IteratorHelper.remove()}),!1,!1,"L√∂scht das letzte durch next zur√ºckgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als n√§chstes durch next zur√ºckgegeben wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,e),gn(t,null,[{key:"getIterator",value:function(e,t,n,i){var r=n.typeStore.getType("ListIteratorImpl"),o=new M(r);return o.intrinsicData.IteratorHelper=new kn(e,t,i),{value:o,type:r}}}]),t}(G),kn=function(){function e(t,n,i){switch(fn(this,e),this.listHelper=t,this.interpreter=n,this.kind=i,i){case"ascending":this.nextPos=0;break;case"descending":this.nextPos=t.objectArray.length-1}}return gn(e,[{key:"remove",value:function(){switch(this.kind){case"ascending":0==this.nextPos?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos>this.listHelper.objectArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."):(this.listHelper.valueArray.splice(this.nextPos-1,1),this.listHelper.objectArray.splice(this.nextPos-1,1),this.nextPos-=1);break;case"descending":this.nextPos==this.listHelper.objectArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos<0?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."):(this.listHelper.valueArray.splice(this.nextPos+1,1),this.listHelper.objectArray.splice(this.nextPos+1,1),this.nextPos+=1)}}},{key:"next",value:function(){switch(this.kind){case"ascending":return this.nextPos>this.listHelper.objectArray.length-1?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."),null):this.listHelper.objectArray[this.nextPos++];case"descending":return this.nextPos<0?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."),null):this.listHelper.objectArray[this.nextPos--]}}},{key:"hasNext",value:function(){switch(this.kind){case"ascending":return this.nextPos<this.listHelper.objectArray.length;case"descending":return this.nextPos>=0}}}]),e}();function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jn=function(e){function t(e){var n,i,r;xn(this,t),i=this,n=!(r=Tn(t).call(this,"ArrayList",e,"Liste mit Zugriff auf das n-te Objekt in konstanter Zeit, Einf√ºgen in konstanter Zeit und Suchen in linearer Zeit"))||"object"!==Sn(r)&&"function"!=typeof r?Mn(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("List").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new S("ArrayList",new P([]),null,(function(t){var n=t[0].value,i=new On(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert eine neue ArrayList",!0)),n.addMethod(new S("iterator",new P([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return wn.getIterator(n,n.interpreter,e,"ascending").value}),!0,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck.")),n.addMethod(new S("add",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"F√ºgt der Liste ein Element hinzu. Gibt genau dann true zur√ºck, wenn sich der Zustand der Liste dadurch ge√§ndert hat.")),n.addMethod(new S("add",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=e[2];return t.intrinsicData.ListHelper.add(i,n)}),!1,!1,"F√ºgt das Element an der Position index der Liste ein. Tipp: Das erste Element der Liste hat index == 0.")),n.addMethod(new S("get",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t,n=e[0].value,i=e[1].value;return null===(t=n.intrinsicData.ListHelper.get(i))||void 0===t?void 0:t.value}),!1,!1,"Gibt das i-te Element der Liste zur√ºck.")),n.addMethod(new S("remove",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.remove(n),null}),!0,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new S("indexOf",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.indexOf(n)}),!0,!1,"Gibt den Index des Elements o zur√ºck. Gibt -1 zur√ºck, wenn die Liste das Element o nicht enth√§lt. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),n.addMethod(new S("addAll",new P([{identifier:"c",type:Mn(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!0,!1,"F√ºgt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new S("clear",new P([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!0,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new S("contains",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!0,!1,"Testet, ob die Collection das Element enth√§lt.")),n.addMethod(new S("remove",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!0,!1,"Entfernt das Element o aus der Collection. Gibt true zur√ºck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new S("isEmpty",new P([]),ct,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!0,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("size",new P([]),st,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!0,!1,"Gibt die Anzahl der Elemente der Collection zur√ºck.")),n.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,e),t}(G),On=function(){function e(t,n,i){xn(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.valueArray=[],this.objectArray=[]}var t,n,i;return t=e,(n=[{key:"allElementsPrimitive",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.valueArray[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!(o.type instanceof w||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive())return"["+this.objectArray.map((function(e){return""+e})).join(", ")+"]";for(var e={line:1,column:1,length:1},t=[{type:r.noOp,position:e,stepFinished:!1},{type:r.pushConstant,dataType:ht,value:"[",position:e,stepFinished:!1}],n=new P([]),i=0;i<this.valueArray.length;i++){var o=this.valueArray[i];null==o.value||o.type instanceof w||o.type instanceof rt?t.push({type:r.pushConstant,dataType:ht,value:null==o.value?"null":o.type.castTo(o,ht).value,position:e,stepFinished:!1}):(t.push({type:r.pushConstant,dataType:o.type,value:o.value,stepFinished:!1,position:e}),t.push({type:r.callMethod,method:o.type.getMethod("toString",n),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:e})),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}),i<this.valueArray.length-1&&(t.push({type:r.pushConstant,dataType:ht,value:", ",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}))}t.push({type:r.pushConstant,dataType:ht,value:"]",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}),t.push({type:r.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:e,methodWasInjected:!0});var a={module:this.module,statements:t,labelManager:null},s=new S("toString",new P([]),ht,a,!1,!1);return this.interpreter.runTimer(s,[],(function(){}),!0),""}},{key:"adAll",value:function(e){var t=e.intrinsicData.ListHelper;return null!=t&&(this.valueArray=this.valueArray.concat(t.valueArray.map((function(e){return{type:e.type,value:e.value}}))),this.objectArray=this.objectArray.concat(t.objectArray)),!0}},{key:"get",value:function(e){return e>=0&&e<this.valueArray.length?this.valueArray[e]:(this.interpreter.throwException("Der ArrayList-Index ist au√üerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null)}},{key:"remove",value:function(e){return e>=0&&e<this.valueArray.length?(this.valueArray.splice(e,1),this.objectArray.splice(e,1),null):(this.interpreter.throwException("Der ArrayList-Index ist au√üerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null)}},{key:"add",value:function(e,t){return null==t?(this.valueArray.push({type:e.type,value:e.value}),this.objectArray.push(e.value)):t<=this.objectArray.length&&t>=0?(this.valueArray.splice(t,0,{type:e.type,value:e.value}),this.objectArray.splice(t,0,e.value)):this.interpreter.throwException("Der ArrayList-Index ist au√üerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),!0}},{key:"pop",value:function(){return 0==this.objectArray.length?(this.interpreter.throwException("Der ArrayList-Index ist au√üerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null):(this.valueArray.pop(),this.objectArray.pop())}},{key:"peek",value:function(){return 0==this.objectArray.length?(this.interpreter.throwException("Der ArrayList-Index ist au√üerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null):this.objectArray[this.objectArray.length-1]}},{key:"indexOf",value:function(e){return this.objectArray.indexOf(e.value)}},{key:"size",value:function(){return this.objectArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"removeObject",value:function(e){var t=this.objectArray.indexOf(e.value);t>=0&&(this.objectArray.splice(t,1),this.valueArray.splice(t,1))}},{key:"contains",value:function(e){return this.objectArray.indexOf(e.value)>=0}},{key:"clear",value:function(){this.valueArray=[],this.objectArray=[]}},{key:"peek_last_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[this.objectArray.length-1]}},{key:"peek_first_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[0]}},{key:"removeLast_or_error",value:function(){return 0==this.objectArray.length?null:(this.valueArray.pop(),this.objectArray.pop())}},{key:"addLast",value:function(e){return this.valueArray.push({type:e.type,value:e.value}),this.objectArray.push(e.value),!0}},{key:"addFirst",value:function(e){return this.valueArray.splice(0,0,{type:e.type,value:e.value}),this.objectArray.splice(0,0,e.value),!0}},{key:"removeFirstOccurrence",value:function(e){var t=this.objectArray.indexOf(e.value);return t>=0&&(this.valueArray.splice(t,1),this.objectArray.splice(t,1),!0)}},{key:"peek_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[this.objectArray.length-1]}},{key:"poll_or_null",value:function(){return 0==this.objectArray.length?null:(this.valueArray.pop(),this.objectArray.pop())}},{key:"removeFirst_or_error",value:function(){if(0!=this.objectArray.length){var e=this.objectArray[0];return this.objectArray.splice(0,1),this.valueArray.splice(0,1),e}this.interpreter.throwException("Der ArrayList-Index ist au√üerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". ")}}])&&Pn(t.prototype,n),i&&Pn(t,i),e}();function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=An(t).call(this,"Collection",e,"Interface f√ºr Listen, Maps, Sets usw. mit Methoden zum Einf√ºgen von Objekten, Zugriff auf Objekte und zur Ermittlung der Anzahl der Objekte"))||"object"!==En(r)&&"function"!=typeof r?Dn(i):r;var o=e.typeStore.getType("Object"),a=o.clone();a.identifier="E",a.isTypeVariable=!0;var s={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Iterable").clone();return l.typeVariables=[s],n.extends.push(l),n.addMethod(new S("add",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"F√ºgt der Collection ein Element hinzu. Gibt genau dann true zur√ºck, wenn sich der Zustand der Collection dadurch ge√§ndert hat.")),n.addMethod(new S("addAll",new P([{identifier:"c",type:Dn(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"F√ºgt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new S("clear",new P([]),null,null,!0,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new S("contains",new P([{identifier:"o",type:o,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"Testet, ob die Collection das Element enth√§lt.")),n.addMethod(new S("remove",new P([{identifier:"o",type:o,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"Entfernt das Element o aus der Collection. Gibt true zur√ºck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new S("isEmpty",new P([]),ct,null,!0,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("size",new P([]),st,null,!0,!1,"Gibt die Anzahl der Elemente der Collection zur√ºck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,e),t}(V);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=zn(this,Ln(t).call(this,"Iterable",e,"Interface mit Funktionalit√§t zum iterieren (d.h. Durchlaufen aller Elemente)"));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};n.typeVariables.push(r);var o=e.typeStore.getType("Iterator").clone();return o.typeVariables=[r],n.addMethod(new S("iterator",new P([]),o,null,!0,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,e),t}(V);function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Gn(this,Nn(t).call(this,"Iterator",e));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};return n.typeVariables.push(r),n.addMethod(new S("hasNext",new P([]),ct,null,!0,!1,"Gibt genau dann true zur√ºck, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),n.addMethod(new S("next",new P([]),i,null,!0,!1,"Gibt das n√§chste Element der Collection zur√ºck.")),n.addMethod(new S("remove",new P([]),null,null,!0,!1,"L√∂scht das letzte durch next zur√ºckgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als n√§chstes durch next zur√ºckgegeben wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(t,e),t}(V);function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Kn(this,Qn(t).call(this,"List",e,"Interface mit Methoden einer Liste (d.h. Anf√ºgen von Elementen nur am Ende)"));var i=e.typeStore.getType("Object"),r=e.typeStore.getType("Object").clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Collection").clone();return a.typeVariables=[o],n.extends.push(a),n.addMethod(new S("get",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),r,null,!0,!1,"Gibt das Element der Liste an der Stelle index zur√ºck. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new S("remove",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new S("indexOf",new P([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),st,null,!0,!1,"Gibt den Index des Elements o zur√ºck. Gibt -1 zur√ºck, wenn die Liste das Element o nicht enth√§lt. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,e),t}(V);function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ei=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=qn(this,Yn(t).call(this,"Stack",e,"Stack (Stapelspeicher)"));e.typeStore.getType("Object");var i=e.typeStore.getType("Vector");n.setBaseClass(i),n.typeVariables=i.typeVariables;var r=n.typeVariables[0].type;return n.addMethod(new S("push",new P([{identifier:"element",type:r,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n),n.value}),!1,!1,"Pushed ein Element oben auf den Stack. Gibt das gerade gepushte Element zur√ºck.")),n.addMethod(new S("pop",new P([]),r,(function(e){return e[0].value.intrinsicData.ListHelper.pop()}),!1,!1,"Nimmt das oberste Element vom Stack und gibt es zur√ºck.")),n.addMethod(new S("peek",new P([]),r,(function(e){return e[0].value.intrinsicData.ListHelper.peek()}),!1,!1,"Gibt das oberste Element des Stacks zur√ºck, nimmt es aber nicht vom Stack herunter.")),n.addMethod(new S("empty",new P([]),ct,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!0,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("search",new P([{identifier:"element",type:r,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1],i=t.intrinsicData.ListHelper,r=i.indexOf(n);return-1==r?r:i.objectArray.length-r}),!0,!1,"Gibt die Position des Objekts auf dem Stack zur√ºck. Dabei hat das oberste Element den Index 1, das n√§chstunterste den Index 2 usw. . Falls sich das Objekt nicht auf dem Stack befindet, wird -1 zur√ºckgegeben.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(t,e),t}(G);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oi=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=ni(t).call(this,"Vector",e,"Liste mit Zugriff auf das n-te Element in konstanter Zeit"))||"object"!==ti(r)&&"function"!=typeof r?ii(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("List").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new S("Vector",new P([]),null,(function(t){var n=t[0].value,i=new On(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert ein neues Vector-Objekt",!0)),n.addMethod(new S("iterator",new P([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return wn.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck.")),n.addMethod(new S("add",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"F√ºgt der Liste ein Element hinzu. Gibt genau dann true zur√ºck, wenn sich der Zustand der Liste dadurch ge√§ndert hat.")),n.addMethod(new S("get",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.get(n).value}),!1,!1,"Gibt das i-te Element der Liste zur√ºck.")),n.addMethod(new S("remove",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.remove(n).value,null}),!1,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),n.addMethod(new S("indexOf",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.indexOf(n)}),!1,!1,"Gibt den Index des Elements o zur√ºck. Gibt -1 zur√ºck, wenn die Liste das Element o nicht enth√§lt. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),n.addMethod(new S("addAll",new P([{identifier:"c",type:ii(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"F√ºgt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new S("clear",new P([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new S("contains",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enth√§lt.")),n.addMethod(new S("remove",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zur√ºck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new S("isEmpty",new P([]),ct,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("size",new P([]),st,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zur√ºck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ri(e,t)}(t,e),t}(G);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ci=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=si(this,li(t).call(this,"Set",e,"Interface mit Methoden eines Set, d.h. einer Menge, die jedes Element maximal einmal enth√§lt"));var i=e.typeStore.getType("Object"),r=e.typeStore.getType("Object").clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Collection").clone();return a.typeVariables=[o],n.extends.push(a),n.addMethod(new S("contains",new P([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"Gibt genau dann true zur√ºck, wenn das Set das Objekt o enth√§lt.")),n.addMethod(new S("containsAll",new P([{identifier:"c",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"Gibt genau dann true zur√ºck, wenn das Set alle Elemente der √ºbergebenen Collection enth√§lt.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(t,e),t}(V);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vi(e,t,n){return t&&yi(e.prototype,t),n&&yi(e,n),e}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gi=function(e){function t(e){var n;hi(this,t),n=pi(this,fi(t).call(this,"SetIteratorImpl",e));var i=e.typeStore.getType("Object");n.setBaseClass(i);var r=i.clone();r.identifier="E",r.isTypeVariable=!0;var o={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[o],n.implements.push(a),n.addMethod(new S("hasNext",new P([]),ct,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.hasNext()}),!1,!1,"Gibt genau dann true zur√ºck, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),n.addMethod(new S("next",new P([]),r,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.next()}),!1,!1,"Gibt das n√§chste Element der Collection zur√ºck.")),n.addMethod(new S("remove",new P([]),null,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.remove()}),!1,!1,"L√∂scht das letzte durch next zur√ºckgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als n√§chstes durch next zur√ºckgegeben wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(t,e),vi(t,null,[{key:"getIterator",value:function(e,t,n,i){var r=n.typeStore.getType("SetIteratorImpl"),o=new M(r);return o.intrinsicData.SetIteratorHelper=new bi(e,t,i),{value:o,type:r}}}]),t}(G),bi=function(){function e(t,n,i){switch(hi(this,e),this.MapHelper=t,this.interpreter=n,this.kind=i,i){case"ascending":this.nextPos=0;break;case"descending":this.nextPos=t.valueArray.length-1}}return vi(e,[{key:"remove",value:function(){switch(this.kind){case"ascending":0==this.nextPos?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos>this.MapHelper.valueArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."):(this.MapHelper.removeObject(this.MapHelper.valueArray[this.nextPos-1].value),this.nextPos-=1);break;case"descending":this.nextPos==this.MapHelper.valueArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos<0?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."):(this.MapHelper.removeObject(this.MapHelper.valueArray[this.nextPos+1].value),this.nextPos+=1)}}},{key:"next",value:function(){switch(this.kind){case"ascending":return this.nextPos>this.MapHelper.valueArray.length-1?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."),null):this.MapHelper.valueArray[this.nextPos++];case"descending":return this.nextPos<0?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zur√ºckgegeben worden war."),null):this.MapHelper.valueArray[this.nextPos--]}}},{key:"hasNext",value:function(){switch(this.kind){case"ascending":return this.nextPos<this.MapHelper.valueArray.length;case"descending":return this.nextPos>=0}}}]),e}();function wi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ki=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.valueArray=[],this.map=new Map}var t,n,i;return t=e,(n=[{key:"allElementsPrimitive",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.valueArray[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!(o.type instanceof w||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive())return"["+this.valueArray.map((function(e){return""+e.value})).join(", ")+"]";for(var e={line:1,column:1,length:1},t=[{type:r.noOp,position:e,stepFinished:!1},{type:r.pushConstant,dataType:ht,value:"[",position:e,stepFinished:!1}],n=new P([]),i=0;i<this.valueArray.length;i++){var o=this.valueArray[i];o.type instanceof w||o.type instanceof rt?t.push({type:r.pushConstant,dataType:ht,value:o.type.castTo(o,ht).value,position:e,stepFinished:!1}):(t.push({type:r.pushConstant,dataType:o.type,value:o.value,stepFinished:!1,position:e}),t.push({type:r.callMethod,method:o.type.getMethod("toString",n),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:e})),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}),i<this.valueArray.length-1&&(t.push({type:r.pushConstant,dataType:ht,value:", ",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}))}t.push({type:r.pushConstant,dataType:ht,value:"]",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:e}),t.push({type:r.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:e,methodWasInjected:!0});var a={module:this.module,statements:t,labelManager:null},s=new S("toString",new P([]),ht,a,!1,!1);return this.interpreter.runTimer(s,[],(function(){return console.log("List.toString fertig!")}),!0),""}},{key:"adAll",value:function(e){var t=!1,n=e.intrinsicData.ListHelper;if(null!=n){var i=!0,r=!1,o=void 0;try{for(var a,s=n.valueArray[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t=t||this.addToSet(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return t}},{key:"addToSet",value:function(e){return!this.contains(e)&&(this.valueArray.push(e),this.map.set(e.value,!0),!0)}},{key:"size",value:function(){return this.valueArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"removeObject",value:function(e){if(null==this.map.get(e.value))return!1;for(var t=0;t<this.valueArray.length;t++)this.valueArray[t].value==e.value&&this.valueArray.splice(t,1);this.map.delete(e.value)}},{key:"contains",value:function(e){return null!=this.map.get(e.value)}},{key:"clear",value:function(){this.valueArray=[],this.map.clear()}}])&&wi(t.prototype,n),i&&wi(t,i),e}();function Si(e){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mi=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=Pi(t).call(this,"HashSet",e,"Set mit Zugriffszeit proportional zu log(Anzahl der Elemente)"))||"object"!==Si(r)&&"function"!=typeof r?xi(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="E",a.isTypeVariable=!0;var s={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Set").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new S("HashSet",new P([]),null,(function(t){var n=t[0].value,i=new ki(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert ein neues HashSet",!0)),n.addMethod(new S("iterator",new P([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return gi.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck.")),n.addMethod(new S("add",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addToSet(n)}),!1,!1,"F√ºgt der Liste ein Element hinzu. Gibt genau dann true zur√ºck, wenn sich der Zustand der Liste dadurch ge√§ndert hat.")),n.addMethod(new S("addAll",new P([{identifier:"c",type:xi(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"F√ºgt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new S("clear",new P([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new S("contains",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enth√§lt.")),n.addMethod(new S("remove",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zur√ºck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new S("isEmpty",new P([]),ct,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("size",new P([]),st,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zur√ºck.")),n.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ti(e,t)}(t,e),t}(G);function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ai=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=ji(t).call(this,"LinkedHashSet",e,"Ein LinkedHashSet speichert jedes Element nur genau ein Mal."))||"object"!==Ci(r)&&"function"!=typeof r?Oi(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="E",a.isTypeVariable=!0;var s={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Set").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new S("LinkedHashSet",new P([]),null,(function(t){var n=t[0].value,i=new ki(n,e.main.getInterpreter(),e);n.intrinsicData.MapHelper=i}),!1,!1,"Instanziert ein neues LinkedHashSet",!0)),n.addMethod(new S("iterator",new P([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return gi.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck.")),n.addMethod(new S("add",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addToSet(n)}),!1,!1,"F√ºgt der Liste ein Element hinzu. Gibt genau dann true zur√ºck, wenn sich der Zustand der Liste dadurch ge√§ndert hat.")),n.addMethod(new S("addAll",new P([{identifier:"c",type:Oi(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"F√ºgt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new S("clear",new P([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new S("contains",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enth√§lt.")),n.addMethod(new S("remove",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zur√ºck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new S("isEmpty",new P([]),ct,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("size",new P([]),st,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zur√ºck.")),n.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}(t,e),t}(G);function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(e,t){return!t||"object"!==Di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zi=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Fi(this,Ii(t).call(this,"Queue",e));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};n.typeVariables.push(r);var o=e.typeStore.getType("Collection").clone();return o.typeVariables=[r],n.extends.push(o),n.addMethod(new S("remove",new P([]),i,null,!0,!1,"Entfernt das Element am Kopf der Liste und gibt es zur√ºck. F√ºhrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new S("poll",new P([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),i,null,!0,!1,"Entfernt das Element am Kopf der Liste und gibt es zur√ºck. Gibt null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("peek",new P([]),i,null,!0,!1,"Gibt das Element am Kopf der Liste zur√ºck, entfernt es aber nicht. Gib null zur√ºck, wenn die Liste leer ist.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(t,e),t}(V);function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t){return!t||"object"!==Li(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ri(e){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gi=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Bi(this,Ri(t).call(this,"Deque",e,"Interface f√ºr Liste mit zweiseitigem Zugriff (insbesondere Anf√ºgen an beiden Enden)"));var i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var r={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};n.typeVariables.push(r);var o=e.typeStore.getType("Queue").clone();o.typeVariables=[r],n.extends.push(o),n.addMethod(new S("removeFirstOccurrence",new P([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"L√∂scht das Erste Vorkommen des Objekts. Gibt true zur√ºck, wenn die Liste dadurch ver√§ndert wurde.")),n.addMethod(new S("removeLastOccurrence",new P([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"L√∂scht das Letzte Vorkommen des Objekts. Gibt true zur√ºck, wenn die Liste dadurch ver√§ndert wurde.")),n.addMethod(new S("addFirst",new P([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"F√ºgt das Element am Anfang der Liste hinzu.")),n.addMethod(new S("addLast",new P([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"F√ºgt das Element am Ende der Liste hinzu.")),n.addMethod(new S("removeFirst",new P([]),i,null,!0,!1,"Entfernt das Element am Anfang der Liste und gibt es zur√ºck. F√ºhrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new S("removeLast",new P([]),i,null,!0,!1,"Entfernt das Element am Ende der Liste und gibt es zur√ºck. F√ºhrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new S("peekFirst",new P([]),i,null,!0,!1,"Gibt das Element am Anfang der Liste zur√ºck, entfernt es aber nicht. Gib null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("peekLast",new P([]),i,null,!0,!1,"Gibt das Element am Ende der Liste zur√ºck, entfernt es aber nicht. Gib null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("push",new P([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"F√ºgt das Element am Ende der Liste hinzu.")),n.addMethod(new S("pop",new P([]),i,null,!0,!1,"Gibt das Element am Ende der Liste zur√ºck und entfernt es von der Liste. Erzeugt einen Fehler, wenn die Liste leer ist."));var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[r],n.addMethod(new S("descendingIterator",new P([]),a,null,!0,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck, der die Liste in umgekehrter Reihenfolge (Ende -> Anfang) durchl√§uft.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(t,e),t}(V);function Ni(e){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ki=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(r=$i(t).call(this,"LinkedList",e,"Verkettete Liste"))||"object"!==Ni(r)&&"function"!=typeof r?Vi(i):r;var o=e.typeStore.getType("Object");n.setBaseClass(o);var a=o.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Deque").clone();l.typeVariables=[s],n.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],n.addMethod(new S("LinkedList",new P([]),null,(function(t){var n=t[0].value,i=new On(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert eine neue LinkedList",!0)),n.addMethod(new S("iterator",new P([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return wn.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck.")),n.addMethod(new S("descendingIterator",new P([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return wn.getIterator(n,n.interpreter,e,"descending").value}),!1,!1,"Gibt einen Iterator √ºber die Elemente dieser Collection zur√ºck, der die Liste in umgekehrter Reihenfolge durchl√§uft (Ende -> Anfang).")),n.addMethod(new S("add",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"F√ºgt der Liste am Ende ein Element hinzu. Gibt genau dann true zur√ºck, wenn sich der Zustand der Liste dadurch ge√§ndert hat.")),n.addMethod(new S("addAll",new P([{identifier:"c",type:Vi(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"F√ºgt alle Elemente von c dieser Collection hinzu.")),n.addMethod(new S("clear",new P([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),n.addMethod(new S("contains",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enth√§lt.")),n.addMethod(new S("remove",new P([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zur√ºck, wenn die Collection das Element enthalten hatte.")),n.addMethod(new S("isEmpty",new P([]),ct,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),n.addMethod(new S("size",new P([]),st,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zur√ºck.")),n.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),n.addMethod(new S("remove",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.removeFirst_or_error()}),!1,!1,"Entfernt das Element am Kopf der Liste und gibt es zur√ºck. F√ºhrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new S("poll",new P([]),a,(function(e){var t=e[0].value;e[1];return t.intrinsicData.ListHelper.poll_or_null()}),!1,!1,"Entfernt das Element am Kopf der Liste und gibt es zur√ºck. Gibt null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("peek",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.peek_or_null()}),!1,!1,"Gibt das Element am Kopf der Liste zur√ºck, entfernt es aber nicht. Gib null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("removeFirstOccurrence",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeFirstOccurrence(n)}),!1,!1,"L√∂scht das Erste Vorkommen des Objekts. Gibt true zur√ºck, wenn die Liste dadurch ver√§ndert wurde.")),n.addMethod(new S("removeLastOccurrence",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeFirstOccurrence(n)}),!1,!1,"L√∂scht das Letzte Vorkommen des Objekts. Gibt true zur√ºck, wenn die Liste dadurch ver√§ndert wurde.")),n.addMethod(new S("addFirst",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addFirst(n)}),!1,!1,"F√ºgt das Element am Anfang der Liste hinzu.")),n.addMethod(new S("addLast",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addLast(n)}),!1,!1,"F√ºgt das Element am Ende der Liste hinzu.")),n.addMethod(new S("removeFirst",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.removeFirst_or_error()}),!1,!1,"Entfernt das Element am Anfang der Liste und gibt es zur√ºck. F√ºhrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new S("removeLast",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.removeLast_or_error()}),!1,!1,"Entfernt das Element am Ende der Liste und gibt es zur√ºck. F√ºhrt zum Fehler, wenn die Liste leer ist.")),n.addMethod(new S("peekFirst",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.peek_first_or_null()}),!1,!1,"Gibt das Element am Anfang der Liste zur√ºck, entfernt es aber nicht. Gib null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("peekLast",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.peek_last_or_null()}),!1,!1,"Gibt das Element am Ende der Liste zur√ºck, entfernt es aber nicht. Gib null zur√ºck, wenn die Liste leer ist.")),n.addMethod(new S("push",new P([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"F√ºgt das Element am Ende der Liste hinzu.")),n.addMethod(new S("pop",new P([]),a,(function(e){return e[0].value.intrinsicData.ListHelper.pop()}),!1,!1,"Gibt das Element am Ende der Liste zur√ºck und entfernt es von der Liste. Erzeugt einen Fehler, wenn die Liste leer ist.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(t,e),t}(G);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ui(this,Zi(t).call(this,"Console",e,"Klasse zur Textausgabe in der Konsole."))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new S("log",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!1}]),null,(function(t){var n;null===(n=e.main.getBottomDiv())||void 0===n||n.console.$consoleTab.find(".jo_console-top").append("<div>"+t[1].value+"</div>")}),!1,!0)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(t,e),t}(G);function Yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ji=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$runDiv=t,this.main=n,this.color="",this.lastSpan="",this.maxLines=2e3,this.$lines=[],this.newLines=0,this.printCommands=[],this.currentLinelength=0,this.beginOfLineState=!0,jQuery((function(){i.$outputDiv=t.find(".jo_output"),i.clear();var e=i,n=0,r=!1,o=performance.now();setInterval((function(){e.printCommands.length>0&&(e.doPrinting(),performance.now()-o>200?e.$outputDiv[0].scrollTop=e.$outputDiv[0].scrollHeight:r=!0,o=performance.now()),n++%20==0&&r&&setTimeout((function(){e.$outputDiv[0].scrollTop=e.$outputDiv[0].scrollHeight,r=!1}),200)}),50)}))}var t,n,i;return t=e,(n=[{key:"getGraphicsDiv",value:function(){return this.$runDiv.find(".jo_graphics")}},{key:"showProgramEnd",value:function(){var e=this.$runDiv.find(".jo_run-programend");e.show(),e.addClass("jo_programendkf"),setTimeout((function(){e.removeClass("jo_programendkf"),e.hide()}),3e3)}},{key:"doPrinting",value:function(){if(this.newLines>=this.maxLines){this.$outputDiv.empty();for(var e=this.printCommands.length-1,t=0;e>=0;){if(this.printCommands[e].newLine&&++t>=this.maxLines){this.printCommands.splice(0,e+1);break}e--}}this.newLines=0,null!=this.$lastSpan&&(this.$lastSpan.remove(),this.lastSpan.endsWith("</span>")&&(this.lastSpan=this.lastSpan.substring(0,this.lastSpan.length-7)));var n=!0,i=!1,r=void 0;try{for(var o,a=this.printCommands[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(this.beginOfLineState&&s.text.startsWith(" ")?s.text.match(/^( *)(.*)$/)[2].length>0&&(this.beginOfLineState=!1):s.text.length>0&&(this.beginOfLineState=!1),s.text=s.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),null==s.color&&(s.color="var(--defaultOutputColor)"),""!=this.lastSpan&&this.color==s.color||(""!=this.lastSpan&&(this.lastSpan+="</span>"),this.lastSpan+='<span style="color: '+s.color+'">',s.newLine&&""==s.text&&(this.lastSpan+="‚Äã"),this.color=s.color),this.currentLinelength<=1e4&&(this.lastSpan+=s.text,this.currentLinelength+=s.text.length),s.newLine){this.beginOfLineState=!0,this.lastSpan.endsWith("</span>")||(this.lastSpan+="</span>"),this.$lastSpan=jQuery(this.lastSpan),this.$lastDiv.append(this.$lastSpan),this.lastSpan="",this.$lastSpan=null,this.$lastDiv=jQuery("<div></div>");var l=this.main.getInterpreter().inputManager.$input;null!=l?this.$lastDiv.insertBefore(l):this.$outputDiv.append(this.$lastDiv),this.$lines.push(this.$lastDiv),this.currentLinelength=0}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}if(""!=this.lastSpan&&(this.lastSpan.endsWith("</span>")||(this.lastSpan+="</span>"),this.$lastSpan=jQuery(this.lastSpan),this.$lastDiv.append(this.$lastSpan)),this.$lines.length>1.5*this.maxLines){var u=this.$lines.length-this.maxLines,c=this.$lines.splice(0,u),d=!0,h=!1,p=void 0;try{for(var f,y=c[Symbol.iterator]();!(d=(f=y.next()).done);d=!0)f.value.remove()}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}this.printCommands=[]}},{key:"clear",value:function(){this.$outputDiv.empty(),this.$lastDiv=jQuery("<div></div>"),this.$lines.push(this.$lastDiv),this.$outputDiv.append(this.$lastDiv),this.currentLinelength=0,this.color="",this.lastSpan="",this.printCommands=[]}},{key:"print",value:function(e,t){if(null!=e){if("number"==typeof t){for(t=t.toString(16);t.length<6;)t="0"+t;t="#"+t}if((e=e.toString()).indexOf("\n")>=0)for(var n=e.split("\n"),i=0;i<n.length;i++){var r=n[i],o=i<n.length-1;""==r&&i==n.length-1||(this.printCommands.push({text:r,color:t,newLine:o}),o&&this.newLines++)}else this.printCommands.push({text:e,color:t,newLine:!1})}}},{key:"println",value:function(e,t){null==e&&(e=""),this.print(e+"\n",t)}}])&&Yi(t.prototype,n),i&&Yi(t,i),e}();function er(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$runDiv=t,this.main=n}var t,n,i;return t=e,(n=[{key:"readInput",value:function(e,t,n){var i=e.getReturnType(),r=t[1].value,o=3==t.length?t[2].value:null,a=this.main.getInterpreter().printManager;null!=r&&""!=r&&(a.beginOfLineState=!0,a.println("\n"+r),a.doPrinting()),this.$input=jQuery('<input class="jo_newInput" type="text"/>'),a.$outputDiv.append(this.$input);var s=null==o?"":o;this.$input.val(s);var l=this;this.$input.on("keydown",(function(e){"Enter"==e.key&&l.onSubmit(i,n)})),setTimeout((function(){l.$input.focus()}),200),a.$outputDiv.on("mousedown.inputmanager",(function(e){setTimeout((function(){var e;null===(e=l.$input)||void 0===e||e.focus()}),200)}))}},{key:"onSubmit",value:function(e,t){var n=this.$input.val(),i=this.main.getInterpreter().printManager,r=this.parse(n,e);if(null!=r.error)return this.$input.detach(),i.println(r.error,"#ff0000"),i.doPrinting(),i.$outputDiv.append(this.$input),this.$input[0].scrollIntoView(),void this.$input.focus();i.$outputDiv.off("mousedown.inputmanager"),i.println(n),this.$input.off("keydown"),this.hide(),t(r.value)}},{key:"parse",value:function(e,t){if(t==ht)return{error:null,value:{value:e,type:t}};if(t==pt)return 0==e.length?{error:"Leere Eingabe. Erwartet wird ein Zeichen.",value:null}:e.length>1?{error:"Zu lange Eingabe. Erwartet wird ein Zeichen.",value:null}:{error:null,value:{value:e,type:t}};if(t==pt)return"true"!=e&&"false"!=e?{error:"Erwartet wird true oder false.",value:null}:{error:null,value:{value:"true"==e,type:t}};e=e.replace(",",".");var n=Number(e);return null==n?{error:"Erwartet wird eine Zahl.",value:null}:t==st?n!=Math.round(n)?{error:"Erwartet wird eine ganze Zahl.",value:null}:{error:null,value:{value:Math.round(n),type:t}}:{error:null,value:{value:n,type:t}}}},{key:"hide",value:function(){null!=this.$input&&(this.$input.remove(),this.$input=null)}}])&&er(t.prototype,n),i&&er(t,i),e}();function nr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"registerPerformanceEntry",value:function(t,n){var i=e.performanceData.find((function(e){return e.url==t}));null==i&&(i={count:0,sumTime:0,url:t},e.performanceData.push(i)),i.count++;var r=Math.round(performance.now()-n);i.sumTime+=r,e.performanceDataCount++}},{key:"sendDataToServer",value:function(){if(performance.now()-e.lastTimeSent>18e4){var t={data:e.performanceData};e.performanceData=[],e.performanceDataCount=0,e.lastTimeSent=performance.now(),rr("collectPerformanceData",t,(function(){}))}}}],(n=null)&&nr(t.prototype,n),i&&nr(t,i),e}();function rr(e,t,n,i){or(!0);var r=performance.now();$.ajax({type:"POST",async:!0,data:JSON.stringify(t),contentType:"application/json",url:"servlet/"+e,success:function(t){if(ir.registerPerformanceEntry(e,r),or(!1),null!=t.success&&0==t.success||"string"==typeof t&&""==t){var o="Fehler bei der Bearbeitung der Anfrage";null!=t.message&&(o=t.message),i&&i(o)}else n(t)},error:function(e,t){if(or(!1),i){var n="Server nicht erreichbar.";return 0!=e.status&&(n=""+e.status),void i(t+": "+n)}}})}function or(e){e?jQuery(".jo_network-busy").show():jQuery(".jo_network-busy").hide()}function ar(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}ir.performanceData=[],ir.performanceDataCount=0,ir.lastTimeSent=performance.now();var sr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$updateTimerDiv=n,this.ownUpdateFrequencyInSeconds=25,this.teacherUpdateFrequencyInSeconds=5,this.updateFrequencyInSeconds=25,this.forcedUpdateEvery=25,this.forcedUpdatesInARow=0,this.secondsTillNextUpdate=this.updateFrequencyInSeconds,this.errorHappened=!1}var t,n,i;return t=e,(n=[{key:"initializeTimer",value:function(){var e=this,t=this;this.$updateTimerDiv.find("svg").attr("width",t.updateFrequencyInSeconds),null!=this.interval&&clearInterval(this.interval);var n=this.forcedUpdateEvery;this.interval=setInterval((function(){if(null!=t.main.user){if(t.secondsTillNextUpdate--,t.secondsTillNextUpdate<0){t.secondsTillNextUpdate=t.updateFrequencyInSeconds;var i=0==--n;i&&(e.forcedUpdatesInARow++,n=e.forcedUpdateEvery,e.forcedUpdatesInARow>50&&(n=10*e.forcedUpdateEvery)),t.sendUpdates((function(){}),i,!1)}var r=e.$updateTimerDiv.find(".jo_updateTimerRect");r.attr("width",t.secondsTillNextUpdate+"px"),t.errorHappened?(r.css("fill","#c00000"),e.$updateTimerDiv.attr("title","Fehler beim letzten Speichervorgang -> Werd's wieder versuchen")):(r.css("fill","#008000"),e.$updateTimerDiv.attr("title",t.secondsTillNextUpdate+" Sekunden bis zum n√§chsten Speichern")),ir.sendDataToServer()}}),1e3)}},{key:"sendUpdates",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==this.main.user||this.main.user.is_testuser)null!=e&&e();else{this.main.projectExplorer.writeEditorTextToFile();var o=null===(t=this.main.rightDiv)||void 0===t?void 0:t.classDiagram,a=this.main.user.settings;((null==o?void 0:o.dirty)||this.main.userDataDirty)&&(this.main.userDataDirty=!1,a.classDiagram=null==o?void 0:o.serialize(),this.sendUpdateUserSettings((function(){}),r),this.forcedUpdatesInARow=0),o.dirty=!1;var s=[],l=[],u=!0,c=!1,d=void 0;try{for(var h,p=this.main.workspaceList[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;f.saved||(s.push(f.getWorkspaceData(!1)),f.saved=!0,this.forcedUpdatesInARow=0);var y=!0,v=!1,m=void 0;try{for(var g,b=f.moduleStore.getModules(!1)[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var w=g.value;w.file.saved||(this.forcedUpdatesInARow=0,w.file.text=w.getProgramTextFromMonacoModel(),l.push(w.getFileData(f)),w.file.saved=!0)}}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}var k={workspacesWithoutFiles:s,files:l,owner_id:this.main.workspacesOwnerId,userId:this.main.user.id,language:0,currentWorkspaceId:null===(n=this.main.currentWorkspace)||void 0===n?void 0:n.id,getModifiedWorkspaces:i},S=this;if(s.length>0||l.length>0||i)r?navigator.sendBeacon("sendUpdates",JSON.stringify(k)):rr("sendUpdates",k,(function(t){S.errorHappened=!t.success,S.errorHappened||(null!=t.workspaces&&S.updateWorkspaces(k,t),null!=t.filesToForceUpdate&&S.updateFiles(t.filesToForceUpdate),null==e)||e()}),(function(){S.errorHappened=!0}));else if(null!=e)return void e()}}},{key:"sendCreateWorkspace",value:function(e,t,n){if(this.main.user.is_testuser)return e.id=Math.round(1e7*Math.random()),void n(null);rr("createOrDeleteFileOrWorkspace",{type:"create",entity:"workspace",data:e.getWorkspaceData(!1),owner_id:t,userId:this.main.user.id},(function(t){e.id=t.id,n(null)}),n)}},{key:"sendCreateFile",value:function(e,t,n,i){if(this.main.user.is_testuser)return e.file.id=Math.round(1e7*Math.random()),void i(null);rr("createOrDeleteFileOrWorkspace",{type:"create",entity:"file",data:e.getFileData(t),owner_id:n,userId:this.main.user.id},(function(t){e.file.id=t.id,i(null)}),i)}},{key:"sendDuplicateWorkspace",value:function(e,t){this.main.user.is_testuser?t("Diese Aktion ist f√ºr den Testuser nicht m√∂glich.",null):rr("duplicateWorkspace",{workspace_id:e.id,language:0},(function(e){t(e.message,e.workspace)}),t)}},{key:"sendDistributeWorkspace",value:function(e,t,n,i){this.main.user.is_testuser?i("Diese Aktion ist f√ºr den Testuser nicht m√∂glich."):this.sendUpdates((function(){rr("distributeWorkspace",{workspace_id:e.id,class_id:null==t?void 0:t.id,student_ids:n,language:0},(function(e){i(e.message)}),i)}),!1)}},{key:"sendSetSecret",value:function(e,t,n,i){rr("setRepositorySecret",{repository_id:e,newSecretRead:t,newSecretWrite:n},(function(e){i(e)}),(function(e){alert(e)}))}},{key:"sendCreateRepository",value:function(e,t,n,i,r){this.main.user.is_testuser?r("Diese Aktion ist f√ºr den Testuser nicht m√∂glich."):this.sendUpdates((function(){rr("createRepository",{workspace_id:e.id,publish_to:t,name:n,description:i},(function(t){e.moduleStore.getModules(!1).forEach((function(e){e.file.is_copy_of_id=e.file.id,e.file.repository_file_version=1})),e.repository_id=t.repository_id,e.has_write_permission_to_repository=!0,r(t.message,t.repository_id)}),r)}),!0)}},{key:"sendDeleteWorkspaceOrFile",value:function(e,t,n){this.main.user.is_testuser?n(null):rr("createOrDeleteFileOrWorkspace",{type:"delete",entity:e,id:t,userId:this.main.user.id},(function(e){e.success?n(null):n("Netzwerkfehler!")}),n)}},{key:"sendUpdateUserSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.main.user.is_testuser)e(null);else{var n={settings:this.main.user.settings,userId:this.main.user.id};t?navigator.sendBeacon("updateUserSettings",JSON.stringify(n)):rr("updateUserSettings",n,(function(t){t.success?e(null):e("Netzwerkfehler!")}),e)}}},{key:"updateWorkspaces",value:function(e,t){var n=this,i=new Map,r=[];e.files.forEach((function(e){return r.push(e.id)})),t.workspaces.workspaces.forEach((function(e){return i.set(e.id,e)}));var o=[],a=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value;0==n.main.workspaceList.filter((function(t){return t.id==e.id})).length&&(o.push(e.name),n.createNewWorkspaceFromWorkspaceData(e))},d=t.workspaces.workspaces[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)c()}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}var h=!0,p=!1,f=void 0;try{for(var y,v=this.main.workspaceList[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value,g=i.get(m.id);null!=g&&function(){var e=new Map;g.files.forEach((function(t){return e.set(t.id,t)}));var t=new Map,i=!0,o=!1,a=void 0;try{for(var s,l=m.moduleStore.getModules(!1)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=u.file.id;t.set(c,u);var d=e.get(c);null==d?(n.main.projectExplorer.fileListPanel.removeElement(u),n.main.currentWorkspace.moduleStore.removeModule(u)):r.indexOf(c)<0&&u.file.text!=d.text&&(u.file.text=d.text,u.model.setValue(d.text),u.file.saved=!0,u.lastSavedVersionId=u.model.getAlternativeVersionId()),u.file.version=d.version}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var h=!0,p=!1,f=void 0;try{for(var y,v=g.files[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var b=y.value;null==t.get(b.id)&&n.createFile(m,b)}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}}()}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}if(o.length>0){var b=o.length>1?"Folgende Workspaces hat Deine Lehrkraft Dir gesendet: ":"Folgenden Workspace hat Deine Lehrkraft Dir gesendet: ";b+=o.join(", "),alert(b)}this.main.projectExplorer.workspaceListPanel.sortElements(),this.main.projectExplorer.fileListPanel.sortElements()}},{key:"updateFiles",value:function(e){var t=new Map,n=!0,i=!1,r=void 0;try{for(var o,a=this.main.workspaceList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=s.moduleStore.getModules(!1)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;t[p.file.id]=p}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}var f=!0,y=!1,v=void 0;try{for(var m,g=e[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value,w=t[b.id];null!=w&&w.file.text!=b.text&&(w.file.text=b.text,w.model.setValue(b.text),w.file.saved=!0,w.lastSavedVersionId=w.model.getAlternativeVersionId(),w.file.version=b.version)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}},{key:"createNewWorkspaceFromWorkspaceData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.main.createNewWorkspace(e.name,e.owner_id);if(n.id=e.id,n.repository_id=e.repository_id,n.has_write_permission_to_repository=e.has_write_permission_to_repository,n.path=e.path,n.isFolder=e.isFolder,null!=e.settings&&e.settings.startsWith("{")){var i=JSON.parse(e.settings);n.settings=i,n.moduleStore.setAdditionalLibraries(i.libraries)}this.main.workspaceList.push(n);var r=e.path.split("/");1==r.length&&""==r[0]&&(r=[]);var o={name:e.name,externalElement:n,iconClass:null==e.repository_id?"workspace":"repository",isFolder:e.isFolder,path:r};this.main.projectExplorer.workspaceListPanel.addElement(o,!0),n.panelElement=o,null!=n.repository_id&&n.renderSynchronizeButton(o);var a=!0,s=!1,l=void 0;try{for(var u,c=e.files[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;this.createFile(n,d)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return t&&(this.main.projectExplorer.workspaceListPanel.sortElements(),this.main.projectExplorer.fileListPanel.sortElements()),n}},{key:"createFile",value:function(e,t){var n=null;e==this.main.currentWorkspace&&(n={name:t.name,externalElement:null},this.main.projectExplorer.fileListPanel.addElement(n,!0));var i={id:t.id,name:t.name,dirty:!1,saved:!0,text:t.text,version:t.version,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:!0,workspace_id:e.id,panelElement:n},r=this.main.projectExplorer.getNewModule(i);null!=n&&(n.externalElement=r),e.moduleStore.putModule(r)}}])&&ar(t.prototype,n),i&&ar(t,i),e}();function lr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ur=function(){function e(t,n,i,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.children=[],this.isOpen=!1,this.caption=t,this.parent=n,null!=n&&n.children.push(this),this.value=r,this.type=o,this.variable=a,this.identifier=i}var t,n,i;return t=e,(n=[{key:"getLevel",value:function(){return null==this.parent?0:this.parent.getLevel()+1}},{key:"getIndent",value:function(){return 0==this.getLevel()?0:15}},{key:"render",value:function(){var e=this;if(null==this.$debuggerElement){this.$debuggerElement=jQuery("<div>"),this.$debuggerElement.addClass("jo_debuggerElement"),this.$debuggerElement.css("margin-left",this.getIndent()+"px");var t=jQuery('<div class="jo_deFirstline"><span class="jo_deIdentifier">'+this.identifier+'</span>:&nbsp;<span class="jo_deValue"></span></div>');this.$debuggerElement.append(t),(this.type instanceof Y||this.type instanceof G&&!(this.type instanceof Ht)&&this.type!=ht||this.type instanceof N||this.type instanceof V)&&(this.canOpen=!0,this.$debuggerElement.addClass("jo_canOpen"),this.$debuggerElement.append(jQuery('<div class="jo_deChildContainer"></div>')),this.$debuggerElement.find(".jo_deFirstline").on("mousedown",(function(t){null!=e.value&&null!=e.value.value?(0==e.children.length&&e.onFirstOpening(),e.$debuggerElement.toggleClass("jo_expanded"),e.isOpen=!e.isOpen):e.children=[],t.stopPropagation()})))}this.renderValue()}},{key:"onFirstOpening",value:function(){if(this.children=[],this.type instanceof G){var t=this.value.value,n=null==t.intrinsicData?null:t.intrinsicData.ListHelper;if(null!=n)this.renderListElements(n);else{var i=!0,r=!1,o=void 0;try{for(var a,s=this.value.type.getAttributes(j.private)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=new e(null,this,l.identifier,t.getValue(l.index),l.type,null);u.render(),this.$debuggerElement.find(".jo_deChildContainer").append(u.$debuggerElement)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}}else if(this.type instanceof Y)for(var c=this.value.value,d=this.$debuggerElement.find(".jo_deChildContainer"),h=0;h<c.length&&h<100;h++){var p=new e(null,this,"["+h+"]",c[h],this.type.arrayOfType,null);p.render(),d.append(p.$debuggerElement)}else if(this.type instanceof N){var f=!0,y=!1,v=void 0;try{for(var m,g=this.type.getAttributes(j.private)[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value,w=this.type.classObject,k=new e(null,this,b.identifier,w.getValue(b.index),b.type,null);k.render(),this.$debuggerElement.find(".jo_deChildContainer").append(k.$debuggerElement)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}else if(this.type instanceof V)if(null!=this.value.value&&this.value.value instanceof M){var S=this.value.value,P=!0,x=!1,T=void 0;try{for(var C,O=S.class.getAttributes(j.private)[Symbol.iterator]();!(P=(C=O.next()).done);P=!0){var E=C.value,A=new e(null,this,E.identifier,S.getValue(E.index),E.type,null);A.render(),this.$debuggerElement.find(".jo_deChildContainer").append(A.$debuggerElement)}}catch(e){x=!0,T=e}finally{try{P||null==O.return||O.return()}finally{if(x)throw T}}}else this.children}},{key:"renderListElements",value:function(t){var n=t.valueArray;if(this.children.length>n.length){for(var i=n.length;i<this.children.length;i++)this.children[i].$debuggerElement.remove();this.children.splice(n.length)}if(this.children.length<n.length&&this.children.length<100)for(var r=this.children.length;r<n.length&&r<=100;r++){var o=n[r],a=""+r;100==r&&(o={type:ht,value:t.valueArray.length-100+" weitere..."},a="...");var s=new e(null,this,a,o,o.type,null);s.render(),this.$debuggerElement.find(".jo_deChildContainer").first().append(s.$debuggerElement)}}},{key:"renderValue",value:function(){var e,t,n=this.value;if(null!=n){if(this.$debuggerElement.show(),null==n.value)t="null",this.removeAllChildren();else if(null!=n.updateValue&&n.updateValue(n),t=null===(e=n.type)||void 0===e?void 0:e.debugOutput(n),this.type instanceof G){var i=this.value.value,r=null==i.intrinsicData?null:i.intrinsicData.ListHelper;null!=r&&(this.renderListElements(r),r.allElementsPrimitive()?(t=r.valueArray.length+" El: ",t+="["+r.objectArray.slice(0,20).map((function(e){return""+e})).join(", ")+"]"):t=n.type.identifier+" ("+r.valueArray.length+" Elemente)")}this.$debuggerElement.find(".jo_deValue").first().html(null==t?"":t);var o=!0,a=!1,s=void 0;try{for(var l,u=this.children[Symbol.iterator]();!(o=(l=u.next()).done);o=!0)l.value.renderValue()}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}else this.$debuggerElement.hide()}},{key:"removeAllChildren",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.children[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.$debuggerElement.remove()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.children=[]}}])&&lr(t.prototype,n),i&&lr(t,i),e}();function cr(e){return e.replace(/['"]+/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function dr(e){return e<10?"0"+e:""+e}function hr(e,t){return e.replace(new RegExp("(?![^\\n]{1,".concat(t,"}$)([^\\n]{1,").concat(t,"})\\s"),"g"),"$1\n")}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if("string"==typeof t)n=t;else for(var i=0;i<t;i++)n+=" ";return(e=hr(e,60)).length>0&&(e="\n"+e),e=n+"/**"+e.replace(/\n/g,"\n"+n+" * ")+"\n"+n+" */"}function fr(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=window.PointerEvent?"pointer":"mouse";null==t&&(t=e);var o=jQuery('<input type="text" class="jo_inplaceeditor" spellcheck="false">');o.css({width:t.css("width"),height:t.css("height"),color:t.css("color"),position:t.css("position"),"background-color":t.css("background-color"),"font-size":t.css("font-size"),"font-weight":t.css("font-weight"),"box-sizing":"border-box"}),o.val(e.text()),o.on(r+"down",(function(e){e.stopPropagation()})),null!=i&&o[0].setSelectionRange(i.start,i.end),t.after(o),t.hide(),setTimeout((function(){o.focus()}),300),o.on("keydown.me",(function(e){if("Enter"!=e.key&&"Escape"!=e.key);else{o.off("keydown.me"),o.off("focusout.me"),o.remove(),t.show();var i=cr(o.val());n(i)}})),o.on("focusout.me",(function(e){o.off("keydown.me"),o.off("focusout.me"),o.remove(),t.show();var i=cr(o.val());n(i)}))}function yr(e,t,n){var i=window.PointerEvent?"pointer":"mouse",r=jQuery('<div class="jo_contextmenu"></div>'),o=null,a=null,s=!0,l=!1,u=void 0;try{for(var c,d=function(){var e=c.value,t=e.caption;null!=e.link&&(t='<a href="'.concat(e.link,'" target="_blank" class="jo_menulink">').concat(e.caption,"</a>"));var n=jQuery("<div>"+t+(null!=e.subMenu?'<span style="float: right"> &nbsp; &nbsp; &gt;</span>':"")+"</div>");if(null!=e.color&&n.css("color",e.color),null==e.link)n.on(i+"up.contextmenu",(function(t){t.stopPropagation(),jQuery(".jo_contextmenu").remove(),jQuery(document).off(i+"up.contextmenu"),jQuery(document).off(i+"down.contextmenu"),jQuery(document).off("keydown.contextmenu"),e.callback()})),n.on(i+"down.contextmenu",(function(e){e.stopPropagation()}));else{var s=n.find("a");s.on(i+"up",(function(e){e.stopPropagation(),setTimeout((function(){n.hide()}),500)})),s.on(i+"down",(function(e){e.stopPropagation()}))}n.on(i+"move.contextmenu",(function(){e!=a&&null!=o&&(o.remove(),a=null,o=null),null!=e.subMenu&&(o=yr(e.subMenu,n.offset().left+n.width(),n.offset().top))})),r.append(n)},h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0)d()}catch(e){l=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}jQuery(document).on(i+"down.contextmenu",(function(e){jQuery(document).off(i+"down.contextmenu"),jQuery(document).off("keydown.contextmenu"),jQuery(".jo_contextmenu").remove()})),jQuery(document).on("keydown.contextmenu",(function(e){"Escape"==e.key&&(jQuery(document).off(i+"up.contextmenu"),jQuery(document).off("keydown.contextmenu"),jQuery(".jo_contextmenu").remove())}));var p=t>.8*window.innerWidth?"right":"left",f=t>.8*window.innerWidth?window.innerWidth-t:t,y=n>.8*window.innerHeight?"bottom":"top",v=n>.8*window.innerHeight?window.innerHeight-n:n,m={};return m[p]=f+"px",m[y]=v+"px",r.css(m),jQuery("body").append(r),r.show(),r}function vr(e){var t=e.find(".jo_tabheadings>div").not(".jo_noHeading"),n=e.find(".jo_tabs>div"),i=window.PointerEvent?"pointer":"mouse";t.on(i+"down",(function(i){var r=jQuery(i.target);t.removeClass("jo_active"),r.addClass("jo_active");var o=e.find("."+r.data("target"));n.removeClass("jo_active"),n.trigger("myhide"),o.addClass("jo_active"),o.trigger("myshow")}))}function mr(e){return e=e.replace("px","").trim(),Number.parseInt(e)}function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,r="";null!=e&&""!=e&&(r+=' id="'.concat(e,'"')),null!=t&&""!=t&&(r+=' class="'.concat(t,'"'));var o=jQuery("<div".concat(r,"></div>"));return null!=i&&o.css(i),null!=n&&""!=n&&o.text(n),o}var br=!1;function wr(e,t,n,i){var r="rgba("+n[0]+", "+n[1]+", "+n[2]+", ",o=1,a=o/(i/20);!function n(){e.css(t,r+o+")"),(o-=a)<0?e.css(t,""):setTimeout(n,20)}()}function kr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Sr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.moduleStore=new Nf(this.main,!0),this.lexer=new jt,this.parser=new rn(!0),this.codeGenerator=new en,this.module=new Rf(null,t)}var t,n,i;return t=e,(n=[{key:"compile",value:function(e,t,n,i){var o=performance.now(),a=[];this.module.clear(),null==i?(i=new It(null,{column:1,line:1,length:0},{column:1,line:100,length:0})).beginsNewStackframe=!0:i=i.getImitation();var s=this.lexer.lex(e);a=s.errors,this.module.tokenList=s.tokens,new rn(!0).parse(this.module),a=a.concat(this.module.errors[1]);var l=!0,u=!1,c=void 0;try{for(var d,h=this.module.typeNodes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(null==p.resolvedType){var f=t.getType(p.identifier);null==f?a.push({text:"Der Datentyp "+p.identifier+" ist nicht bekannt.",position:p.position,level:"error"}):p.resolvedType=cn(f.type,p.arrayDimension)}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var y=this.codeGenerator.startAdhocCompilation(this.module,t,i,n);if(0==(a=a.concat(y)).length){var v=this.module.mainProgram.statements,m=!0,g=!1,b=void 0;try{for(var w,k=v[Symbol.iterator]();!(m=(w=k.next()).done);m=!0)w.value.stepFinished=!1}catch(e){g=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(g)throw b}}v.length>0&&v[v.length-1].type==r.programEnd&&v.splice(v.length-1,1)}var S=performance.now()-o;return S=Math.round(100*S)/100,{program:this.module.mainProgram,errors:a,symbolTable:i}}}])&&kr(t.prototype,n),i&&kr(t,i),e}();function Pr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workspace=t,this.main=n,this.programMap=new Map,this.compiler=new Sr(n)}var t,n,i;return t=e,(n=[{key:"compile",value:function(e,t){if(null!=t){var n=this.programMap.get(e);if(null!=n){var i=n.get(t.id);if(null!=i)return{error:null,program:i}}else n=new Map,this.programMap.set(e,n);var r=this.workspace.moduleStore,o=this.main.getInterpreter().heap;if(e.length>0&&null!=r){var a=this.compiler.compile(e,r,o,t);return a.errors.length>0?{error:a.errors[0].text,program:null}:(n.set(t.id,a.program),{error:null,program:a.program})}return{error:"Leerer Ausdruck",program:null}}}},{key:"evaluate",value:function(e,t){null==t&&(t=this.main.getDebugger().lastSymboltable);var n=this.compile(e,t);return null!=(null==n?void 0:n.error)?{error:n.error,value:null}:null==n?{error:"Fehler beim Kompilieren",value:null}:this.main.getInterpreter().evaluate(n.program)}}])&&Pr(t.prototype,n),i&&Pr(t,i),e}();function Tr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Mr=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.saved=!0,this.settings={libraries:[]},this.name=t,this.owner_id=i,this.moduleStore=new Nf(n,!0,this.settings.libraries),this.evaluator=new xr(this,n)}var t,n,i;return t=e,i=[{key:"restoreFromData",value:function(t,n){var i=null!=t.settings&&t.settings.startsWith("{")?JSON.parse(t.settings):{libraries:[]};i.libaries&&(i.libraries=i.libaries);var r=new e(t.name,n,t.owner_id);r.id=t.id,r.path=t.path,r.isFolder=t.isFolder,r.owner_id=t.owner_id,r.version=t.version,r.repository_id=t.repository_id,r.has_write_permission_to_repository=t.has_write_permission_to_repository,r.settings=i,null==r.settings.libraries&&(r.settings.libraries=[]),r.settings.libraries.length>0&&r.moduleStore.setAdditionalLibraries(r.settings.libraries);var o=!0,a=!1,s=void 0;try{for(var l,u=t.files[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=Rf.restoreFromData(c,n);r.moduleStore.putModule(d),c.id==t.currentFileId&&(r.currentlyOpenModule=d)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return r}}],(n=[{key:"toExportedWorkspace",value:function(){return{name:this.name,modules:this.moduleStore.getModules(!1).map((function(e){return e.toExportedModule()})),settings:this.settings}}},{key:"alterAdditionalLibraries",value:function(){this.moduleStore.setAdditionalLibraries(this.settings.libraries),this.moduleStore.dirty=!0}},{key:"getWorkspaceData",value:function(e){var t={name:this.name,path:this.path,isFolder:this.isFolder,id:this.id,owner_id:this.owner_id,currentFileId:null==this.currentlyOpenModule?null:this.currentlyOpenModule.file.id,files:[],version:this.version,repository_id:this.repository_id,has_write_permission_to_repository:this.has_write_permission_to_repository,language:0,sql_baseDatabase:"",sql_history:"",sql_manipulateDatabaseStatements:"",settings:JSON.stringify(this.settings)};if(e){var n=!0,i=!1,r=void 0;try{for(var o,a=this.moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.files.push(s.getFileData(this))}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"renderSynchronizeButton",value:function(e){var t,n=null===(t=null==e?void 0:e.$htmlFirstLine)||void 0===t?void 0:t.find(".jo_additionalButtonRepository");if(null!=n){var i=this.main;if(null!=this.repository_id&&this.owner_id==i.user.id){var r=jQuery('<div class="jo_startButton img_open-change jo_button jo_active" title="Workspace mit Repository synchronisieren"></div>');n.append(r);var o=this;r.on("mousedown",(function(e){return e.stopPropagation()})),r.on("click",(function(e){e.stopPropagation(),o.synchronizeWithRepository()}))}else n.find(".jo_startButton").remove()}}},{key:"synchronizeWithRepository",value:function(){var e=this,t=this.main;null!=this.repository_id&&this.owner_id==t.user.id&&t.networkManager.sendUpdates((function(){t.synchronizationManager.synchronizeWithWorkspace(e)}),!0)}},{key:"hasErrors",value:function(){return this.moduleStore.hasErrors()}},{key:"getModuleByMonacoModel",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.moduleStore.getModules(!1)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.model==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}}])&&Tr(t.prototype,n),i&&Tr(t,i),e}();function Cr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var jr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.$dialog=jQuery("#dialog"),jQuery("#main").css("visibility","hidden"),this.$dialog.append(jQuery('<div style="flex: 1"></div><div class="dialog-main"></div><div style="flex: 4"></div>')),this.$dialogMain=this.$dialog.find(".dialog-main"),this.$dialog.css("visibility","visible")}},{key:"heading",value:function(e){var t=jQuery('<div class="dialog-heading">'+e+"</div>");return this.$dialogMain.append(t),t}},{key:"addDiv",value:function(e){this.$dialogMain.append(e)}},{key:"subHeading",value:function(e){var t=jQuery('<div class="dialog-subheading">'+e+"</div>");return this.$dialogMain.append(t),t}},{key:"description",value:function(e,t){var n=null==t?"":'style="color: '.concat(t,'"'),i=jQuery('<div class="dialog-description" '.concat(n,">").concat(e,"</div>"));return this.$dialogMain.append(i),i}},{key:"input",value:function(e,t){var n=jQuery('<input class="dialog-input" type="'.concat(e,'" placeholder="').concat(t,'"></input>'));return this.$dialogMain.append(n),n}},{key:"buttons",value:function(e){var t=jQuery('<div class="dialog-buttonRow"></div>');this.$dialogMain.append(t);var n=!0,i=!1,r=void 0;try{for(var o,a=function(){var e=o.value,n=jQuery('<button style="background-color: '.concat(e.color,';margin-left: 20px">').concat(e.caption,"</button>"));n.on("click",(function(){e.callback()})),t.append(n)},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}},{key:"waitMessage",value:function(e){var t=jQuery('<div class="dialog-wait">'.concat(e,'<img src="assets/projectexplorer/svg-loaders/ball-triangle.svg"></div>'));return this.$dialogMain.append(t),function(e){var n=e?"visible":"hidden";t.css("visibility",n)}}},{key:"close",value:function(){this.$dialog.css("visibility","hidden"),this.$dialog.empty(),jQuery("#main").css("visibility","visible")}},{key:"addCheckbox",value:function(e,t,n){var i=jQuery('<input type="checkbox" name="'+n+'"'+(t?" checked":"")+">"),r=jQuery('<label for="'+n+'">'+e+"</label>"),o=jQuery('<div class="jo_checkbox_div"></div>');return o.append(i,r),r.on("click",(function(){i.prop("checked",!i.prop("checked"))})),this.$dialogMain.append(o),function(){return i.is(":checked")}}}])&&Cr(t.prototype,n),i&&Cr(t,i),e}();function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ar=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Or(this,e),this.main=t,this.path=n,this.dialog=new jr}var t,n,i;return t=e,(n=[{key:"show",value:function(){var e=this,t=this;this.dialog.init(),this.dialog.heading("Workspace importieren"),this.dialog.description("Bitte klicken Sie auf den Button 'Datei ausw√§hlen...' oder ziehen Sie eine Datei auf das gestrichelt umrahmte Feld.");var n="Dieser Workspace wird auf unterster Ordnerebene in der Workspaceliste importiert.";this.path.length>0&&(n="Dieser Workspace wird in den Ordner "+this.path.join("/")+" importiert."),this.dialog.description(n);var i=jQuery('<input type="file" id="file" name="file" multiple />');this.dialog.addDiv(i);var r=[],o=this.dialog.description("","red"),a=jQuery("<ul></ul>"),s=function(e){for(var t=function(t){var n=e[t];(i=new FileReader).onload=function(e){var t=e.target.result;if(t.startsWith("{")){var i=JSON.parse(t);null!=i.modules&&null!=i.name&&null!=i.settings?(r.push(i),a.append(jQuery("<li>Workspace ".concat(i.name," mit ").concat(i.modules.length," Dateien</li>")))):o.append(jQuery("<div>Das Format der Datei ".concat(n.name," passt nicht.</div>")))}else o.append(jQuery("<div>Das Format der Datei ".concat(n.name," passt nicht.</div>")))},i.readAsText(n)},n=0;n<e.length;n++){var i;t(n)}};i.on("change",(function(e){var t=e.originalEvent.target.files;s(t)}));var l=jQuery('<div class="jo_workspaceimport_dropzone">Dateien hierhin ziehen</div>');this.dialog.addDiv(l),this.dialog.description("<b>Diese Workspaces werden importiert:</b>"),l.on("dragover",(function(e){e.stopPropagation(),e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy"})),l.on("drop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.originalEvent.dataTransfer.files;s(t)})),this.dialog.addDiv(a),this.dialog.waitMessage("Bitte warten..."),this.dialog.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){e.dialog.close()}},{caption:"Importieren",color:"green",callback:function(){var n=e.main.networkManager,i=e.main.projectExplorer,o=e.main.user.id;null!=e.main.workspacesOwnerId&&(o=e.main.workspacesOwnerId);var a,s=!0,l=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;h.modules.length}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var p=!0,f=!1,y=void 0;try{for(var v,m=function(){var r=v.value,s=new Mr(r.name,e.main,o);null==a&&(a=s),s.isFolder=!1,s.path=e.path.join("/"),s.settings=r.settings,e.main.workspaceList.push(s),s.alterAdditionalLibraries(),n.sendCreateWorkspace(s,o,(function(l){if(null==l){i.workspaceListPanel.addElement({name:s.name,externalElement:s,iconClass:"workspace",isFolder:!1,path:t.path},!0);var u=!0,c=!1,d=void 0;try{for(var h,p=r.modules[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y={name:f.name,dirty:!1,saved:!0,text:f.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,is_copy_of_id:null,repository_file_version:null,identical_to_repository_version:null},v=new Rf(y,e.main);s.moduleStore.putModule(v),n.sendCreateFile(v,s,o,(function(t){null==t?(i.workspaceListPanel.sortElements(),e.dialog.close(),null!=a&&i.setWorkspaceActive(a,!0)):alert("Der Server ist nicht erreichbar!")}))}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}else alert("Der Server ist nicht erreichbar!")}))},g=r[Symbol.iterator]();!(p=(v=g.next()).done);p=!0)m()}catch(e){f=!0,y=e}finally{try{p||null==g.return||g.return()}finally{if(f)throw y}}}}])}}])&&Er(t.prototype,n),i&&Er(t,i),e}();function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ir(e,t,n){return t&&Fr(e.prototype,t),n&&Fr(e,n),e}var _r=function(){function e(t,n,i,r,o,a,s,l,u,c,d){var h=this;Dr(this,e),this.accordion=t,this.caption=n,this.flexWeight=i,this.newButtonClass=r,this.buttonNewTitle=o,this.defaultIconClass=a,this.withDeleteButton=s,this.withFolders=l,this.kind=u,this.enableDrag=c,this.acceptDropKinds=d,this.elements=[],this.dontSortElements=!1,t.addPanel(this);var p=window.PointerEvent?"pointer":"mouse";if(l){var f=this;this.$newFolderAction=jQuery('<div class="img_add-folder-dark jo_button jo_active" style="margin-right: 4px" title="Neuen Ordner auf oberster Ebene anlegen">'),this.$newFolderAction.on(p+"down",(function(e){e.stopPropagation(),e.preventDefault();h.addFolder("Neuer Ordner",[],(function(e){h.newFolderCallback(e,(function(){h.sortElements(),e.$htmlFirstLine[0].scrollIntoView(),wr(e.$htmlFirstLine.find(".jo_filename"),"background-color",[0,255,0],2e3)}))}))})),this.addAction(this.$newFolderAction);var y=jQuery('<div class="img_collapse-all-dark jo_button jo_active" style="margin-right: 4px" title="Alle Ordner zusammenfalten">');y.on(p+"down",(function(e){e.stopPropagation(),e.preventDefault(),f.collapseAll()})),this.addAction(y)}}return Ir(e,[{key:"collapseAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.elements[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.isFolder&&o.$htmlFirstLine.hasClass("jo_expanded")&&(o.$htmlFirstLine.removeClass("jo_expanded"),o.$htmlFirstLine.addClass("jo_collapsed")),o.path.length>0&&o.$htmlFirstLine.slideUp(200)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"remove",value:function(){this.$captionElement.remove(),this.$listElement.remove()}},{key:"setFixed",value:function(e){this.fixed=e,this.fixed?(this.grow(),this.$captionElement.addClass("jo_fixed")):this.$captionElement.removeClass("jo_fixed")}},{key:"enableNewButton",value:function(e){null!=this.$buttonNew&&(e?this.$buttonNew.show():this.$buttonNew.hide())}},{key:"getCurrentlySelectedPath",value:function(){var e=[],t=this.getSelectedElement();return null!=t&&(e=t.path.slice(0),t.isFolder&&e.push(t.name)),e}},{key:"compareWithPath",value:function(e,t,n,i,r,o){(t=t.slice()).push(e),e="",(r=r.slice()).push(i),i="";for(var a=0;a<t.length&&a<r.length;){var s=t[a].localeCompare(r[a]);if(0!=s)return s;a++}return t.length<r.length?-1:t.length>r.length?1:e.localeCompare(i)}},{key:"getElementIndex",value:function(e,t,n){for(var i=0;i<this.elements.length;i++){var r=this.elements[i];if(this.compareWithPath(e,t,n,r.name,r.path,r.isFolder)<0)return i}return this.elements.length}},{key:"insertElement",value:function(e){var t=this.getElementIndex(e.name,e.path,e.isFolder);this.elements.splice(t,0,e);var n=this.$listElement.find(".jo_file");if(0==t)this.$listElement.prepend(e.$htmlFirstLine);else if(t==n.length)this.$listElement.append(e.$htmlFirstLine);else{var i=n.get(t);jQuery(i).before(e.$htmlFirstLine)}}},{key:"addFolder",value:function(e,t,n){var i={name:e,isFolder:!0,path:t},r=this.renderElement(i,!0);this.insertElement(i),r[0].scrollIntoView(),this.renameElement(i,(function(){n(i)}))}},{key:"renderOuterHtmlElements",value:function(t){var n=this,i=this;if(this.$captionElement=jQuery('<div class="jo_leftpanelcaption jo_expanded">\n        <div class="jo_captiontext">'+this.caption+'</div><div class="jo_actions"></div></div>'),null!=this.newButtonClass){this.$buttonNew=jQuery('<div class="jo_button jo_active '+this.newButtonClass+'" title="'+this.buttonNewTitle+'">'),this.$captionElement.find(".jo_actions").append(this.$buttonNew);var r=window.PointerEvent?"pointer":"mouse";this.$buttonNew.on(r+"down",(function(e){Na.close(),e.stopPropagation();var t=i.getCurrentlySelectedPath(),r={name:"Neu",isFolder:!1,path:t},o=n.getElementIndex("",t,!1);n.elements.splice(o,0,r);var a=n.renderElement(r,!0);if(0==o)n.$listElement.prepend(a);else{var s=n.$listElement.find(".jo_file").get(o-1);jQuery(s).after(a)}a[0].scrollIntoView(),i.renameElement(r,(function(){i.newElementCallback(r,(function(e){r.externalElement=e,null!=r.$htmlSecondLine&&r.$htmlSecondLine.insertAfter(a),null!=i.selectCallback&&i.select(r.externalElement)}))}))}))}var o=jQuery('<div id="filelistouter" class="jo_projectexplorerdiv jo_scrollable" data-grow="'+this.flexWeight+'" style="flex-grow: '+this.flexWeight+'"></div>');this.$listElement=jQuery('<div class="jo_filelist"></div>'),o.append(this.$listElement),t.append(this.$captionElement),t.append(o);var a=this.$captionElement,s=this.$listElement.parent(),l=window.PointerEvent?"pointer":"mouse";a.on(l+"down",(function(e){if(0==e.button&&!n.fixed){var t=s.data("grow");a.hasClass("jo_expanded")?i.accordion.parts.length>1&&s.animate({"flex-grow":.001},1e3,(function(){a.toggleClass("jo_expanded")})):(a.toggleClass("jo_expanded"),s.animate({"flex-grow":t},1e3))}})),a.on("dragover",(function(t){e.currentlyDraggedElementKind==i.kind&&(a.addClass("jo_file_dragover"),t.preventDefault())})),a.on("dragleave",(function(e){a.removeClass("jo_file_dragover")})),a.on("drop",(function(t){if(e.currentlyDraggedElementKind==i.kind){t.preventDefault(),a.removeClass("jo_file_dragover");var n=e.currentlyDraggedElement;null!=n&&i.moveElement(n,null)}}))}},{key:"grow",value:function(){var e=this.$listElement.parent(),t=e.data("grow");e.css("flex-grow",t),this.$captionElement.addClass("jo_expanded")}},{key:"addElement",value:function(e,t){e.$htmlFirstLine=this.renderElement(e,t),this.insertElement(e)}},{key:"sortElements",value:function(){var e=this;this.dontSortElements||(this.elements.sort((function(t,n){var i=t.sortName?t.sortName:t.name,r=n.sortName?n.sortName:n.name;return e.compareWithPath(i,t.path,t.isFolder,r,n.path,n.isFolder)})),this.elements.forEach((function(t){e.$listElement.append(t.$htmlFirstLine)})))}},{key:"setTextAfterFilename",value:function(e,t,n){var i=e.$htmlFirstLine.find(".jo_textAfterName");i.addClass(n),i.html(t)}},{key:"addAction",value:function(e){this.$captionElement.find(".jo_actions").prepend(e)}},{key:"renderElement",value:function(t,n){var i=this,r=window.PointerEvent?"pointer":"mouse",o=this,a="";null==t.iconClass&&(t.iconClass=this.defaultIconClass),t.isFolder&&(t.iconClass="folder",a=n?" jo_expanded":" jo_collapsed");var s="";null==t.path&&(t.path=[]);for(var l=0;l<t.path.length;l++)s+='<div class="jo_folderline"></div>';if(t.$htmlFirstLine=jQuery('<div class="jo_file jo_'.concat(t.iconClass," ").concat(a,'">\n        <div class="jo_folderlines">').concat(s,'</div>\n           <div class="jo_fileimage"></div>\n           <div class="jo_filename">').concat(cr(t.name),'</div>\n           <div class="jo_textAfterName"></div>\n           <div class="jo_additionalButtonHomework"></div>\n           <div class="jo_additionalButtonStart"></div>\n           <div class="jo_additionalButtonRepository"></div>\n           ').concat(this.withDeleteButton?'<div class="jo_delete img_delete jo_button jo_active"></div>':"","\n           ").concat(br?"":'<div class="jo_settings_button img_ellipsis-dark jo_button jo_active"></div>',"\n           </div>")),!n&&t.path.length>0&&t.$htmlFirstLine.hide(),null!=this.addElementActionCallback){var u=this.addElementActionCallback(t);t.$htmlFirstLine.append(u)}if(this.withFolders&&t.isFolder&&(t.$htmlFirstLine.on("dragover",(function(n){e.currentlyDraggedElementKind==o.kind&&(t.$htmlFirstLine.addClass("jo_file_dragover"),n.preventDefault())})),t.$htmlFirstLine.on("dragleave",(function(e){t.$htmlFirstLine.removeClass("jo_file_dragover")})),t.$htmlFirstLine.on("drop",(function(n){if(e.currentlyDraggedElementKind==o.kind){n.preventDefault(),t.$htmlFirstLine.removeClass("jo_file_dragover");var i=e.currentlyDraggedElement;e.currentlyDraggedElement=null,null!=i&&o.moveElement(i,t)}}))),this.withFolders||this.enableDrag){var c=t.$htmlFirstLine.find(".jo_filename");c.attr("draggable","true"),c.on("dragstart",(function(n){e.currentlyDraggedElement=t,e.currentlyDraggedElementKind=o.kind,n.originalEvent.dataTransfer.effectAllowed=t.isFolder?"move":"copyMove"}))}null!=this.acceptDropKinds&&this.acceptDropKinds.length>0&&(t.isFolder||(t.$htmlFirstLine.on("dragover",(function(n){i.acceptDropKinds.indexOf(e.currentlyDraggedElementKind)>=0&&(t.$htmlFirstLine.addClass("jo_file_dragover"),n.ctrlKey?n.originalEvent.dataTransfer.dropEffect="copy":n.originalEvent.dataTransfer.dropEffect="move",n.preventDefault())})),t.$htmlFirstLine.on("dragleave",(function(e){t.$htmlFirstLine.removeClass("jo_file_dragover")})),t.$htmlFirstLine.on("drop",(function(n){if(i.acceptDropKinds.indexOf(e.currentlyDraggedElementKind)>=0){n.preventDefault(),t.$htmlFirstLine.removeClass("jo_file_dragover");var r=e.currentlyDraggedElement;e.currentlyDraggedElement=null,null!=r&&null!=o.dropElementCallback&&o.dropElementCallback(t,r,n.ctrlKey?"copy":"move")}})))),t.$htmlFirstLine.on(r+"up",(function(e){if(0==e.button&&null!=o.selectCallback){o.selectCallback(t.externalElement);var n=!0,r=!1,a=void 0;try{for(var s,l=o.elements[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;u!=t&&u.$htmlFirstLine.hasClass("jo_active")&&u.$htmlFirstLine.removeClass("jo_active")}}catch(e){r=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}if(t.$htmlFirstLine.addClass("jo_active"),t.isFolder){t.$htmlFirstLine.hasClass("jo_expanded")?(t.$htmlFirstLine.removeClass("jo_expanded"),t.$htmlFirstLine.addClass("jo_collapsed")):(t.$htmlFirstLine.addClass("jo_expanded"),t.$htmlFirstLine.removeClass("jo_collapsed"));var c={},d=!0,h=!1,p=void 0;try{for(var f,y=i.elements[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;if(v.isFolder){var m=v.path.join("/");""!=m&&(m+="/"),c[m+=v.name]=v.$htmlFirstLine.hasClass("jo_collapsed"),c[v.path.join("/")]&&(c[m]=!0)}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c[""]=!1;var g=!0,b=!1,w=void 0;try{for(var k,S=i.elements[Symbol.iterator]();!(g=(k=S.next()).done);g=!0){var P=k.value;c[P.path.join("/")]?P.$htmlFirstLine.slideUp(200):P.$htmlFirstLine.slideDown(200)}}catch(e){b=!0,w=e}finally{try{g||null==S.return||S.return()}finally{if(b)throw w}}}}}));var d,h=function(e){var n=[];null!=o.renameCallback&&n.push({caption:"Umbenennen",callback:function(){o.renameElement(t)}});var i=window.PointerEvent?"pointer":"mouse";if(t.isFolder&&(n=n.concat([{caption:"Neuen Unterordner anlegen (unterhalb '"+t.name+"')...",callback:function(){o.select(t.externalElement);var e=o.getCurrentlySelectedPath();o.addFolder("Neuer Ordner",e,(function(e){o.newFolderCallback(e,(function(){o.sortElements(),e.$htmlFirstLine[0].scrollIntoView(),wr(e.$htmlFirstLine.find(".jo_filename"),"background-color",[0,255,0],2e3)}))}))}},{caption:"Neuer Workspace...",callback:function(){o.select(t.externalElement),o.$buttonNew.trigger(i+"down")}},{caption:"Workspace importieren...",callback:function(){new Ar(o.accordion.main,t.path.concat([t.name])).show()}}])),null!=o.contextMenuProvider&&!t.isFolder){var r=!0,a=!1,s=void 0;try{for(var l,u=function(){var e=l.value;n.push({caption:e.caption,callback:function(){e.callback(t)},color:e.color,subMenu:null==e.subMenu?null:e.subMenu.map((function(e){return{caption:e.caption,callback:function(){e.callback(t)},color:e.color}}))})},c=o.contextMenuProvider(t)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0)u()}catch(e){a=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw s}}}n.length>0&&(e.preventDefault(),e.stopPropagation(),yr(n,e.pageX,e.pageY))};return t.$htmlFirstLine[0].addEventListener("contextmenu",h,!1),br||t.$htmlFirstLine.on("pointerup",(function(){return clearTimeout(d),!1})).on("pointerdown",(function(e){return d=window.setTimeout((function(){h(e)}),500),!1})),br||(t.$htmlFirstLine.find(".jo_settings_button").on("pointerdown",(function(e){h(e)})),t.$htmlFirstLine.find(".jo_settings_button").on("mousedown click",(function(e){e.preventDefault(),e.stopPropagation()}))),o.withDeleteButton&&t.$htmlFirstLine.find(".jo_delete").on(r+"down",(function(e){e.preventDefault(),yr([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: l√∂schen!",color:"#ff6060",callback:function(){t.isFolder&&o.getChildElements(t).length>0?alert("Dieser Ordner kann nicht gel√∂scht werden, da er nicht leer ist."):o.deleteCallback(t.externalElement,(function(){t.$htmlFirstLine.remove(),null!=t.$htmlSecondLine&&t.$htmlSecondLine.remove(),o.elements.splice(o.elements.indexOf(t),1),null!=o.selectCallback&&(o.elements.length>0?o.select(o.elements[0].externalElement):o.select(null))}))}}],e.pageX+2,e.pageY+2),e.stopPropagation()})),t.$htmlFirstLine}},{key:"moveElement",value:function(e,t){var n=null==t?[]:t.path.slice(0).concat([t.name]);if(e.isFolder){var i=[e],r=e.path.concat([e.name]).join("/");if(0==n.join("/").indexOf(r))return;var o=e.path.length;e.path=n.slice(0);var a=!0,s=!1,l=void 0;try{for(var u,c=this.elements[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;d.path.join("/").startsWith(r)&&(d.path.splice(0,o),d.path=n.concat(d.path),i.push(d))}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}for(var h=0,p=i;h<p.length;h++){var f=p[h];f.$htmlFirstLine.remove(),this.elements.splice(this.elements.indexOf(f),1)}for(var y=0,v=i;y<v.length;y++){var m=v[y];this.renderElement(m,!0),this.insertElement(m)}this.moveCallback(i)}else e.path=n,e.$htmlFirstLine.remove(),this.elements.splice(this.elements.indexOf(e),1),this.renderElement(e,!0),this.insertElement(e),this.select(e.externalElement),e.$htmlFirstLine[0].scrollIntoView(),this.moveCallback(e)}},{key:"getChildElements",value:function(e){var t=e.path.slice(0).concat(e.name).join("/");return this.elements.filter((function(e){return e.path.join("/").startsWith(t)}))}},{key:"renameElement",value:function(e,t){var n=this,i=this,r=e.$htmlFirstLine.find(".jo_filename"),o=e.name.indexOf("."),a=null==o?null:{start:0,end:o};this.dontSortElements=!0,fr(r,r,(function(o){null!=e.externalElement&&(o=i.renameCallback(e.externalElement,o)),e.name=o,r.html(e.name),null!=t&&t(),i.sortElements(),r[0].scrollIntoView(),n.dontSortElements=!1}),a)}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e){var i=!0,r=!1,o=void 0;try{for(var a,s=this.elements[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.$htmlFirstLine.hasClass("jo_active")&&l.$htmlFirstLine.removeClass("jo_active")}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}else{var u=this.findElement(e);if(null!=u){var c=!0,d=!1,h=void 0;try{for(var p,f=this.elements[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;y.$htmlFirstLine.hasClass("jo_active")&&y.$htmlFirstLine.removeClass("jo_active")}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}if(u.$htmlFirstLine.addClass("jo_active"),n){var v=u.path.join("/"),m=!0,g=!1,b=void 0;try{for(var w,k=this.elements[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var S=w.value,P=S.path.slice(0);v.startsWith(P.join("/"))&&(S.isFolder&&(P.push(S.name),v.startsWith(P.join("/"))&&(S.$htmlFirstLine.removeClass("jo_collapsed"),S.$htmlFirstLine.addClass("jo_expanded"))),S.$htmlFirstLine.show())}}catch(e){g=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(g)throw b}}u.$htmlFirstLine[0].scrollIntoView()}}}t&&null!=this.selectCallback&&this.selectCallback(e)}},{key:"getPathString",value:function(e){var t=e.path.join("/");return e.isFolder&&(""!=t&&(t+="/"),t+=e.name),t}},{key:"setElementClass",value:function(e,t){var n;null!=e&&(null===(n=e.$htmlFirstLine)||void 0===n||n.removeClass("jo_"+e.iconClass).addClass("jo_"+t),e.iconClass=t)}},{key:"findElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.elements[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.externalElement==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"removeElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.elements[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.externalElement==e)return a.$htmlFirstLine.remove(),null!=a.$htmlSecondLine&&a.$htmlSecondLine.remove(),this.elements.splice(this.elements.indexOf(a),1),void(null!=this.selectCallback&&(this.elements.length>0?this.select(this.elements[0].externalElement):this.select(null)))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"clear",value:function(){this.$listElement.empty(),this.elements=[]}},{key:"setCaption",value:function(e){this.$captionElement.find(".jo_captiontext").html(e)}},{key:"getSelectedElement",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.elements[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(o.$htmlFirstLine.hasClass("jo_active"))return o}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return null}}]),e}(),zr=function(){function e(t,n){Dr(this,e),this.main=t,this.parts=[],this.$html=n,n.addClass("jo_leftpanelinner")}return Ir(e,[{key:"addPanel",value:function(e){e.renderOuterHtmlElements(this.$html),this.parts.push(e)}}]),e}();function Lr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Br=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expression=t,this.accordionElement=n,this.main=i,this.$secondLine=r,this.$rightTextInFirstLine=o}var t,n,i;return t=e,(n=[{key:"setError",value:function(e){this.$secondLine.empty(),this.$secondLine.append(jQuery('<div class="jo_watcherResult">---</div>'))}},{key:"evaluate",value:function(){var e=this,t=this.main.getCurrentWorkspace().evaluator.evaluate(this.expression);if(null!=t.error)this.setError(t.error);else{var n="---";null!=t.value&&(n=t.value.type.debugOutput(t.value)),this.$secondLine.empty(),this.$rightTextInFirstLine.empty(),monaco.editor.colorize(n,"myJava",{tabSize:3}).then((function(t){var i=jQuery('<div class="jo_watcherResult">'+t+"</div>");e.expression.length+n.length<20?e.$rightTextInFirstLine.append(i):e.$secondLine.append(i)}))}}}])&&Lr(t.prototype,n),i&&Lr(t,i),e}();function Rr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Wr=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$debuggerDiv=n,this.$projectexplorerDiv=i,this.lastDebuggerElements=[],this.accordion=new zr(t,n),this.variablePanel=new _r(this.accordion,"Variablen","3",null,null,"",!1,!1,"file",!1,[]),this.variablePanel.$listElement.css("margin-left","4px"),this.watchPanel=new _r(this.accordion,"Beobachten","2","img_add-dark","Beobachtungsterm hinzuf√ºgen","watcher",!0,!1,"file",!1,[]),this.watchPanel.$listElement.css("margin-left","4px");var r=this;this.watchPanel.newElementCallback=function(e,t){return r.addWatchExpression(e),t(e.externalElement),null},this.watchPanel.deleteCallback=function(e,t){r.deleteWatchExpression(e),t()},this.watchPanel.renameCallback=function(e,t){return r.renameWatchExpression(e,t),t},this.$debuggerDiv.hide()}var t,n,i;return t=e,(n=[{key:"enable",value:function(){null!=this.$projectexplorerDiv&&this.$projectexplorerDiv.hide(),this.$debuggerDiv.show(),this.$debuggerDiv.parent().find(".jo_alternativeText").hide()}},{key:"disable",value:function(){null!=this.$projectexplorerDiv&&this.$projectexplorerDiv.show(),this.$debuggerDiv.hide(),this.$debuggerDiv.parent().find(".jo_alternativeText").show()}},{key:"showData",value:function(e,t,n,i,r){var o=this;if(null!=e.module.file){var a=[],s=e.module.findSymbolTableAtPosition(t.line,t.column),l=this.lastDebuggerElements;this.lastDebuggerElements=[];var u=this.variablePanel.$listElement,c=s;if(null!=s){if(null!=c.classContext){var d=n[i];if(l.length>0&&l[0].value==d&&null==l[0].variable)this.lastDebuggerElements.push(l[0]),a.push(this.lastDebuggerElements[0].$debuggerElement[0]);else{var h=c.classContext instanceof N?c.classContext.identifier:"this",p=new ur(null,null,h,d,c.classContext,null);this.lastDebuggerElements.push(p)}}for(var f={};null!=c;)c.variableMap.forEach((function(e,t){if(null==f[e.identifier]){var r;f[e.identifier]=!0;var s=!0,u=!1,c=void 0;try{for(var d,h=l[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;p.variable==e&&null!=p.$debuggerElement&&(r=p,a.push(r.$debuggerElement[0]),null==r.value&&null!=r.variable&&(r.value=n[i+r.variable.stackPos]))}}catch(e){u=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}if(null==r){var y=n[i+e.stackPos];r=new ur(null,null,t,y,e.type,e)}o.lastDebuggerElements.push(r)}}),this),c=c.parent;if(null==s.classContext)for(var y in r){var v=r[y];if(1!=f[v.identifier]){f[v.identifier]=!0;var m=void 0,g=!0,b=!1,w=void 0;try{for(var k,S=l[Symbol.iterator]();!(g=(k=S.next()).done);g=!0){var P=k.value;P.variable==v&&(m=P,a.push(m.$debuggerElement[0]),m.value=m.variable.value)}}catch(e){b=!0,w=e}finally{try{g||null==S.return||S.return()}finally{if(b)throw w}}if(null==m){var x=v.value;m=new ur(null,null,y,x,v.type,v)}this.lastDebuggerElements.push(m)}}var T=!0,M=!1,C=void 0;try{for(var j,O=u.children()[Symbol.iterator]();!(T=(j=O.next()).done);T=!0){var E=j.value;a.indexOf(E)>=0||E.remove()}}catch(e){M=!0,C=e}finally{try{T||null==O.return||O.return()}finally{if(M)throw C}}var A=!0,D=!1,F=void 0;try{for(var I,_=this.lastDebuggerElements[Symbol.iterator]();!(A=(I=_.next()).done);A=!0){var z=I.value;null!=z.variable&&(null!=z.variable.stackPos?z.value=n[i+z.variable.stackPos]:z.value=z.variable.value),z.render(),a.indexOf(z.$debuggerElement[0])<0&&u.append(z.$debuggerElement)}}catch(e){D=!0,F=e}finally{try{A||null==_.return||_.return()}finally{if(D)throw F}}this.lastSymboltable=s,this.evaluateWatcherExpressions()}}}},{key:"renameWatchExpression",value:function(e,t){e.expression=t,monaco.editor.colorize(t,"myJava",{tabSize:3}).then((function(t){var n=e.accordionElement.$htmlFirstLine.find(".jo_filename");t='<span class="jo_watcherExpression">'+t+"</span>",n.html(t),n.attr("title",e.expression)})),this.main.getInterpreter().state==Ka.paused&&e.evaluate()}},{key:"deleteWatchExpression",value:function(e){}},{key:"addWatchExpression",value:function(e){e.$htmlSecondLine=jQuery("<div></div>");var t=e.$htmlFirstLine.parent().find(".jo_textAfterName").first(),n=new Br(e.name,e,this.main,e.$htmlSecondLine,t);e.externalElement=n,monaco.editor.colorize(e.name,"myJava",{tabSize:3}).then((function(t){var n=e.$htmlFirstLine.find(".jo_filename");t='<span class="jo_watcherExpression">'+t+"</span>",n.html(t),n.attr("title",e.externalElement.expression)})),n.evaluate()}},{key:"evaluateWatcherExpressions",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.watchPanel.elements[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.externalElement.evaluate()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}])&&Rr(t.prototype,n),i&&Rr(t,i),e}();function Gr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Nr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"init",value:function(){var t="";if(null!=window.javaOnlineDir&&(t=window.javaOnlineDir),!e.isInitialized){e.isInitialized=!0;var n=!0,i=!1,r=void 0;try{for(var o,a=e.sounds[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.player=new Howl({src:[t+s.url],preload:!0}),e.soundMap.set(s.name,s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"play",value:function(t){var n=e.soundMap.get(t);null!=n&&n.player.play()}}],(n=null)&&Gr(t.prototype,n),i&&Gr(t,i),e}();function $r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Nr.sounds=[{url:"assets/mp3/nearby_explosion_with_debris.mp3",name:"nearby_explosion_with_debris",description:"nahe Explosion mit herabfallenden Tr√ºmmern"},{url:"assets/mp3/nearby_explosion.mp3",name:"nearby_explosion",description:"nahe Explosion"},{url:"assets/mp3/far_bomb.mp3",name:"far_bomb",description:"fernes Ger√§usch einer Bombe"},{url:"assets/mp3/cannon_boom.mp3",name:"cannon_boom",description:"einzelner Kanonendonner"},{url:"assets/mp3/far_explosion.mp3",name:"far_explosion",description:"ferne Explosion"},{url:"assets/mp3/laser_shoot.mp3",name:"laser_shoot",description:"Laserschuss (oder was man daf√ºr h√§lt...)"},{url:"assets/mp3/short_bell.mp3",name:"short_bell",description:"kurzes Klingeln (wie bei alter Landenkasse)"},{url:"assets/mp3/flamethrower.mp3",name:"flamethrower",description:"Flammenwerfer"},{url:"assets/mp3/digging.mp3",name:"digging",description:"Ger√§usch beim Sandschaufeln"},{url:"assets/mp3/short_digging.mp3",name:"short_digging",description:"kurzes Ger√§usch beim Sandschaufeln"},{url:"assets/mp3/shoot.mp3",name:"shoot",description:"Schussger√§usch"},{url:"assets/mp3/short_shoot.mp3",name:"short_shoot",description:"ein kurzer Schuss"},{url:"assets/mp3/step.mp3",name:"step",description:"ein Schritt"},{url:"assets/mp3/boulder.mp3",name:"boulder",description:"Ger√§usch eines Steins, der auf einen zweiten f√§llt"},{url:"assets/mp3/pong_d5.wav",name:"pong_d",description:"Tiefer Pong-Ton"},{url:"assets/mp3/pong_f5.wav",name:"pong_f",description:"Hoher Pong-Ton"}],Nr.soundMap=new Map,Nr.isInitialized=!1;var Vr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$mainElement=t,this.main=n,this.actions={},this.keyEntries={},this.buttons={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this.$mainElement;null==e&&(e=jQuery(document));var t=this;e.on("keydown",(function(e){null!=e&&(t.executeKeyDownEvent(e)," "==e.key&&t.main.isEmbedded()&&t.main.getInterpreter().state==Ka.running&&!t.main.getMonacoEditor().hasTextFocus()&&e.preventDefault())}))}},{key:"trigger",value:function(e){var t=this.actions[e];null!=t&&t.action(e,null,"")}},{key:"registerAction",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0,o={action:n,identifier:e,keys:t,text:i,active:!0};this.actions[e]=o;var a=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;null==this.keyEntries[d.toLowerCase()]&&(this.keyEntries[d.toLowerCase()]=[]),this.keyEntries[d.toLowerCase()].push(o)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}if(null!=r){null==this.buttons[e]&&(this.buttons[e]=[]),this.buttons[e].push(r);var h=i;t.length>0&&(h+=" ["+t.join(", ")+"]"),r.attr("title",h);var p=window.PointerEvent?"pointer":"mouse";r.on(p+"down",(function(){o.active&&n(e,null,"mousedown"),"interpreter.start"==e&&Nr.init()}))}}},{key:"isActive",value:function(e){var t=this.actions[e];return null!=t&&t.active}},{key:"setActive",value:function(e,t){var n=this.actions[e];null!=n&&(n.active=t);var i=this.buttons[e];if(null!=i){var r=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;t?u.addClass("jo_active"):u.removeClass("jo_active")}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}}},{key:"executeKeyDownEvent",value:function(e){if("input"!=document.activeElement.tagName.toLowerCase()&&!(e.keyCode<=18&&e.keyCode>=16)){var t="";e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),null!=e.key&&(t+=e.key.toLowerCase());var n=this.keyEntries[t];if(null!=n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.active){e.stopPropagation(),e.preventDefault(),l.action(l.identifier,null,t);break}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}}}}])&&$r(t.prototype,n),i&&$r(t,i),e}();function Hr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Kr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$pcodeTab=this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab")}var t,n,i;return t=e,(n=[{key:"showNode",value:function(e){if(this.$pcodeTab.hasClass("jo_active")){this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab").find("div").removeClass("jo_revealProgramPointer");var t=e.$div;if(null!=t){t.addClass("jo_revealProgramPointer");var n=t.position().top+this.$pcodeTab.scrollTop();n-=this.$pcodeTab.height()/2,this.$pcodeTab.scrollTop(n)}}}},{key:"initGUI",value:function(){var e=this;this.$pcodeTab.on("myshow",(function(){e.main.printProgram()}))}},{key:"printModuleToBottomDiv",value:function(e,t){var n=this;if(null!=t&&this.$pcodeTab.hasClass("jo_active")){var i=this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab");i.html(""),i.append(this.printModule(t)),null!=e&&null!=e.compilerMessage&&i.prepend("<div>"+e.compilerMessage+"</div>"),i.find(".jo_label_destination").on("click",(function(e){var t=jQuery(e.target).data("destination");null==t&&(t=jQuery(e.target).parent().data("destination")),null!=t&&n.$pcodeTab.find("."+t)[0].scrollIntoView()}))}}},{key:"printModule",value:function(e){if(null==e)return[jQuery("<div></div>")];var t=[];if(null!=e.mainProgram&&(t.push(jQuery("<h3>Main Program: </h3>")),t=t.concat(this.print(e.mainProgram.statements))),null!=e.typeStore&&null!=e.typeStore.typeList){var n=!0,i=!1,r=void 0;try{for(var o,a=e.typeStore.typeList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s instanceof G){t.push(jQuery("<h2>Class "+s.identifier+":</h2>")),s.attributeInitializationProgram.statements.length>0&&(t.push(jQuery("<h3>Attribute-initialization:</h3>")),t=t.concat(this.print(s.attributeInitializationProgram.statements)));var l=!0,u=!1,c=void 0;try{for(var d,h=s.methods[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;null!=p.program&&(t.push(jQuery("<h3>Method "+p.signature+":</h3>")),t=t.concat(this.print(p.program.statements)))}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var f=!0,y=!1,v=void 0;try{for(var m,g=s.staticClass.methods[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;null!=b.program&&(t.push(jQuery("<h3>Static Method "+b.signature+":</h3>")),t=t.concat(this.print(b.program.statements)))}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"print",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Map,i=0,o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.type==r.jumpAlways||c.type==r.jumpIfFalse||c.type==r.jumpIfTrue||c.type==r.jumpIfFalseAndLeaveOnStack||c.type==r.jumpIfTrueAndLeaveOnStack||c.type==r.extendedForLoopCheckCounterAndGetElement){var d=c.destination,h=n.get(d);null==h&&n.set(d,{number:i++})}if(c.type==r.keywordSwitch){for(var p in c.destinationMap){var f=c.destinationMap[p],y=n.get(f);null==y&&n.set(f,{number:i++})}if(null!=c.defaultDestination){var v=n.get(c.defaultDestination);null==v&&n.set(c.defaultDestination,{number:i++})}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var m=[],g=0,b=!0,w=!1,k=void 0;try{for(var S,P=e[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;m.push(this.printNode(x,t,g,n)),g++}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}return m}},{key:"printNode",value:function(e,t,n,i){var o=t,s=i.get(n);null!=s&&(o+="<span style='font-weight: bold' class='label"+s.number+"'>Label&nbsp;<span style='color: green'>"+s.number+":</span></span><br>"),null!=e.position?o+="(l"+this.format3(e.position.line)+",&nbsp;c"+this.format3(e.position.column)+"): ":o+="(l&nbsp;xxx,&nbsp;c&nbsp;xxx):",o+="<span style='fontweight: bold; color: #8080ff'>"+r[e.type]+"</span>&nbsp;";var l="";switch(e.type){case r.localVariableDeclaration:case r.heapVariableDeclaration:l+="V: "+this.printVariable(e.variable)+"&nbsp;&nbsp;pushToStackTop: "+e.pushOnTopOfStackForInitialization;break;case r.pushLocalVariableToStack:l+="StackPos: "+e.stackposOfVariable;break;case r.pushFromHeapToStack:l+="v: "+e.identifier;break;case r.pushAttribute:l+="Attribut: "+e.attributeIdentifier+", use THIS-Object: "+e.useThisObject;break;case r.assignment:case r.plusAssignment:case r.minusAssignment:case r.multiplicationAssignment:case r.divisionAssignment:l+="Assignmenttype: "+a[e.type]+"&nbsp;&nbsp;",e.type==r.assignment&&(l+=", leaveValueOnStack: "+e.leaveValueOnStack);break;case r.binaryOp:case r.unaryOp:l+="Operator: "+a[e.operator];break;case r.pushConstant:l+="Value: "+e.value;break;case r.pushStaticClassObject:l+="Static class: "+e.klass.identifier;break;case r.castValue:l+="New Type: "+e.newType.identifier;break;case r.selectArrayElement:break;case r.callMethod:l+=e.method.identifier,l+=", StackframeBegin: "+e.stackframeBegin;break;case r.decreaseStackpointer:l+="count: "+e.popCount;break;case r.return:l+="copyReturnValueToStackframePos0: "+e.copyReturnValueToStackframePos0;break;case r.extendedForLoopCheckCounterAndGetElement:case r.jumpAlways:case r.jumpIfFalse:case r.jumpIfTrue:case r.jumpIfFalseAndLeaveOnStack:case r.jumpIfTrueAndLeaveOnStack:var u=i.get(e.destination).number;l+="destination: <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+u+"'>Label<span style='color: green'>&nbsp;"+u+"</span></span>";break;case r.incrementDecrementBefore:case r.incrementDecrementAfter:l+="amount: "+e.incrementDecrementBy;break;case r.beginArray:l+="type: "+e.arrayType.identifier;break;case r.addToArray:l+="count: "+e.numberOfElementsToAdd;break;case r.pushEmptyArray:l+="type: "+e.arrayType.identifier,l+=", dimension: "+e.dimension;break;case r.keywordSwitch:for(var c in l+="destinationMap: {",e.destinationMap){var d=i.get(e.destinationMap[c]).number;l+=c+": <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+d+"'>Label<span style='color: green'>&nbsp;"+d+"</span></span>, "}if(l.endsWith(", ")&&(l=l.substring(0,l.length-2)),l+="}",null!=e.defaultDestination){var h=i.get(e.defaultDestination).number;l+=", defaultDestination: <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+h+"'>Label<span style='color: green'>&nbsp;"+h+"</span></span>"}break;case r.pushStaticAttribute:null!=e.klass&&(l+="class: "+e.klass.identifier+", attribute: "+e.attributeIdentifier);break;case r.newObject:l+="class: "+e.class.identifier}""!=l&&(o+=" [".concat(l,"]")),1==e.stepFinished&&(o+="::"),o="<div>"+o+"</div>";var p=jQuery(o);return e.$div=p,p}},{key:"printVariable",value:function(e){return e.type.identifier+" "+e.identifier+(null==e.stackPos?"":" (sp: "+e.stackPos+")")}},{key:"format3",value:function(e){return e>=100?""+e:e>=10?"&nbsp;"+e:"&nbsp;&nbsp;"+e}}])&&Hr(t.prototype,n),i&&Hr(t,i),e}();function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zr=function(){function e(t,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Qr(this,e),this.withBottomBorder=o,this.color=a,this.isOpen=!1,this.caption=t,this.parent=r,null!=r&&r.children.push(this),this.value=n,this.identifier=i,this.render()}var t,n,i;return t=e,(n=[{key:"getLevel",value:function(){return null==this.parent?0:this.parent.getLevel()+1}},{key:"getIndent",value:function(){return 0==this.getLevel()?0:15}},{key:"render",value:function(){var e=this;this.$consoleEntry=jQuery("<div>"),this.$consoleEntry.addClass("jo_consoleEntry"),this.$consoleEntry.css("margin-left",this.getIndent()+"px"),null!=this.color&&this.$consoleEntry.css("background-color",this.color),this.withBottomBorder&&this.$consoleEntry.addClass("jo_withBorder");var t=jQuery('<div class="jo_ceFirstline"></div>');this.$consoleEntry.append(t),null!=this.value&&null!=this.value.type&&(this.value.type instanceof Y||this.value.type instanceof G&&!(this.value.type instanceof Ht)&&this.value.type!=ht||this.value.type instanceof V)?(this.canOpen=!0,this.$consoleEntry.addClass("jo_canOpen"),this.$consoleEntry.append(jQuery('<div class="jo_ceChildContainer"></div>')),this.$consoleEntry.find(".jo_ceFirstline").on("mousedown",(function(t){null!=e.value&&null!=e.value.value?(null==e.children&&e.onFirstOpening(),e.$consoleEntry.toggleClass("jo_expanded"),e.isOpen=!e.isOpen):e.children=null,t.stopPropagation()}))):null==this.caption&&0==this.getLevel()&&this.$consoleEntry.addClass("jo_cannotOpen"),this.renderValue()}},{key:"onFirstOpening",value:function(){this.children=[];var t=this.value.type;if(t instanceof G){var n=!0,i=!1,r=void 0;try{for(var o,a=this.value.type.getAttributes(j.private)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=new e(null,this.value.value.getValue(s.index),s.identifier,this,!1);l.render(),this.$consoleEntry.find(".jo_ceChildContainer").append(l.$consoleEntry)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}else if(t instanceof Y)for(var u=this.value.value,c=this.$consoleEntry.find(".jo_ceChildContainer"),d=0;d<u.length&&d<100;d++){var h=new e(null,u[d],"["+d+"]",this,!1);h.render(),c.append(h.$consoleEntry)}else if(t instanceof N){var p=this.$consoleEntry.find(".jo_ceChildContainer"),f=!0,y=!1,v=void 0;try{for(var m,g=t.getAttributes(j.private)[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value,w=new e(null,t.classObject.getValue(b.index),b.identifier,this,!1);w.render(),p.append(w.$consoleEntry)}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}else if(t instanceof V)if(null!=this.value.value&&this.value.value instanceof M){var k=this.$consoleEntry.find(".jo_ceChildContainer"),S=this.value.value,P=!0,x=!1,T=void 0;try{for(var C,O=S.class.getAttributes(j.private)[Symbol.iterator]();!(P=(C=O.next()).done);P=!0){var E=C.value,A=new e(null,S.getValue(E.index),E.identifier,this,!1);A.render(),k.append(A.$consoleEntry)}}catch(e){x=!0,T=e}finally{try{P||null==O.return||O.return()}finally{if(x)throw T}}}else this.children}},{key:"renderValue",value:function(){var e=this.$consoleEntry.find(".jo_ceFirstline"),t=this.value;if(null!=t){var n="";n=null==t.value?"null":t.type.debugOutput(t,400),null!=this.identifier&&e.append(jQuery('<span class="jo_ceIdentifier">'+this.identifier+":&nbsp;</span>")),e.append(jQuery('<span class="jo_ceValue">'+n+"</span>"))}else if(null!=this.caption)if("string"==typeof this.caption)e.append(jQuery('<span class="jo_ceCaption">'+this.caption+"</span>"));else{var i=jQuery('<span class="jo_ceCaption"></span>');i.append(this.caption),e.append(i)}else e.append(jQuery('<span class="jo_ceNoValue">Kein Wert zur√ºckgegeben.</span>'))}},{key:"detachValue",value:function(){this.value=void 0,this.$consoleEntry.removeClass("jo_canOpen"),0==this.getLevel()&&null==this.caption&&this.$consoleEntry.addClass("jo_cannotOpen")}}])&&Ur(t.prototype,n),i&&Ur(t,i),e}();function Xr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var qr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.history=[],this.historyPos=0,this.isDirty=!1,this.readyToExecute=!1,this.consoleEntries=[],this.errorDecoration=[],null!=n&&(this.$consoleTabHeading=n.find(".jo_tabheadings>.jo_console-tab"),this.$consoleTab=n.find(".jo_tabs>.jo_consoleTab"))}var t,n,i;return t=e,(n=[{key:"initConsoleClearButton",value:function(){var e=this,t=this.$consoleTabHeading.parent().find(".jo_console-clear");this.$consoleTab.on("myshow",(function(){t.show(),e.editor.layout()})),this.$consoleTab.on("myhide",(function(){t.hide()})),t.on("mousedown",(function(t){t.stopPropagation(),e.clear()}))}},{key:"initGUI",value:function(){var e=this;if(null!=this.$bottomDiv){this.initConsoleClearButton();var t=this.$consoleTab.find(".jo_commandline");this.editor=monaco.editor.create(t[0],{value:[""].join("\n"),automaticLayout:!1,renderLineHighlight:"none",guides:{bracketPairs:!1,highlightActiveIndentation:!1,indentation:!1},overviewRulerLanes:0,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,fixedOverflowWidgets:!0,language:"myJava",fontSize:14,fontFamily:"Roboto Mono",fontWeight:"500",roundedSelection:!0,occurrencesHighlight:!1,suggest:{localityBonus:!0,snippetsPreventQuickSuggestions:!1},minimap:{enabled:!1},scrollbar:{vertical:"hidden",horizontal:"hidden"},theme:"myCustomThemeDark"}),this.editor.layout();var n=this;this.editor.addCommand(monaco.KeyCode.Enter,(function(){if(n.compileIfDirty(),n.readyToExecute){var e=n.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1);if(""==e)return;n.history.push(e),n.historyPos=0,n.execute(),n.editor.setValue("")}}),"!suggestWidgetVisible"),this.editor.addCommand(monaco.KeyCode.UpArrow,(function(){var e=n.history.length-(n.historyPos+1);if(e>=0){n.historyPos++;var t=n.history[e];n.editor.setValue(t),n.editor.setPosition({lineNumber:1,column:t.length+1})}}),"!suggestWidgetVisible"),this.editor.addCommand(monaco.KeyCode.DownArrow,(function(){var e=n.history.length-(n.historyPos-1);if(e<=n.history.length-1){n.historyPos--;var t=n.history[e];n.editor.setValue(t),n.editor.setPosition({lineNumber:1,column:t.length+1})}else n.editor.setValue(""),n.historyPos=0}),"!suggestWidgetVisible"),this.compiler=new Sr(this.main);var i=this.editor.getModel(),r=0;i.onDidChangeContent((function(){var e=i.getAlternativeVersionId();e!=r&&(n.isDirty=!0,r=e)})),this.startTimer(),this.$consoleTabHeading.on("mousedown",(function(){Na.showHelper("consoleHelper",e.main),setTimeout((function(){n.editor.focus()}),500)}))}}},{key:"startTimer",value:function(){this.stopTimer();var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"stopTimer",value:function(){null!=this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}},{key:"compileIfDirty",value:function(){if(this.isDirty){var e=this.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1),t=this.main.getCurrentWorkspace().moduleStore,n=this.main.getDebugger().lastSymboltable,i=this.main.getInterpreter().heap;if(e.length>0&&null!=t){var r=this.compiler.compile(e,t,i,n);this.readyToExecute=0==r.errors.length,this.showErrors(r.errors),this.isDirty=!1}else this.showErrors([])}}},{key:"showErrors",value:function(e){var t=[],n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push({startLineNumber:s.position.line,startColumn:s.position.column,endLineNumber:s.position.line,endColumn:s.position.column+s.position.length,message:s.text,severity:monaco.MarkerSeverity.Error})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}monaco.editor.setModelMarkers(this.editor.getModel(),"Fehler",t)}},{key:"execute",value:function(){var e=this,t=this.main.getInterpreter(),n=this.compiler.module,i=this.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1),r=n.mainProgram;monaco.editor.colorize(i,"myJava",{tabSize:3}).then((function(n){e.executeRapidly(t,r,n),t.showProgramPointerAndVariables()}))}},{key:"programHasMethodCalls",value:function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=e.statements[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.type==r.callMethod&&null==s.method.invoke)return!0}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return!1}},{key:"executeInStepMode",value:function(e,t,n){var i=this;e.pushCurrentProgram(),e.currentProgram=t,e.currentProgramPosition=0;var r=e.stack.length,o=e.state;e.setState(Ka.paused),e.start((function(){var t;if(e.stack.length>r)for(t=e.stack.pop();e.stack.length>r;)e.stack.pop();i.writeConsoleEntry(n,t),e.setState(o),o==Ka.paused&&e.showProgramPointerAndVariables()}))}},{key:"executeRapidly",value:function(e,t,n){var i=e.evaluate(t);if(null==i.error)this.writeConsoleEntry(n,i.value);else{var r=jQuery("<div><div>"+n+"</div></div>");r.append(jQuery('<div class="jo_console-error"> '+i.error+"</div>")),this.writeConsoleEntry(r,null)}}},{key:"showTab",value:function(){var e=window.PointerEvent?"pointer":"mouse";this.$consoleTabHeading.trigger(e+"down")}},{key:"writeConsoleEntry",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!=this.$consoleTab){var i=this.$consoleTab.find(".jo_console-top"),r=new Zr(e,null,null,null,null==t,n);if(this.consoleEntries.push(r),i.append(r.$consoleEntry),null!=t){var o=new Zr(null,t,null,null,!0,n);this.consoleEntries.push(o),i.append(o.$consoleEntry)}var a=i[0].scrollHeight;i.scrollTop(a)}}},{key:"clear",value:function(){this.$consoleTab.find(".jo_console-top").children().remove(),this.consoleEntries=[]}},{key:"detachValues",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.consoleEntries[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.detachValue()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"showError",value:function(e,t){var n,i,r;this.main instanceof Wa&&(null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.name)!=(null===(r=null===(i=this.main.projectExplorer.getCurrentlyEditedModule())||void 0===i?void 0:i.file)||void 0===r?void 0:r.name)&&(this.main.editor.dontDetectLastChange(),this.main.projectExplorer.setModuleActive(e));var o={startColumn:t.column,startLineNumber:t.line,endColumn:t.column+t.length,endLineNumber:t.line};this.main.getMonacoEditor().revealRangeInCenter(o),this.errorDecoration=this.main.getMonacoEditor().deltaDecorations(this.errorDecoration,[{range:o,options:{className:"jo_revealError"}},{range:o,options:{className:"jo_revealErrorWholeLine",isWholeLine:!0}}])}},{key:"clearErrors",value:function(){this.errorDecoration=this.main.getMonacoEditor().deltaDecorations(this.errorDecoration,[])}},{key:"clearExceptions",value:function(){null!=this.$bottomDiv&&this.$consoleTab.find(".jo_console-top").find(".jo_exception").parents(".jo_consoleEntry").remove()}}])&&Xr(t.prototype,n),i&&Xr(t,i),e}();function Yr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Jr=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$mainDiv=i,this.oldDecorations=[],this.oldErrorDecorations=[],this.minimapColor={},this.lightBulbOnClickFunctionList=[],this.minimapColor.error="#bc1616",this.minimapColor.warning="#cca700",this.minimapColor.info="#75beff",this.$bracket_warning=i.find(".jo_parenthesis_warning"),this.$bracket_warning.attr("title","Klammeralarm!"),this.$bracket_warning.children().attr("title","Klammeralarm!");var r=this;i.find(".jo_pw_undo").on("click",(function(){r.main.getMonacoEditor().trigger(".","undo",{})})).attr("title","Undo")}var t,n,i;return t=e,(n=[{key:"showParenthesisWarning",value:function(e){null!=e?(this.$bracket_warning.css("visibility","visible"),this.$bracket_warning.find(".jo_pw_heading").text(e)):this.$bracket_warning.css("visibility","hidden")}},{key:"showErrors",value:function(e){var t=this;this.lightBulbOnClickFunctionList=[];var n=new Map;this.$errorDiv=this.$bottomDiv.find(".jo_tabs>.jo_errorsTab"),this.$errorDiv.empty();var i=!1,r=e.moduleStore,o=this.main.getMonacoEditor(),a=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value,r=[],a=[],s=[],l=e.getSortedAndFilteredErrors();n.set(e,e.getErrorCount());var c=!0,d=!1,h=void 0;try{for(var p,f=l[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,v=void 0,m=void 0,g=t.minimapColor[y.level];switch(y.level){case"error":v="jo_revealErrorLine",m="jo_borderLeftError";break;case"warning":v="jo_revealWarningLine",m="jo_borderLeftWarning";break;case"info":v="jo_revealInfoLine",m="jo_borderLeftInfo"}null!=y.quickFix&&function(){var n=y.quickFix,i="lb_"+Math.trunc(1e6*Math.random());v="jo_yellowLightBulb "+m+" "+i,t.lightBulbOnClickFunctionList.push({class:"."+i,onClickFunction:function(){var t=n.editsProvider(e.model.uri);o.executeEdits("",t.map((function(e){var t=e.edit.range;return{range:new monaco.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),text:e.edit.text,forceMoveMarkers:!0}})))},title:n.title})}(),t.processError(y,e,s);var b=void 0;switch(y.level){case"error":b=monaco.MarkerSeverity.Error;break;case"warning":b=monaco.MarkerSeverity.Warning;break;case"info":b=monaco.MarkerSeverity.Info}r.push({startLineNumber:y.position.line,startColumn:y.position.column,endLineNumber:y.position.line,endColumn:y.position.column+y.position.length,message:y.text,severity:b,relatedInformation:y.quickFix}),a.push({range:{startLineNumber:y.position.line,startColumn:y.position.column,endLineNumber:y.position.line,endColumn:y.position.column+y.position.length},options:{linesDecorationsClassName:v,minimap:{position:monaco.editor.MinimapPosition.Inline,color:g}}})}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}if(monaco.editor.setModelMarkers(e.model,"test",r),e.oldErrorDecorations=e.model.deltaDecorations(e.oldErrorDecorations,a),t.oldDecorations=t.main.getMonacoEditor().deltaDecorations(t.oldDecorations,[]),s.length>0&&t.$errorDiv.length>0){i=!0;var w=jQuery('<div class="jo_error-filename">'+e.file.name+"&nbsp;</div>");t.$errorDiv.append(w);var k=!0,S=!1,P=void 0;try{for(var x,T=s[Symbol.iterator]();!(k=(x=T.next()).done);k=!0){var M=x.value;t.$errorDiv.append(M)}}catch(e){S=!0,P=e}finally{try{k||null==T.return||T.return()}finally{if(S)throw P}}}},d=r.getModules(!1)[Symbol.iterator]();!(a=(u=d.next()).done);a=!0)c()}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return!i&&this.$errorDiv.length>0&&this.$errorDiv.append(jQuery('<div class="jo_noErrorMessage">Keine Fehler gefunden :-)</div>')),this.registerLightbulbOnClickFunctions(),n}},{key:"registerLightbulbOnClickFunctions",value:function(){var e=this;setTimeout((function(){var t=!0,n=!1,i=void 0;try{for(var r,o=e.lightBulbOnClickFunctionList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;jQuery(a.class).off("click",a.onClickFunction),jQuery(a.class).on("click",a.onClickFunction).attr("title",a.title)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}),800)}},{key:"processError",value:function(e,t,n){var i=this,r=jQuery('<div class="jo_error-line"></div>'),o=jQuery('<span class="jo_error-position">[Z&nbsp;<span class="jo_linecolumn">'+e.position.line+'</span> Sp&nbsp;<span class="jo_linecolumn">'+e.position.column+"</span>]</span>:&nbsp;"),a="";switch(e.level){case"error":break;case"warning":a='<span class="jo_warning_category">Warnung: </span>';break;case"info":a='<span class="jo_info_category">Info: </span>'}var s=jQuery('<div class="jo_error-text">'+a+e.text+"</div>");r.append(o).append(s);var l=this;r.on("mousedown",(function(n){i.$errorDiv.find(".jo_error-line").removeClass("jo_active"),r.addClass("jo_active"),l.showError(t,e)})),n.push(r)}},{key:"showError",value:function(e,t){this.main instanceof Wa&&e!=this.main.projectExplorer.getCurrentlyEditedModule()&&(this.main.editor.dontDetectLastChange(),this.main.projectExplorer.setModuleActive(e));var n=t.position,i={startColumn:n.column,startLineNumber:n.line,endColumn:n.column+n.length,endLineNumber:n.line};this.main.getMonacoEditor().revealRangeInCenter(i);var r="";switch(t.level){case"error":r="jo_revealError";break;case"warning":r="jo_revealWarning";break;case"info":r="jo_revealInfo"}this.oldDecorations=this.main.getMonacoEditor().deltaDecorations(this.oldDecorations,[{range:i,options:{className:r}}])}}])&&Yr(t.prototype,n),i&&Yr(t,i),e}();function eo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var to=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.showRevisionActive=!1,this.$homeworkTab=n.find(".jo_tabs>.jo_homeworkTab")}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this;this.$homeworkTab.append(this.$homeworkTabLeft=gr("","jo_homeworkTabLeft jo_scrollable")),this.$homeworkTab.append(this.$homeworkTabRight=gr("","jo_homeworkTabRight jo_scrollable")),this.$showRevisionButton=gr("","jo_button jo_active jo_homeworkRevisionButton",""),jQuery("#view-mode").prepend(this.$showRevisionButton),this.$showRevisionButton.on("click",(function(){e.showRevisionActive?e.hideRevision():e.showRevision(t.main.getCurrentlyEditedModule())})),this.$showRevisionButton.hide(),jQuery("#diffEditor").hide()}},{key:"showHomeWorkRevisionButton",value:function(){this.$showRevisionButton.text(this.showRevisionActive?"Normalansicht":"Korrekturen zeigen"),this.$showRevisionButton.show()}},{key:"hideHomeworkRevisionButton",value:function(){this.$showRevisionButton.hide()}},{key:"showRevision",value:function(e){e.file.text=e.getProgramTextFromMonacoModel();var t=e.file;jQuery("#editor").hide(),jQuery("#diffEditor").show();var n=monaco.editor.createModel(t.text_before_revision,"myJava"),i=monaco.editor.createModel(t.text,"myJava");this.diffEditor=monaco.editor.createDiffEditor(document.getElementById("diffEditor"),{enableSplitViewResizing:!0,originalEditable:!1,readOnly:!0,renderSideBySide:!0}),this.diffEditor.setModel({original:n,modified:i}),this.showRevisionActive=!0,this.showHomeWorkRevisionButton()}},{key:"hideRevision",value:function(){this.showRevisionActive&&(jQuery("#diffEditor").hide(),this.diffEditor.dispose(),this.diffEditor=null,jQuery("#editor").show(),this.showRevisionActive=!1,this.showHomeWorkRevisionButton())}},{key:"attachToWorkspaces",value:function(e){var t=this,n=[],i={};e.forEach((function(e){e.moduleStore.getModules(!1).forEach((function(t){var r,o=t.file.submitted_date;if(null!=o){var a=(r=o.match(/^(\d{2})\.(\d{2})\.(\d{4}), (\d{2}):(\d{2})$/),new Date(Number.parseInt(r[3]),Number.parseInt(r[2])-1,Number.parseInt(r[1]),Number.parseInt(r[4]),Number.parseInt(r[5]))),s=function(e){return"".concat(dr(e.getDate()),".").concat(dr(e.getMonth()+1),".").concat(e.getFullYear())}(a),l=i[s];null==l&&(l={date:a,day:s,modules:[]},i[s]=l,n.push(l)),l.modules.push({module:t,workspace:e})}}))})),this.$homeworkTabLeft.empty(),this.$homeworkTabRight.empty();var r=this;this.$homeworkTabLeft.append(gr("","jo_homeworkHeading","Abgabetage:")),n.sort((function(e,t){return e.date.getFullYear()!=t.date.getFullYear()?-Math.sign(e.date.getFullYear()-t.date.getFullYear()):e.date.getMonth()!=t.date.getMonth()?-Math.sign(e.date.getMonth()-t.date.getMonth()):e.date.getDate()!=t.date.getDate()?-Math.sign(e.date.getDate()-t.date.getDate()):0}));var o=!0;n.forEach((function(e){e.modules.sort((function(e,t){return e.module.file.name.localeCompare(t.module.file.name)}));var n=gr("","jo_homeworkDate",e.day);t.$homeworkTabLeft.append(n),n.on("click",(function(i){t.$homeworkTabLeft.find(".jo_homeworkDate").removeClass("jo_active"),n.addClass("jo_active"),r.select(e)})),o&&(o=!1,n.addClass("jo_active"),r.select(e))}))}},{key:"select",value:function(e){this.$homeworkTabRight.empty(),this.$homeworkTabRight.append(gr("","jo_homeworkHeading","Abgegebene Dateien:"));var t=this;e.modules.forEach((function(e){var n=jQuery('<div class="jo_homeworkEntry">Workspace <span class="jo_homework-workspace">\n                    '.concat(e.workspace.name,'</span>, Datei <span class="jo_homework-file">\n                    ').concat(e.module.file.name,"</span> (Abgabe: ").concat(e.module.file.submitted_date," )</div>"));t.$homeworkTabRight.append(n),n.on("click",(function(){t.main.projectExplorer.setWorkspaceActive(e.workspace,!0),t.main.projectExplorer.setModuleActive(e.module),t.main.projectExplorer.fileListPanel.select(e.module,!1)}))}))}}])&&eo(t.prototype,n),i&&eo(t,i),e}();function no(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var io=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$mainDiv=i,this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab").length>0&&(this.programPrinter=new Kr(t,n)),this.$bottomDiv.find(".jo_tabheadings>.jo_console-tab").length>0?this.console=new qr(t,n):this.console=new qr(t,null),this.$bottomDiv.find(".jo_tabheadings>.jo_homeworkTabheading").length>0&&(this.homeworkManager=new to(t,n)),this.errorManager=new Jr(t,n,i)}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){vr(this.$bottomDiv),null!=this.programPrinter&&this.programPrinter.initGUI(),null!=this.console&&this.console.initGUI(),null!=this.homeworkManager&&this.homeworkManager.initGUI(),this.$bottomDiv.find(".jo_tabs").children().first().trigger("click");var e=this;jQuery(".jo_pcodeTab").on("myshow",(function(){e.printCurrentlyExecutedModule()}))}},{key:"printCurrentlyExecutedModule",value:function(){var e,t=this.main.getInterpreter();if(t.state==Ka.running||t.state==Ka.paused){var n=null===(e=t.currentProgram)||void 0===e?void 0:e.module;this.printModuleToBottomDiv(null,n)}}},{key:"printModuleToBottomDiv",value:function(e,t){null!=this.programPrinter&&this.programPrinter.printModuleToBottomDiv(e,t)}},{key:"showHomeworkTab",value:function(){jQuery(".jo_homeworkTabheading").css("visibility","visible");var e=window.PointerEvent?"pointer":"mouse";jQuery(".jo_homeworkTabheading").trigger(e+"down")}},{key:"hideHomeworkTab",value:function(){jQuery(".jo_homeworkTabheading").css("visibility","hidden");var e=window.PointerEvent?"pointer":"mouse";jQuery(".jo_tabheadings").children().first().trigger(e+"down")}}])&&no(t.prototype,n),i&&no(t,i),e}();function ro(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var oo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.triggerCharacters=[".","abcdefghijklmnopqrstuvwxyz√§√∂√º√ü_ABCDEFGHIJKLMNOPQRSTUVWXYZ√Ñ√ñ√ú"," "],this.first=!0}var t,n,i;return t=e,(n=[{key:"provideCompletionItems",value:function(e,t,n,i){var r,o,a,s,l,u,c,d=this;setTimeout((function(){var e,t=null===(e=d.main.getMonacoEditor()._contentWidgets["editor.widget.suggestWidget"])||void 0===e?void 0:e.widget;null!=t&&null!=t._widget&&d.first&&(t._widget.toggleDetails(),d.first=!1)}),300);var h=null===(a=null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.editor)||void 0===a?void 0:a.getModel();this.isConsole=e==h;var p=e==this.main.getMonacoEditor().getModel();if(this.isConsole||p){var f=this.isConsole?null===(l=null===(s=this.main.getBottomDiv())||void 0===s?void 0:s.console)||void 0===l?void 0:l.compiler.module:this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==f)return null;if(this.isStringLiteral(f,t))return null;var y=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),v=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber+5,endColumn:1});if(" "==n.triggerCharacter){if(null!=y.match(/.*(new )$/))return this.getCompletionItemsAfterNew(f);if(null!=y.match(/.*(class )[\w√∂√§√º√ñ√Ñ√ú√ü<> ,]*[\w√∂√§√º√ñ√Ñ√ú√ü<> ] $/)){for(var m=0,g=0,b=y.lastIndexOf("class");b<y.length;b++)switch(y.charAt(b)){case"<":m++;break;case">":g++}return this.getCompletionItemsAfterClass(f,m>g,v)}return null}var w=v.match(/^([\w√∂√§√º√ñ√Ñ√ú√ü]*\(?)/),k="";null!=w&&w.length>0&&(k=w[0]);var S=k.endsWith("("),P=y.match(/.*(\.)([\w√∂√§√º√ñ√Ñ√ú√ü]*)$/);null!=P&&(this.isConsole?null===(c=null===(u=this.main.getBottomDiv())||void 0===u?void 0:u.console)||void 0===c||c.compileIfDirty():this.main.compileIfDirty());var x=this.isConsole?this.main.getDebugger().lastSymboltable:f.findSymbolTableAtPosition(t.lineNumber,t.column),T=null==x?null:x.classContext;if(null!=P)return this.getCompletionItemsAfterDot(P,t,f,k,T,S);var M=y.match(/.*[^\w√∂√§√º√ñ√Ñ√ú√ü]([\w√∂√§√º√ñ√Ñ√ú√ü]*)$/);return null==M&&(M=y.match(/^([\w√∂√§√º√ñ√Ñ√ú√ü]*)$/)),null!=M?this.getCompletionItemsInsideIdentifier(M,t,f,k,T,S,x):void 0}}},{key:"isStringLiteral",value:function(e,t){var n=e.tokenList;if(null==n||0==n.length)return!1;for(var i,o=0,a=n.length-1,s=1e3;;){if(i==(i=Math.round((a+o)/2)))return!1;if(0==--s)return!1;var l=n[i],u=l.position;if(u.line<t.lineNumber||u.line==t.lineNumber&&u.column+u.length<t.column)o=i;else{if(!(u.line>t.lineNumber||u.line==t.lineNumber&&u.column>t.column))return l.tt==r.stringConstant;a=i}}}},{key:"getCompletionItemsAfterNew",value:function(e){var t=[];t=t.concat(this.main.getCurrentWorkspace().moduleStore.getTypeCompletionItems(e,void 0));for(var n=0;n<t.length;n++){var i=t[n];i.detail.match("Primitiv")?(t.splice(n,1),n--):(i.generic?i.insertText+="<>($0)":i.insertText+="($0)",i.insertTextRules=monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,i.command={id:"editor.action.triggerParameterHints",title:"123",arguments:[]})}return Promise.resolve({suggestions:t})}},{key:"getCompletionItemsAfterClass",value:function(e,t,n){var i=[],r=n.trimLeft().startsWith("{");return i=i.concat([{label:"extends",insertText:"extends $1"+(t||r?"":" {\n\t$0\n}"),detail:"extends-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}},{label:"implements",insertText:"implements $1"+(t||r?"":" {\n\t$0\n}"),detail:"implements-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}},{label:"{}",insertText:"{\n\t$0\n}",detail:"Klassenrumpf",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}]),Promise.resolve({suggestions:i})}},{key:"getCompletionItemsInsideIdentifier",value:function(e,t,n,i,r,o,a){var s,l=e[1],u={startLineNumber:t.lineNumber,startColumn:t.column-l.length,endLineNumber:t.lineNumber,endColumn:t.column+i.length},c=[];if(null!=(null==a?void 0:a.classContext)&&null==(null==a?void 0:a.method)&&a.classContext instanceof G&&(c=c.concat(this.getOverridableMethodsCompletion(a.classContext))),null!=a&&(c=c.concat(a.getLocalVariableCompletionItems(u).map((function(e){return e.sortText="aaa"+e.label,e})))),c=c.concat(this.main.getCurrentWorkspace().moduleStore.getTypeCompletionItems(n,u)),null!=r&&null!=(null==a?void 0:a.method))(c=c.concat(r.getCompletionItems(j.private,o,i,u,a.method).map((function(e){return e.sortText="aa"+e.label,e})))).push({label:"super",filterText:"super",insertText:"super.",detail:"Aufruf einer Methode einer Basisklasse",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}});else{var d=null===(s=n.file)||void 0===s?void 0:s.name;if(null!=d){d.endsWith(".java")&&(d=d.substr(0,d.indexOf(".java")));var h=d.match(/([\w√∂√§√º√ñ√Ñ√ú√ü]*)$/);0==n.classDefinitionsAST.length&&null!=h&&h.length>0&&h[0]==d&&d.length>0&&(d=d.charAt(0).toUpperCase()+d.substring(1),c.push({label:"class "+d,filterText:"class",insertText:"class ${1:"+d+"} {\n\t$0\n}\n",detail:"Definition der Klasse "+d,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}))}}return c=c.concat(this.getKeywordCompletion(a)),Promise.resolve({suggestions:c})}},{key:"getCompletionItemsAfterDot",value:function(e,t,n,i,r,o){var a=e[2],s=t.column-a.length-1,l=n.getTypeAtPosition(t.lineNumber,s),u={startLineNumber:t.lineNumber,startColumn:t.column-a.length,endLineNumber:t.lineNumber,endColumn:t.column+i.length};if(null==l)return null;var c=l.type,d=l.isStatic;if(c instanceof G){var h=K(c,r);return d?Promise.resolve({suggestions:c.staticClass.getCompletionItems(h,o,i,u)}):Promise.resolve({suggestions:c.getCompletionItems(h,o,i,u,null)})}return c instanceof V?Promise.resolve({suggestions:c.getCompletionItems(o,i,u)}):c instanceof Y?Promise.resolve({suggestions:[{label:"length",filterText:"length",kind:monaco.languages.CompletionItemKind.Field,insertText:"length",range:u,documentation:{value:"Anzahl der Elemente des Arrays"}}]}):null}},{key:"getKeywordCompletion",value:function(e){var t=[];return this.isConsole||null!=(null==e?void 0:e.classContext)&&null==(null==e?void 0:e.method)||(t=t.concat([{label:"while(Bedingung){Anweisungen}",detail:"while-Wiederholung",filterText:"while",insertText:"while($1){\n\t$0\n}",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"for(){}",insertText:"for( $1 ; $2 ; $3 ){\n\t$0\n}",detail:"for-Wiederholung",filterText:"for",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"for(int i = 0; i < 10; i++){}",insertText:"for(int ${1:i} = 0; ${1:i} < ${2:10}; ${1:i}++){\n\t$0\n}",detail:"Z√§hl-Wiederholung",filterText:"for",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"switch(){case...}",insertText:"switch($1){\n\tcase $2:\n\t\t $3\n\t\tbreak;\n\tcase $4:\n\t\t $5\n\t\tbreak;\n\tdefault:\n\t\t $0\n}",detail:"switch-Anweisung",filterText:"switch",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"if(){}",insertText:"if($1){\n\t$0\n}",detail:"Bedingung",filterText:"if",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"if(){} else {}",insertText:"if($1){\n\t$2\n}\nelse {\n\t$0\n}",detail:"Zweiseitige Bedingung",filterText:"if",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),null!=(null==e?void 0:e.classContext)&&null==(null==e?void 0:e.method)||(t=t.concat([{label:"instanceof",insertText:"instanceof $0",detail:"instanceof-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"print",insertText:"print($1);$0",detail:"Ausgabe (ggf. mit Farbe \nals zweitem Parameter)",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"println",insertText:"println($1);$0",detail:"Ausgabe mit Zeilenumbruch (ggf. mit \nFarbe als zweitem Parameter)",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),this.isConsole||null!=e&&null!=e.classContext?this.isConsole||null!=(null==e?void 0:e.method)||(t=t.concat([{label:"public",filterText:"public",insertText:"public ",detail:"Schl√ºsselwort public",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"public void method(){}",filterText:"public",insertText:"public ${1:void} ${2:Bezeichner}(${3:Parameter}) {\n\t$0\n}\n",detail:"Methodendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"protected",filterText:"protected",insertText:"protected ",detail:"Schl√ºsselwort protected",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"static",filterText:"static",insertText:"static ",detail:"Schl√ºsselwort static",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"private",filterText:"private",insertText:"private ",detail:"Schl√ºsselwort private",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])):t=t.concat([{label:"class",filterText:"class",insertText:"class ${1:Bezeichner} {\n\t$0\n}\n",detail:"Klassendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"public class",filterText:"public class",insertText:"public class ${1:Bezeichner} {\n\t$0\n}\n",detail:"√ñffentliche Klassendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}]),null!=e&&null!=e.method&&(t=t.concat([{label:"return",filterText:"return",insertText:"return",detail:"Schl√ºsselwort return",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),t}},{key:"getOverridableMethodsCompletion",value:function(e){for(var t=[],n=[],i=e.baseClass;null!=i;)n=n.concat(i.methods.filter((function(e){return!!(e.isAbstract||null==e.program&&null==e.invoke)}))),i=i.baseClass;var r=!0,o=!1,a=void 0;try{for(var s,l=e.implements[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;n=n.concat(u.getMethods())}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var c=!0,d=!1,h=void 0;try{for(var p,f=n[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,v=!1,m=!0,g=!1,b=void 0;try{for(var w,k=e.methods[Symbol.iterator]();!(m=(w=k.next()).done);m=!0)if(w.value.signature==y.signature){v=!0;break}}catch(e){g=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(g)throw b}}if(!v){var S=(y.isAbstract?"implement ":"override ")+y.getCompletionLabel(),P=y.identifier,x=j[y.visibility]+" "+(null==y.getReturnType()?"void":y.getReturnType().identifier)+" ";x+=y.identifier+"(";for(var T=0;T<y.getParameterList().parameters.length;T++){var M=y.getParameterList().parameters[T];x+=y.getParameterType(T).identifier+" "+M.identifier,T<y.getParameterCount()-1&&(x+=", ")}x+=") {\n\t$0\n}",t.push({label:S,detail:(y.isAbstract?"Implementiere ":"√úberschreibe ")+"die Methode "+S+" der Basisklasse.",filterText:P,insertText:x,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0})}}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return t}}])&&ro(t.prototype,n),i&&ro(t,i),e}();function ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof G){if(e.isTypeVariable)return so(e);var i="";if(null!=e.documentation&&""!=e.documentation&&(e.documentation.startsWith("/*")?i+=(t+e.documentation).replace(/\n/g,"\n"+t)+"\n":i+=pr(e.documentation,t)+"\n"),null!=e.visibility&&(i+=j[e.visibility]+" "),e.isAbstract&&(i+="abstract "),i+="class "+e.identifier+" ",e.typeVariables.length>0&&(i+=uo(e)),null!=e.baseClass&&"Object"!=e.baseClass.identifier&&(i+="extends "+e.baseClass.identifier+" ",e.baseClass.typeVariables.length>0&&(i+=uo(e.baseClass))),null!=e.implements&&e.implements.length>0){i+="implements ";for(var r=0;r<e.implements.length;r++)i+=e.implements[r].identifier,e.implements[r].typeVariables.length>0&&(i+=uo(e.implements[r])),r<e.implements.length-1&&(i+=", ")}if(n)return i;i+=t+"{\n  ";var o=!0,a=!1,s=void 0;try{for(var l,u=e.getAttributes(j.protected)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i+=t+"\n"+ao(c,"  ")+";\n"}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}if(null!=e.staticClass){var d=!0,h=!1,p=void 0;try{for(var f,y=e.staticClass.getAttributes(j.protected)[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;i+=t+"\n"+ao(v,"  ")+";\n"}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}var m=!0,g=!1,b=void 0;try{for(var w,P=e.getMethods(j.protected)[Symbol.iterator]();!(m=(w=P.next()).done);m=!0){var x=w.value;i+=t+"\n"+ao(x,"  ")+";\n"}}catch(e){g=!0,b=e}finally{try{m||null==P.return||P.return()}finally{if(g)throw b}}if(null!=e.staticClass){var T=!0,M=!1,C=void 0;try{for(var O,E=e.staticClass.getMethods(j.protected)[Symbol.iterator]();!(T=(O=E.next()).done);T=!0){var A=O.value;i+=t+"\n"+ao(A,"  ")+";\n"}}catch(e){M=!0,C=e}finally{try{T||null==E.return||E.return()}finally{if(M)throw C}}}return i+="\n}"}if(e instanceof V){var D="";if(null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?D+=(t+e.documentation).replace(/\n/g,"\n"+t)+"\n":D+=pr(e.documentation,t)+"\n"),D+=t+"interface "+e.identifier,e.typeVariables.length>0&&(D+=uo(e)),null!=e.extends&&e.extends.length>0){D+="extends ";for(var F=0;F<e.extends.length;F++)D+=e.extends[F].identifier,e.extends[F].typeVariables.length>0&&(D+=uo(e.extends[F])),F<e.extends.length-1&&(D+=", ")}if(!n){D+="{\n";var I=!0,_=!1,z=void 0;try{for(var L,B=e.methods[Symbol.iterator]();!(I=(L=B.next()).done);I=!0){var R=L.value;D+=t+"\n"+ao(R,"  ")+";\n"}}catch(e){_=!0,z=e}finally{try{I||null==B.return||B.return()}finally{if(_)throw z}}D+="\n}"}return D}if(e instanceof k){var W="";return null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?W+=t+e.documentation.replace(/\n/g,"\n"+t)+"\n":W+=pr(e.documentation,t)+"\n"),W+=t,null!=e.visibility&&(W+=j[e.visibility]+" "),e.isStatic&&(W+="static "),W+=lo(e.type)+" "+e.identifier}if(e instanceof S){var N="";null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?N+=t+e.documentation.replace(/\n/g,"\n"+t)+"\n":N+=pr(e.documentation,t)+"\n"),N+=t,null!=e.visibility&&(N+=j[e.visibility]+" "),e.isStatic&&(N+="static "),null!=e.getReturnType()?N+=lo(e.getReturnType())+" ":N+=e.isConstructor?"":"void ",N+=e.identifier+"(";for(var $=e.getParameterList().parameters,H=0;H<$.length;H++){var K=$[H],Q=e.getParameterType(H);K.isEllipsis&&(Q=Q.arrayOfType),N+=lo(Q)+(K.isEllipsis?"...":"")+" "+K.identifier,H<$.length-1&&(N+=", ")}return N+=")"}return""}function so(e){var t=e.identifier;if(e.isGenericVariantFrom!=dt&&(t+=" extends "+lo(e.isGenericVariantFrom)),e.implements.length>0){var n=e.implements.filter((function(t){return e.isGenericVariantFrom.implements.indexOf(t)<0})).map((function(e){return lo(e)})).join(", ");""!=n&&(t+=" implements "+n)}return t}function lo(e){var t,n;if((e instanceof G||e instanceof V)&&e.typeVariables.length>0){var i=(e.isTypeVariable?e.identifier+" extends "+(null===(t=e.isGenericVariantFrom)||void 0===t?void 0:t.identifier):e.identifier)+"<";return(i+=e.typeVariables.map((function(e){return lo(e.type)})).join(", "))+">"}return e.isTypeVariable?e.identifier+" extends "+(null===(n=e.isGenericVariantFrom)||void 0===n?void 0:n.identifier):e.identifier}function uo(e){var t="";if(e.typeVariables.length>0){t="<";var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=function(){var e=a.value,t=e.type.identifier,i=e.type;if(null!=i.isGenericVariantFrom&&"Object"!=i.isGenericVariantFrom.identifier&&(t+=" extends "+i.isGenericVariantFrom.identifier),null!=i.implements){var r=i.implements;null!=i.isGenericVariantFrom&&(r=r.filter((function(e){return i.isGenericVariantFrom.implements.indexOf(e)<0})));var o=!0,s=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){t+=" & "+u.value.identifier}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}n.push(t)},l=e.typeVariables[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)s()}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}t+=n.join(", "),t+="> "}return t}function co(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ho=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.signatureHelpTriggerCharacters=["(",",",";","<",">","="],this.signatureHelpRetriggerCharacters=[]}var t,n,i;return t=e,(n=[{key:"provideSignatureHelp",value:function(e,t,n,i){var r,o,a,s=this,l=e==(null===(a=null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.editor)||void 0===a?void 0:a.getModel());if(l||e==this.main.getMonacoEditor().getModel()){var u=this;return new Promise((function(r,o){setTimeout((function(){var o,a;l?null===(a=null===(o=s.main.getBottomDiv())||void 0===o?void 0:o.console)||void 0===a||a.compileIfDirty():s.main.compileIfDirty(),r(u.provideSignatureHelpLater(e,t,n,i))}),300)}))}}},{key:"provideSignatureHelpLater",value:function(e,t,n,i){var r,o,a=e!=this.main.getMonacoEditor().getModel()?null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.compiler.module:this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==a)return null;var s=a.methodCallPositions[t.lineNumber];if(null==s)return null;for(var l=null,u=-1,c=s.length-1;c>=0;c--){var d=s[c];d.identifierPosition.column+d.identifierPosition.length<t.column&&d.identifierPosition.column>u&&(null==d.rightBracketPosition||t.lineNumber<=d.rightBracketPosition.line&&t.column<=d.rightBracketPosition.column||t.lineNumber<d.rightBracketPosition.line)&&(l=d,u=d.identifierPosition.column)}return null==l?null:this.getSignatureHelp(l,t)}},{key:"getSignatureHelp",value:function(e,t){var n=0,i=!0,r=!1,o=void 0;try{for(var a,s=e.commaPositions[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;(l.line<t.lineNumber||l.line==t.lineNumber&&l.column<t.column)&&n++}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var u=[];if("string"==typeof e.possibleMethods)u=u.concat(this.makeIntrinsicSignatureInformation(e.possibleMethods,n));else{var c=!0,d=!1,h=void 0;try{for(var p,f=e.possibleMethods[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value;y.getParameterCount()>n&&(u=u.concat(this.makeSignatureInformation(y)))}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}}return Promise.resolve({value:{activeParameter:n,activeSignature:0,signatures:u},dispose:function(){}})}},{key:"makeIntrinsicSignatureInformation",value:function(e,t){switch(e){case"while":return[{label:"while(Bedingung){ Anweisungen }",documentation:"Wiederholung mit Anfangsbedingung (while-loop)",parameters:[{label:"Bedingung",documentation:"Die Bedingung wird vor jeder Wiederholung ausgewertet. Ist sie erf√ºllt ist (d.h. hat sie den Wert true), so werden die Anweisungen in {} erneut ausgef√ºhrt, ansonsten wird mit der n√§chsten Anweisung nach { } fortgefahren."}]}];case"if":return[{label:"if(Bedingung){ Anweisungen1 } else { Anweisungen2 }",documentation:"Bedingung (else... ist optional)",parameters:[{label:"Bedingung",documentation:"Ist die Bedingung erf√ºllt (d.h. hat sie den Wert true), so werden die Anweisungen1 ausgef√ºhrt. Trifft die Bedingung nicht zu (d.h. hat sie den Wert false), so werden die Anweisungen2 ausgef√ºhrt."}]}];case"switch":return[{label:"switch(Selektor){case Wert_1: Anweisungen1; break; case Wert_2 Anweisungen2; break; default: Defaultanweisungen; break;}",documentation:"Bedingung (else... ist optional)",parameters:[{label:"Selektor",documentation:"Der Wert des Selektor-Terms wird ausgewertet. Hat er den Wert Wert_1, so werden die Anweisungen1 ausgef√ºhrt. Hat er den Wert Wert_2, so werden die Anweisungen2 ausgef√ºhrt usw. Hat er keinen der bei case... aufgef√ºhrten Werte, so werden die Defaultanweisungen ausgef√ºhrt."}]}];case"for":return[{label:"for(Startanweisung; Bedingung; Anweisung am Ende jeder Wiederholung){ Anweisungen }",documentation:"Wiederholung mit for (for-loop)",parameters:[{label:"Startanweisung",documentation:"Diese Anweisung wird vor der ersten Wiederholung einmal ausgef√ºhrt."},{label:"Bedingung",documentation:"Die Bedingung wird vor jeder Wiederholung ausgewertet. Ist sie erf√ºllt ist (d.h. hat sie den Wert true), so werden die Anweisungen in {} erneut ausgef√ºhrt, ansonsten wird mit der n√§chsten Anweisung nach { } fortgefahren."},{label:"Anweisung am Ende jeder Wiederholung",documentation:"Diese Anweisung wird stets am Ende jeder Wiederholung ausgef√ºhrt."}]}];case"print":return[{label:"print(text: String, color: String)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe (englischer Name oder #ffffff oder rgb(255,255,255)) oder statisches Attribut der Klasse Color, z.B. Color.red"}]},{label:"print(text: String, color: int)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe als int-Wert kodiert, z.B. 0xff00ff"}]},{label:"print(text: String)",documentation:"Gibt Text in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"}]}];case"println":return[{label:"println(text: String, color: String)",documentation:"Gibt Text farbig in der Ausgabe aus. Der n√§chste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe (englischer Name oder #ffffff oder rgb(255,255,255) oder statisches Attribut der Klasse Color, z.B. Color.red)"}]},{label:"println(text: String, color: int)",documentation:"Gibt Text farbig in der Ausgabe aus. Der n√§chste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: int",documentation:"Farbe als int-kodierter Wert, z.B. 0xffffff"}]},{label:"println(text: String)",documentation:"Gibt Text farbig in der Ausgabe aus. Der n√§chste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"}]}]}}},{key:"makeSignatureInformation",value:function(e){var t="";null==e.getReturnType()||e.isConstructor||(t+=lo(e.getReturnType())+" "),t+=e.identifier+"(";for(var n=[],i=e.getParameterList().parameters,r=0;r<i.length;r++){var o=i[r],a=t.length,s=o.type;o.isEllipsis&&(s=s.arrayOfType);var l=(t+=lo(s)+(o.isEllipsis?"...":"")+" "+o.identifier).length;r<i.length-1&&(t+=", ");var u={label:[a,l],documentation:""};n.push(u)}return[{label:t+=")",parameters:n,documentation:null==e.documentation?"":e.documentation}]}}])&&co(t.prototype,n),i&&co(t,i),e}();function po(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var fo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var t,n,i;return t=e,(n=[{key:"provideHover",value:function(t,n,i){var r,o,a=this.editor.editor.getSelection();if(null==a||a.startLineNumber==a.endLineNumber&&a.startColumn==a.endColumn||!(a.startLineNumber<n.lineNumber||a.startLineNumber==n.lineNumber&&a.startColumn<=n.column)||!(a.endLineNumber>n.lineNumber||a.endLineNumber==n.lineNumber&&a.endColumn>=n.column)){var s=null===(r=this.editor.main.getCurrentWorkspace())||void 0===r?void 0:r.getModuleByMonacoModel(t);if(null==s)return null;var l=!0,u=!1,c=void 0;try{for(var d,h=s.errors[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=!0,y=!1,v=void 0;try{for(var m,g=p[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var b=m.value;if(b.position.line==n.lineNumber&&b.position.column<=n.column&&b.position.column+b.position.length>=n.column)return null}}catch(e){y=!0,v=e}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var P=s.getElementAtPosition(n.lineNumber,n.column),x="";if(null!=P&&"var"!=P.identifier)if(P instanceof G||P instanceof S||P instanceof V||P instanceof k)x=ao(P);else{if(P instanceof w)return{range:null,contents:[{value:x="```\n"+P.identifier+"\n```  \nprimitiver Datentyp: "+P.description}]};var T=null===(o=null==P?void 0:P.type)||void 0===o?void 0:o.identifier;((null==P?void 0:P.type)instanceof G||(null==P?void 0:P.type)instanceof V)&&(T+=" "+uo(P.type)),null==T?T="":T+=" ",x=T+(null==P?void 0:P.identifier)}else{var M=this.getWordUnderCursor(t,n),C=e.keywordDescriptions[M];if(null!=C)return{range:null,contents:[{value:C}]}}var j=null;if(this.editor.main.getInterpreter().state==Ka.paused){var O=this.editor.main.getCurrentWorkspace().evaluator,E=this.widenDeclaration(t,n,null==P?void 0:P.identifier);if(null==E)return null;var A=O.evaluate(E);null==A.error&&null!=A.value&&(j=A.value.type.debugOutput(A.value),x=E)}var D=[];return null==j&&0==x.length?null:(null!=j?j.length+x.length>40?(D.push({value:"```\n"+x+" ==\n```"}),D.push({value:"```\n"+j.replace(/&nbsp;/g," ")+"\n```"})):D.push({value:"```\n"+x+" == "+j.replace(/&nbsp;/g," ")+"\n```"}):D.push({value:"```\n"+x+"\n```"}),{range:null,contents:D})}}},{key:"getWordUnderCursor",value:function(e,t){for(var n=e.getValueLengthInRange({startColumn:0,startLineNumber:0,endLineNumber:t.lineNumber,endColumn:t.column}),i=e.getValue(),r="",o=n;o<i.length&&this.isInsideIdentifierOrArrayDescriptor(i.charAt(o));)o++;for(var a=n;a>0&&this.isInsideIdentifierOrArrayDescriptor(i.charAt(a-1));)a--;if(o-a>1)r=i.substring(a,o);else{for(o=n;o<i.length&&this.isInsideOperator(i.charAt(o));)o++;for(a=n;a>0&&this.isInsideOperator(i.charAt(a-1));)a--;o-a>0&&(r=i.substring(a,o))}return r}},{key:"widenDeclaration",value:function(e,t,n){for(var i=e.getValueLengthInRange({startColumn:0,startLineNumber:0,endLineNumber:t.lineNumber,endColumn:t.column}),r=e.getValue(),o=i;o<r.length&&this.isInsideIdentifierOrArrayDescriptor(r.charAt(o));)o++;for(var a=i;a>0&&this.isInsideIdentifierChain(r.charAt(a-1));)a--;return null==(null==n?void 0:n.length)||n.length,o-a>length?r.substring(a,o):n}},{key:"isInsideIdentifierChain",value:function(e){return e.toLocaleLowerCase().match(/[a-z0-9√§√∂√º√ü_\[\]\.]/i)}},{key:"isInsideOperator",value:function(e){return e.toLocaleLowerCase().match(/[!%<>=\+\-\*\/]/i)}},{key:"isInsideIdentifierOrArrayDescriptor",value:function(e){return e.toLocaleLowerCase().match(/[a-z0-9√§√∂√º√ü\[\]]/i)}}])&&po(t.prototype,n),i&&po(t,i),e}();function yo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}fo.keywordDescriptions={print:"Die Anweisung ```print``` gibt eine Zeichenkette aus.",new:'Das Schl√ºsselwort ```new``` bewirkt die Instanzierung ("Erschaffung") eines neuen Objektes einer Klasse.',println:"Die Anweisung ```println``` gibt eine Zeichenkette gefolgt von einem Zeilenumbruch aus.",while:"```\nwhile (Bedingung) {Anweisungen}\n```  \nbewirkt die Wiederholung der Anweisungen solange ```Bedingung == true``` ist.",for:"```\nfor(Startanweisung;Solange-Bedingung;Nach_jeder_Wiederholung){Anweisungen}\n```  \nf√ºhrt zun√§chst die Startanweisung aus und wiederholt dann die Anweisungen solange ```Bedingung == true``` ist. Am Ende jeder wiederholung wird Nach_jeder_Wiederholung ausgef√ºhrt.",if:"```\nif(Bedingung){Anweisungen_1} else {Anweisungen_2}\n```  \nwertet die Bedingung aus und f√ºhrt Anweisungen_1 nur dann aus, wenn die Bedingung ```true``` ergibt, Anweisungen_2 nur dann, wenn die Bedingung ```false``` ergibt.  \nDer ```else```-Teil kann auch weggelassen werden.",else:"```\nif(Bedingung){Anweisungen_1} else {Anweisungen_2}\n```  \nwertet die Bedingung aus und f√ºhrt Anweisungen_1 nur dann aus, wenn die Bedingung ```true``` ergibt, Anweisungen_2 nur dann, wenn die Bedingung ```false``` ergibt.",switch:"```\nswitch(Selektor){ case Wert_1: Anweisungen_1; break; case Wert_2: Anweisungen_2; break; default: Default-Anweisungen } \n```  \nwertet den Selektor-Term aus und f√ºhrt abh√§ngig vom Termwert Anweisungen_1, Anweisungen_2, ... aus. Entspricht der Termwert keinem der Werte Wert_1, Wert_2, ..., so werden die Default-Anweisungen ausgef√ºhrt.","%":"```\na % b\n```  \n (sprich: 'a modulo b') berechnet den **Rest** der ganzzahligen Division a/b.","|":"```\na | b\n```  \n (sprich: 'a or b') berechnet die **bitweise oder-Verkn√ºpfung** der Werte a und b.","&":"```\na & b\n```  \n (sprich: 'a und b') berechnet die **bitweise und-Verkn√ºpfung** der Werte a und b.","^":"```\na ^ b\n```  \n (sprich: 'a xor b') berechnet die **bitweise exklusiv-oder-Verkn√ºpfung** der Werte a und b.",">>":"```\na >> b\n```  \n (sprich: 'a right shift b') berechnet den Wert, der entsteht, wenn man den Wert von a **bitweise um b Stellen nach rechts verschiebt**. Dieser Wert ist identisch mit dem nach unten abgerundeten Wert von a/(2 hoch b).","<<":"```\na >> b\n```  \n (sprich: 'a left shift b') berechnet den Wert, der entsteht, wenn man den Wert von a **bitweise um b Stellen nach links verschiebt**. Dieser Wert ist identisch mit dem nach unten abgerundeten Wert von a*(2 hoch b).","~":"```\n~a\n```  \n (sprich: 'nicht a') berechnet den Wert, der entsteht, wenn man **alle Bits von a umkehrt**.","==":"```\na == b\n```  \nergibt genau dann ```true```, wenn ```a``` und ```b``` gleich sind.  \nSind a und b **Objekte**, so ergibt ```a == b``` nur dann ```true```, wenn ```a``` und ```b``` auf das **identische** Objekt zeigen.  \n```==``` nennt man **Vergleichsoperator**.","<=":"```\na <= b\n```  \nergibt genau dann ```true```, wenn der Wert von ```a``` kleiner oder gleich dem Wert von ```b``` ist.",">=":"```\na <= b\n```  \nergibt genau dann ```true```, wenn der Wert von ```a``` gr√∂√üer oder gleich dem Wert von ```b``` ist.","!=":"```\na != b\n```  \nergibt genau dann ```true```, wenn ```a``` und ```b``` **un**gleich sind.  \nSind ```a``` und ```b``` **Objekte**, so ergibt ```a != b``` dann ```true```, wenn ```a``` und ```b``` **nicht** auf das **identische** Objekt zeigen.  \n```!=``` nennt man **Ungleich-Operator**.","+=":"```\na += b\n(Kurzschreibweise f√ºr a = a + b)\n```  \nbewirkt, dass der Wert von ```a``` um den Wert von ```b``` **erh√∂ht** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","-=":"```\na -= b\n(Kurzschreibweise f√ºr a = a - b)\n```  \nbewirkt, dass der Wert von ```a``` um den Wert von ```b``` **erniedrigt** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","*=":"```\na *= b\n(Kurzschreibweise f√ºr a = a * b)\n```  \nbewirkt, dass der Wert von ```a``` mit dem Wert von ```b``` **multipliziert** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","/=":"```\na /= b\n(Kurzschreibweise f√ºr a = a / b)\n```  \nbewirkt, dass der Wert von ```a``` durch den Wert von ```b``` **dividiert** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","++":"```\na++\n(Kurzschreibweise f√ºr a = a + 1)\n```  \nbewirkt, dass der Wert von ```a``` um eins erh√∂ht wird.","--":"```\na--\n(Kurzschreibweise f√ºr a = a - 1)\n```  \nbewirkt, dass der Wert von ```a``` um eins eniedrigt wird.","=":"```\na = Term\n```  \nberechnet den Wert des Terms und weist ihn der Variablen ```a``` zu.  \n**Vorsicht:**  \nVerwechsle ```=```(**Zuweisungsoperator**) nicht mit ```==```(**Vergleichsoperator**)!","!":"```\n!a\n```  \nergibt genau dann ```true```, wenn ```a``` ```false``` ergibt.  \n```!``` spricht man '**nicht**'.",public:"```\npublic\n```  \nAttribute und Methoden, die als ```public``` deklariert werden, sind √ºberall (auch au√üerhalb der Klasse) sichtbar.",private:"```\nprivate\n```  \nAttribute und Methoden, die als ```private``` deklariert werden, sind nur innerhalb von Methoden derselben Klasse sichtbar.",protected:"```\nprotected\n```  \nAttribute und Methoden, die als ```protected``` deklariert werden, sind nur innerhalb von Methoden derselben Klasse oder innerhalb von Methoden von Kindklassen sichtbar.",return:"```\nreturn Term\n```  \nbewirkt, dass die Methode verlassen wird und der Wert des Terms an die aufrufende Stelle zur√ºckgegeben wird.",break:"```\nbreak;\n```  \ninnerhalb einer Schleife bewirkt, dass die Schleife sofort verlassen und mit den Anweisungen nach der Schleife fortgefahren wird.  \n```break``` innerhalb einer ```switch```-Anweisung bewirkt, dass der Block der ```switch```-Anweisung verlassen wird.",class:"```\nclass\n```  \nMit dem Schl√ºsselwort ```class``` werden Klassen definiert.",extends:"```\nextends\n```  \n```class A extends B { ... }``` bedeutet, dass die Klasse A Unterklasse der Klasse B ist.",implements:"```\nimplements\n```  \n```class A implements B { ... }``` bedeutet, dass die Klasse A das Interface B implementiert, d.h., dass sie alle Methoden besitzen muss, die in B definiert sind.",this:"```\nthis\n```  \nInnerhalb einer Methodendefinition bezeichnet das Schl√ºsselwort ```this``` immer dasjenige Objekt, f√ºr das die Methode gerade ausgef√ºhrt wird.",var:"```\nvar\n```  \nWird einer Variable beim Deklarieren sofort ein Startwert zugewiesen (z.B. Circle c = new Circle(100, 100, 10)), so kann statt des Datentyps das Schl√ºsselwort ```var``` verwendet werden (also var c = new Circle(100, 100, 10))."};var vo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideCodeActions",value:function(e,t,n,i){return{actions:n.markers.map((function(t){var n=t.relatedInformation;return null==n?null:{title:n.title,diagnostics:[t],kind:"quickfix",edit:{edits:n.editsProvider(e.uri)},isPreferred:!0}})),dispose:function(){}}}}])&&yo(t.prototype,n),i&&yo(t,i),e}();function mo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var go=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideReferences",value:function(e,t,n,i){var r=this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==r)return null;var o=r.getElementAtPosition(t.lineNumber,t.column);if(null!=o){var a=o.usagePositions,s=[];return a.forEach((function(e,t){if(null!=e){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;s.push({uri:t.uri,range:{startColumn:l.column,startLineNumber:l.line,endLineNumber:l.line,endColumn:l.column+l.length}})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}})),s}}}])&&mo(t.prototype,n),i&&mo(t,i),e}();function bo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var wo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideDocumentColors",value:function(e,t){var n,i,r,o,a,s,l=e==(null===(r=null===(i=null===(n=this.main.getBottomDiv())||void 0===n?void 0:n.console)||void 0===i?void 0:i.editor)||void 0===r?void 0:r.getModel()),u=e==this.main.getMonacoEditor().getModel();if(l||u){var c=l?null===(a=null===(o=this.main.getBottomDiv())||void 0===o?void 0:o.console)||void 0===a?void 0:a.compiler.module:null===(s=this.main.getCurrentWorkspace())||void 0===s?void 0:s.getModuleByMonacoModel(e);if(null==c)return null;if(null==this.main.getCompiler()){var d=this,h=3;return new Promise((function(e,t){setTimeout((function t(){null!=d.main.getCompiler()?(d.main.compileIfDirty(),e(c.colorInformation)):0==--h?e([]):setTimeout(t,500)}),500)}))}return this.main.compileIfDirty(),c.colorInformation}}},{key:"provideColorPresentations",value:function(e,t,n){var i,r=t.color,o=e.getValueInRange(t.range),a=Math.round(255*r.red),s=Math.round(255*r.green),l=Math.round(255*r.blue),u=this.toHex2Digits(a)+this.toHex2Digits(s)+this.toHex2Digits(l),c=a+", "+s+", "+l;return o.startsWith("#")?i="#"+u:o.startsWith("0x")?i="0x"+u:o.startsWith("rgb")?i=r.alpha<.999?"rgba("+c+", "+r.alpha+")":"rgb("+c+")":(o.startsWith("new")||o.startsWith("Color"))&&(i="new Color("+c+")"),[{label:i}]}},{key:"toHex2Digits",value:function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}}])&&bo(t.prototype,n),i&&bo(t,i),e}();function ko(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var So=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.showMinimap=n,this.isEmbedded=i,this.highlightCurrentMethod=!0,this.cw=null,this.dontPushNextCursorMove=0,this.lastPushTime=0,this.lastTime=0,this.elementDecoration=[]}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e){var t=this;!function(){monaco.languages.register({id:"myJava",extensions:[".learnJava"]});var e={indentationRules:{decreaseIndentPattern:/^(.*\*\/)?\s*\}.*$/,increaseIndentPattern:/^.*\{[^}"']*$/},onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:monaco.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}},{beforeText:/^(\t|(\ \ ))*\ \*[^/]*\*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}}],wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}};monaco.languages.setLanguageConfiguration("myJava",e),monaco.languages.setMonarchTokensProvider("myJava",{defaultToken:"",tokenPostfix:".java",keywords:["abstract","continue","new","switch","assert","default","goto","package","synchronized","private","this","implements","protected","throw","import","public","throws","case","instanceof","return","transient","catch","extends","try","final","static","finally","strictfp","volatile","const","native","super","true","false","null"],print:["print","println"],statements:["for","while","if","then","else","do","break","continue"],types:["int","boolean","char","float","double","long","void","byte","short","class","enum","interface","var"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[/[a-z_$√§√∂√º][\w$√§√∂√º√ü√Ñ√ñ√ú]*(?=\()/,{cases:{"@keywords":{token:"keyword.$0"},"@statements":{token:"statement.$0"},"@types":{token:"type.$0"},"@print":{token:"print.$0"},"@default":"method"}}],[/[a-z_$√§√∂√º√ü][\w$√§√∂√º√ü√Ñ√ñ√ú]*/,{cases:{"@keywords":{token:"keyword.$0"},"@statements":{token:"statement.$0"},"@types":{token:"type.$0"},"@default":"identifier"}}],[/[A-Z$√Ñ√ñ√ú][\w$√§√∂√º√ü√Ñ√ñ√ú]*/,"class"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,"annotation"],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float"],[/0[xX](@hexdigits)[Ll]?/,"number.hex"],[/0(@octaldigits)[Ll]?/,"number.octal"],[/0[bB](@binarydigits)[Ll]?/,"number.binary"],[/(@digits)[fFdD]/,"number.float"],[/(@digits)[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@javadoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],javadoc:[[/[^\/*]+/,"comment.doc"],[/\/\*/,"comment.doc.invalid"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}})}(),monaco.editor.defineTheme("myCustomThemeDark",{base:"vs-dark",inherit:!0,rules:[{token:"method",foreground:"dcdcaa",fontStyle:"italic"},{token:"print",foreground:"dcdcaa",fontStyle:"italic bold"},{token:"class",foreground:"3DC9B0"},{token:"number",foreground:"b5cea8"},{token:"type",foreground:"499cd6"},{token:"identifier",foreground:"9cdcfe"},{token:"statement",foreground:"bb96c0",fontStyle:"bold"},{token:"keyword",foreground:"68bed4",fontStyle:"bold"},{token:"property",foreground:"ffffff",fontStyle:"bold"}],colors:{"editor.background":"#1e1e1e",jo_highlightMethod:"#2b2b7d"}}),monaco.editor.defineTheme("myCustomThemeLight",{base:"vs",inherit:!0,rules:[{token:"method",foreground:"694E16",fontStyle:"italic bold"},{token:"print",foreground:"811f3f",fontStyle:"italic bold"},{token:"class",foreground:"a03030"},{token:"number",foreground:"404040"},{token:"type",foreground:"0000ff",fontStyle:"bold"},{token:"identifier",foreground:"001080"},{token:"statement",foreground:"8000e0",fontStyle:"bold"},{token:"keyword",foreground:"00a000",fontStyle:"bold"},{token:"comment",foreground:"808080",fontStyle:"italic"}],colors:{"editor.background":"#FFFFFF","editor.foreground":"#000000","editor.inactiveSelectionBackground":"#E5EBF1","editorIndentGuide.background":"#D3D3D3","editorIndentGuide.activeBackground":"#939393","editor.selectionHighlightBackground":"#ADD6FF80","editorSuggestWidget.background":"#F3F3F3","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#6F6F6F","list.hoverBackground":"#E8E8E8","input.placeholderForeground":"#767676","searchEditor.textInputBorder":"#CECECE","settings.textInputBorder":"#CECECE","settings.numberInputBorder":"#CECECE","statusBarItem.remoteForeground":"#FFF","statusBarItem.remoteBackground":"#16825D",jo_highlightMethod:"#babaec"}}),this.editor=monaco.editor.create(e[0],{language:"myJava","semanticHighlighting.enabled":!0,lightbulb:{enabled:!0},lineDecorationsWidth:0,peekWidgetDefaultFocus:"tree",fixedOverflowWidgets:!0,quickSuggestions:!0,quickSuggestionsDelay:10,fontSize:14,fontFamily:"Consolas, Roboto Mono",fontWeight:"500",roundedSelection:!0,selectOnLineNumbers:!1,automaticLayout:!0,scrollBeyondLastLine:!1,occurrencesHighlight:!1,autoIndent:"full",dragAndDrop:!0,formatOnType:!0,formatOnPaste:!0,suggestFontSize:16,suggestLineHeight:22,suggest:{localityBonus:!0,insertMode:"replace"},parameterHints:{enabled:!0,cycle:!0},mouseWheelZoom:this.isEmbedded,minimap:{enabled:this.showMinimap},scrollbar:{vertical:"auto",horizontal:"auto"},theme:"myCustomThemeDark"}),this.editor.onKeyDown((function(e){var n=t.main.getInterpreter().state;if([Ka.done,Ka.error,Ka.not_initialized].indexOf(n)<0){if(e.code.indexOf("Arrow")>=0||e.code.indexOf("Page")>=0)return;t.main.getActionManager().trigger("interpreter.stop")}}));var n=this,i=function(e){!0===e.ctrlKey&&(n.changeEditorFontSize(Math.sign(e.deltaY),!0),e.preventDefault())};if(!this.isEmbedded){var r=this.main;r.windowStateManager.registerBackButtonListener((function(e){var t=e.state;if(null!=e.state){var i=r.workspaceList.find((function(e){return e.id==t.workspace_id}));if(null!=i){var o=i.moduleStore.findModuleById(t.module_id);null!=o&&(i!=r.currentWorkspace&&(n.dontPushNextCursorMove++,r.projectExplorer.setWorkspaceActive(i),n.dontPushNextCursorMove--),o!=r.getCurrentlyEditedModule()&&(n.dontPushNextCursorMove++,r.projectExplorer.setModuleActive(o),n.dontPushNextCursorMove--),n.dontPushNextCursorMove++,n.editor.setPosition(t.position),n.editor.revealPosition(t.position),n.dontPushNextCursorMove--,n.pushHistoryState(!0,t))}}}))}return this.editor.onDidChangeConfiguration((function(e){e.hasChanged(monaco.editor.EditorOption.fontInfo)&&t.isEmbedded&&t.main.getBottomDiv().errorManager.registerLightbulbOnClickFunctions()})),this.editor.onDidChangeCursorPosition((function(e){var i,r,o,a=null===(r=null===(i=t.main.getCurrentlyEditedModule())||void 0===i?void 0:i.file)||void 0===r?void 0:r.id;null!=a&&((null==t.lastPosition||"api"==e.source||a!=t.lastPosition.module_id||Math.abs(t.lastPosition.position.lineNumber-e.position.lineNumber)>20)&&0==t.dontPushNextCursorMove?t.pushHistoryState(!1,t.getPositionForHistory()):a==(null===(o=history.state)||void 0===o?void 0:o.module_id)&&t.pushHistoryState(!0,t.getPositionForHistory()),n.onDidChangeCursorPosition(e.position),n.onEvaluateSelectedText(e))})),this.editor.onDidChangeModel((function(n){var r=e.find(".monaco-editor")[0];if(r.removeEventListener("wheel",i),r.addEventListener("wheel",i,{passive:!1}),null!=t.main.getCurrentWorkspace()){var o=t.main.getCurrentWorkspace().getModuleByMonacoModel(t.editor.getModel());t.main instanceof Wa&&null!=o&&(t.main.projectExplorer.setActiveAfterExternalModelSet(o),(null==t.lastPosition||o.file.id!=t.lastPosition.module_id)&&0==t.dontPushNextCursorMove&&t.pushHistoryState(!1,t.getPositionForHistory()))}})),monaco.languages.registerRenameProvider("myJava",this),monaco.languages.registerColorProvider("myJava",new wo(this.main)),monaco.languages.registerDefinitionProvider("myJava",{provideDefinition:function(e,t,i){return n.provideDefinition(e,t,i)}}),monaco.languages.registerHoverProvider("myJava",new fo(this)),monaco.languages.registerCompletionItemProvider("myJava",new oo(this.main)),monaco.languages.registerCodeActionProvider("myJava",new vo(this.main)),monaco.languages.registerReferenceProvider("myJava",new go(this.main)),monaco.languages.registerSignatureHelpProvider("myJava",new ho(this.main)),this.editor.onMouseDown((function(e){var t=e.target.detail;e.target.type!==monaco.editor.MouseTargetType.GUTTER_GLYPH_MARGIN&&e.target.type!==monaco.editor.MouseTargetType.GUTTER_LINE_NUMBERS||t.isAfterLines||n.onMarginMouseDown(e.target.position.lineNumber)})),setTimeout((function(){monaco.editor.remeasureFonts()}),2e3),this.addActions(),this.editor.onDidType((function(e){n.onDidType(e)})),this.editor}},{key:"getPositionForHistory",value:function(){if(null!=this.main.getCurrentlyEditedModule())return{position:this.editor.getPosition(),workspace_id:this.main.getCurrentWorkspace().id,module_id:this.main.getCurrentlyEditedModule().file.id}}},{key:"pushHistoryState",value:function(e,t){if(!this.main.isEmbedded()&&null!=t){if(e)history.replaceState(t,"");else{var n=(new Date).getTime();n-this.lastPushTime>200?history.pushState(t,""):history.replaceState(t,""),this.lastPushTime=n}this.lastPosition=t}}},{key:"onDidType",value:function(e){var t=this,n=function(e,n,i,r){var o=new monaco.Range(e.lineNumber,e.column,e.lineNumber,e.column);t.editor.executeEdits("new-bullets",[{range:o,text:n}]),t.editor.setPosition({lineNumber:i,column:r})};if("\n"===e){var i=this.editor.getModel(),r=this.editor.getPosition(),o=i.getLineContent(r.lineNumber-1);if(0===o.trim().indexOf("/*")&&!o.trimRight().endsWith("*/")&&!(r.lineNumber<i.getLineCount()?i.getLineContent(r.lineNumber+1):"").trim().startsWith("*")){var a=o.substr(0,o.length-o.trimLeft().length);0===o.trim().indexOf("/**")?n(r,"\n"+a+" */",r.lineNumber,r.column+3+a.length):n(r," * \n"+a+" */",r.lineNumber,r.column+3+a.length)}}}},{key:"setFontSize",value:function(e){var t=(new Date).getTime();if(!(t-this.lastTime<150)){this.lastTime=t;var n=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize);if(this.main instanceof Wa&&this.main.viewModeController.saveFontSize(e),e!=n){this.editor.updateOptions({fontSize:e});var i=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize)/e;this.editor.updateOptions({fontSize:e/i});var r=this.main.getBottomDiv();null!=r&&null!=r.console&&r.console.editor.updateOptions({fontSize:e/i})}var o=this.main.getBottomDiv();null!=o&&null!=o.console&&(o.$bottomDiv.find(".jo_commandline").css({height:1.1*e+4+"px","line-height":1.1*e+4+"px"}),o.console.editor.layout()),jQuery(".jo_editorFontSize").css("font-size",e+"px"),jQuery(".jo_editorFontSize").css("line-height",e+2+"px"),document.documentElement.style.setProperty("--breakpoint-size",e+"px"),document.documentElement.style.setProperty("--breakpoint-radius",e/2+"px"),this.main.getBottomDiv().errorManager.registerLightbulbOnClickFunctions()}}},{key:"changeEditorFontSize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize);t&&(e*=n<10?1:n<20?2:4);var i=n+e;i>=6&&i<=80&&this.setFontSize(i)}},{key:"addActions",value:function(){this.editor.addAction({id:"Find bracket",label:"Finde korrespondierende Klammer",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_K],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return e.getAction("editor.action.jumpToBracket").run(),null}}),this.editor.addAction({id:"Toggle line comment",label:"Zeilenkommentar ein-/ausschalten",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.US_COMMA],precondition:null,keybindingContext:null,contextMenuGroupId:"insert",contextMenuOrder:1.5,run:function(e){return console.log("Hier!"),e.getAction("editor.action.commentLine").run(),null}})}},{key:"onEvaluateSelectedText",value:function(e){var t=this;if(null!=t.cw&&(t.editor.removeContentWidget(t.cw),t.cw=null),t.main.getInterpreter().state==Ka.paused){var n=t.editor.getModel().getValueInRange(t.editor.getSelection());if(null!=n&&n.length>0){var i=this.main.getCurrentWorkspace().evaluator.evaluate(n);if(null==i.error&&null!=i.value){var r=i.value.type.debugOutput(i.value);monaco.editor.colorize(n+": ","myJava",{tabSize:3}).then((function(n){n.endsWith("<br/>")&&(n=n.substr(0,n.length-5)),t.cw={getId:function(){return"my.content.widget"},getDomNode:function(){return jQuery('<div class="jo_editorTooltip jo_codeFont">'+n+r+"</div>")[0]},getPosition:function(){return{position:e.position,preference:[monaco.editor.ContentWidgetPositionPreference.ABOVE,monaco.editor.ContentWidgetPositionPreference.BELOW]}}},t.editor.addContentWidget(t.cw)}))}}}}},{key:"onMarginMouseDown",value:function(e){var t=this.getCurrentlyEditedModule();if(null!=t&&(t.toggleBreakpoint(e,!0),null!=this.main.getInterpreter().moduleStore)){var n=this.main.getInterpreter().moduleStore.findModuleByFile(t.file);null!=n&&n.toggleBreakpoint(e,!1)}}},{key:"onDidChangeCursorPosition",value:function(e){null==e&&(e=this.editor.getPosition());var t=this.getCurrentlyEditedModule();if(null!=t){var n=t.getElementAtPosition(e.lineNumber,e.column),i=[];if(null!=n){var r=n.usagePositions.get(t);if(null!=r){var o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;i.push({range:{startColumn:c.column,startLineNumber:c.line,endColumn:c.column+c.length,endLineNumber:c.line},options:{className:"jo_revealSyntaxElement",isWholeLine:!1,overviewRuler:{color:{id:"editorIndentGuide.background"},darkColor:{id:"editorIndentGuide.activeBackground"},position:monaco.editor.OverviewRulerLane.Left}}})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}}if(this.highlightCurrentMethod){var d=t.getMethodDeclarationAtPosition(e);null!=d&&i.push({range:{startColumn:0,startLineNumber:d.position.line,endColumn:100,endLineNumber:d.scopeTo.line},options:{className:"jo_highlightMethod",isWholeLine:!0,overviewRuler:{color:{id:"jo_highlightMethod"},darkColor:{id:"jo_highlightMethod"},position:monaco.editor.OverviewRulerLane.Left},minimap:{color:{id:"jo_highlightMethod"},position:monaco.editor.MinimapPosition.Inline},zIndex:-100}})}this.elementDecoration=this.editor.deltaDecorations(this.elementDecoration,i)}else this.elementDecoration=this.editor.deltaDecorations(this.elementDecoration,[])}},{key:"getCurrentlyEditedModule",value:function(){return this.main.getCurrentlyEditedModule()}},{key:"dontDetectLastChange",value:function(){}},{key:"resolveRenameLocation",value:function(e,t,n){var i=this.getCurrentlyEditedModule();if(null==i)return{range:null,text:"Dieses Symbol kann nicht umbenannt werden.",rejectReason:"Dieses Symbol kann nicht umbenannt werden."};var r=i.getElementAtPosition(t.lineNumber,t.column);if(null==r||null==r.declaration)return{range:null,text:"Dieses Symbol kann nicht umbenannt werden.",rejectReason:"Dieses Symbol kann nicht umbenannt werden."};var o=r.declaration.position;return{range:{startColumn:t.column,startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,endColumn:t.column+o.length},text:r.identifier}}},{key:"provideRenameEdits",value:function(e,t,n,i){var r=this.getCurrentlyEditedModule();if(null==r)return null;var o=r.getElementAtPosition(t.lineNumber,t.column);if(null!=o){var a=o.usagePositions,s=[];return a.forEach((function(e,t){if(null!=e){var i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;s.push({resource:t.uri,edit:{range:{startColumn:u.column,startLineNumber:u.line,endLineNumber:u.line,endColumn:u.column+u.length},text:n}})}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}[].length>0&&(t.file.dirty=!0,t.file.saved=!1,t.file.identical_to_repository_version=!1)}})),{edits:s}}}},{key:"provideDefinition",value:function(e,t,n){var i=this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==i)return null;var r=i.getElementAtPosition(t.lineNumber,t.column);if(null==r)return null;var o=r.declaration;return null==o?r instanceof G||r instanceof Ht||r instanceof V||r instanceof S||r instanceof k?Promise.resolve({range:{startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:t.column,endColumn:t.column+r.identifier.length},uri:i.uri}):null:Promise.resolve({range:{startLineNumber:o.position.line,endLineNumber:o.position.line,startColumn:o.position.column,endColumn:o.position.column+o.position.length},uri:o.module.uri})}}])&&ko(t.prototype,n),i&&ko(t,i),e}();function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function To(e,t,n){return t&&xo(e.prototype,t),n&&xo(e,n),e}var Mo=function(){function e(t){Po(this,e),this.main=t}return To(e,[{key:"init",value:function(){var e=jQuery("#buttonUserSettings"),t=this;e.on("click",(function(n){yr([{caption:"Passwort √§ndern...",callback:function(){new Co(t.main).show()}}],e.offset().left,e.offset().top+e.height())}))}}]),e}(),Co=function(){function e(t){Po(this,e),this.main=t,this.dialog=new jr}return To(e,[{key:"show",value:function(){var e=this;this.dialog.init(),this.dialog.heading("Passwort √§ndern"),this.dialog.description("Bitte geben Sie Ihr bisheriges Passwort und darunter zweimal Ihr neues Passwort ein. <br>Das Passwort muss mindestens 8 Zeichen lang sein und sowohl Buchstaben als auch Zahlen oder Sonderzeichen enthalten.");var t=this.dialog.input("password","Altes Passwort"),n=this.dialog.input("password","Neues Passwort"),i=this.dialog.input("password","Neues Passwort wiederholen"),r=this.dialog.description("","red"),o=this.dialog.waitMessage("Bitte warten...");this.dialog.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){e.dialog.close()}},{caption:"OK",color:"green",callback:function(){n.val()!=i.val()?r.text("Die zwei eingegebenen neuen Passw√∂rter stimmen nicht √ºberein."):(o(!0),rr("changePassword",{oldPassword:t.val(),newPassword:n.val()},(function(){o(!1),alert("Das Passwort wurde erfolgreich ge√§ndert."),e.dialog.close()}),(function(e){o(!1),r.text(e)})))}}])}}]),e}();function jo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Oo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.currentSubmenu={},this.openSubmenusOnMousemove=!1}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e,t){var n=this,i=this,r=this.main.getMonacoEditor(),o={items:[{identifier:"Datei",subMenu:{items:[{identifier:"Workspace importieren",action:function(){new Ar(n.main).show()}},{identifier:"Speichern und Beenden",action:function(){jQuery("#buttonLogout").trigger("click")}}]}},{identifier:"Bearbeiten",subMenu:{items:[{identifier:"R√ºckg√§ngig (Strg + z)",action:function(){r.trigger(".","undo",{})}},{identifier:"Wiederholen (Strg + y)",action:function(){r.trigger(".","redo",{})}},{identifier:"-"},{identifier:"Kopieren (Strg + c)",action:function(){r.getAction("editor.action.clipboardCopyAction").run()}},{identifier:"Ausschneiden (Strg + x)",action:function(){r.getAction("editor.action.clipboardCutAction").run()}},{identifier:"Nach oben kopieren (Alt + Shift + Pfeil rauf)",action:function(){r.getAction("editor.action.copyLinesUpAction").run()}},{identifier:"Nach unten kopieren (Alt + Shift + Pfeil runter)",action:function(){r.getAction("editor.action.copyLinesDownAction").run()}},{identifier:"Nach oben verschieben (Alt + Pfeil rauf)",action:function(){r.getAction("editor.action.moveLinesUpAction").run()}},{identifier:"Nach unten verschieben (Alt + Pfeil runter)",action:function(){r.getAction("editor.action.moveLinesDownAction").run()}},{identifier:"-"},{identifier:"Suchen... (Strg + f)",action:function(){r.getAction("actions.find").run()}},{identifier:"Ersetzen... (Strg + h)",action:function(){r.getAction("editor.action.startFindReplaceAction").run()}},{identifier:"-"},{identifier:"Aus-/Einkommentieren (Strg + #)",action:function(){r.getAction("editor.action.commentLine").run()}},{identifier:"Dokument formatieren (Alt + Shift + f)",action:function(){r.getAction("editor.action.formatDocument").run()}},{identifier:"-"},{identifier:"Finde zugeh√∂rige Klammer (Strg + k)",action:function(){r.getAction("editor.action.jumpToBracket").run()}},{identifier:"-"},{identifier:"Alles zusammenfalten",action:function(){r.getAction("editor.foldAll").run()}},{identifier:"Alles auffalten",action:function(){r.getAction("editor.unfoldAll").run()}},{identifier:"-"},{identifier:"Vorschlag ausl√∂sen (Strg + Leertaste)",action:function(){r.focus(),setTimeout((function(){r.getAction("editor.action.triggerSuggest").run()}),200)}},{identifier:"Parameterhilfe (Strg + Shift + Leertaste)",action:function(){r.getAction("editor.action.triggerParameterHints").run()}},{identifier:"Gehe zur Definition (Strg + Click)",action:function(){r.focus(),setTimeout((function(){r.getAction("editor.action.revealDefinition").run()}),200)}}]}},{identifier:"Ansicht",subMenu:{items:[{identifier:"Theme",subMenu:{items:[{identifier:"Dark",action:function(){i.switchTheme("dark")}},{identifier:"Light",action:function(){i.switchTheme("light")}}]}},{identifier:"-"},{identifier:"Hoher Kontrast im Editor ein/aus",action:function(){r.getAction("editor.action.toggleHighContrast").run()}},{identifier:"-"},{identifier:"Zoom out (Strg + Mausrad)",action:function(){n.main.editor.changeEditorFontSize(-4)}},{identifier:"Zoom normal",action:function(){n.main.editor.setFontSize(14)}},{identifier:"Zoom in (Strg + Mausrad)",action:function(){n.main.editor.changeEditorFontSize(4)}}]}},{identifier:"Repository",subMenu:{items:[{identifier:"Eigene Repositories verwalten ...",action:function(){n.main.repositoryUpdateManager.show(null)}},{identifier:"Workspace mit Repository verbinden (checkout) ...",action:function(){n.main.repositoryCheckoutManager.show(null)}}]}},{identifier:"Hilfe",subMenu:{items:[{identifier:"Kurze Video-Tutorials zur Bedienung dieser IDE",link:"https://www.learnj.de/doku.php?id=api:ide_manual:start"},{identifier:"Interaktives Java-Tutorial mit vielen Beispielen",link:"https://www.learnj.de/doku.php"},{identifier:"-"},{identifier:"API-Dokumentation",link:"https://www.learnj.de/doku.php?id=api:documentation:start"},{identifier:"API-Verzeichnis",link:t+"api_documentation.html"},{identifier:"-"},{identifier:"Sprite-Bilder√ºbersicht",link:t+"spriteLibrary.html"},{identifier:"-"},{identifier:"Tastaturkommandos (Shortcuts)",link:t+"shortcuts.html"},{identifier:"-"},{identifier:"Java-Online Changelog",link:"https://www.learnj.de/doku.php?id=javaonline:changelog"},{identifier:"Java-Online Roadmap",link:"https://www.learnj.de/doku.php?id=javaonline:roadmap"},{identifier:"-"},{identifier:"Befehlspalette (F1)",action:function(){setTimeout((function(){i.main.getMonacoEditor().focus(),r.getAction("editor.action.quickCommand").run()}),500)}},{identifier:"-"},{identifier:"Passwort √§ndern...",action:function(){new Co(i.main).show()}},{identifier:"-"},{identifier:"√úber die Online-IDE...",link:"https://www.learnj.de/doku.php?id=javaonline:ueber"}]}}]};null!=e&&(e.is_admin||e.is_schooladmin||e.is_teacher)&&o.items[0].subMenu.items.push({identifier:"Schulen/Klassen/Benutzer ...",link:t+"administration_mc.html"}),null!=e&&e.is_admin&&o.items[0].subMenu.items.push({identifier:"Serverauslastung ...",link:t+"statistics.html"},{identifier:"Shutdown server...",action:function(){confirm("Server wirklich herunterfahren?")&&rr("shutdown",{},(function(){alert("Server erfolgreich heruntergefahren.")}),(function(e){alert(e)}))}}),jQuery("#mainmenu").empty(),this.initMenu(o,0)}},{key:"switchTheme",value:function(e){this.main.viewModeController.setTheme(e)}},{key:"initMenu",value:function(e,t){e.level=t,0==t?e.$element=jQuery("#mainmenu"):(e.$element=jQuery('<div class="jo_submenu"></div>'),jQuery("body").append(e.$element)),e.$element.data("model",e);var n=!0,i=!1,r=void 0;try{for(var o,a=e.items[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if("-"==s.identifier)s.$element=jQuery('<div class="jo_menuitemdivider"></div>');else{if(s.$element=jQuery("<div>"+s.identifier+"</div>"),null!=s.link){var l=jQuery('<a href="'+s.link+'" target="_blank" class="jo_menulink"></a>');l.on("mousedown",(function(t){t.stopPropagation(),setTimeout((function(){e.$element.hide()}),500)})),l.append(s.$element),s.$element=l}null!=s.subMenu&&this.initMenu(s.subMenu,t+1),this.initMenuitemCallbacks(e,s),0==t&&s.$element.addClass("jo_mainmenuitem")}e.$element.append(s.$element),s.$element.data("model",s)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}var u=this;jQuery(document).on("mousedown",(function(){for(var e=0;e<5;e++)null!=u.currentSubmenu[e]&&(u.currentSubmenu[e].hide(),u.currentSubmenu[e]=null);u.openSubmenusOnMousemove=!1}))}},{key:"initMenuitemCallbacks",value:function(e,t){var n=this;null!=t.action&&t.$element.on("mousedown",(function(e){t.action(t.identifier)})),null!=t.subMenu?(t.$element.on("mousedown",(function(e){n.opensubmenu(t),n.openSubmenusOnMousemove=!0,e.stopPropagation()})),t.$element.on("mousemove.mainmenu",(function(){n.openSubmenusOnMousemove?n.opensubmenu(t):null!=n.currentSubmenu[e.level+1]&&(n.currentSubmenu[e.level+1].hide(),n.currentSubmenu[e.level+1]=null)}))):t.$element.on("mousemove.mainmenu",(function(){null!=n.currentSubmenu[e.level+1]&&(n.currentSubmenu[e.level+1].hide(),n.currentSubmenu[e.level+1]=null)}))}},{key:"opensubmenu",value:function(e){var t,n,i=e.subMenu;1==i.level?(t=e.$element.position().left,n=30):(t=e.$element.offset().left+e.$element.width(),n=e.$element.offset().top),i.$element.css({top:n+"px",left:t+"px"}),null!=this.currentSubmenu[i.level]&&this.currentSubmenu[i.level].hide(),i.$element.show(),this.currentSubmenu[i.level]=i.$element}}])&&jo(t.prototype,n),i&&jo(t,i),e}();function Eo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ao=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=0,this.gripWidth=10,this.overallWidth=100,this.$outer=jQuery('<div class="jo_speedcontrol-outer" title="Geschwindigkeitsregler" draggable="false"></div>'),this.$bar=jQuery('<div class="jo_speedcontrol-bar" draggable="false"></div>'),this.$grip=jQuery('<div class="jo_speedcontrol-grip" draggable="false"></div>'),this.$display=jQuery('<div class="jo_speedcontrol-display" draggable="false">100 Schritte/s</div>'),this.$grip.append(this.$display),this.$outer.append(this.$bar,this.$grip),t.append(this.$outer)}var t,n,i;return t=e,(n=[{key:"setInterpreter",value:function(e){this.interpreter=e}},{key:"initGUI",value:function(){var e,t,n=this;n.overallWidth=mr(this.$outer.css("width")),n.gripWidth=mr(n.$grip.css("width")),n.xMax=n.overallWidth-n.gripWidth;var i=window.PointerEvent?"pointer":"mouse";n.$outer.on(i+"down",(function(e){var t=e.pageX-n.$outer.offset().left-4;n.setSpeed(t),n.$grip.css("left",t+"px"),n.$grip.trigger(i+"down",[e.clientX])})),this.$grip.on(i+"down",(function(r,o){null==o&&(o=r.clientX),e=o,t=n.position,jQuery(".joe_controlPanel_top").css("z-index","1000"),n.$display.show(),jQuery(document).on(i+"move.speedcontrol",(function(i){var r=i.clientX-e;n.setSpeed(t+r)})),jQuery(document).on(i+"up.speedcontrol",(function(){jQuery(document).off(i+"up.speedcontrol"),jQuery(document).off(i+"move.speedcontrol"),n.$display.hide(),jQuery(".joe_controlPanel_top").css("z-index","0")})),r.stopPropagation()}))}},{key:"setSpeedInStepsPerSecond",value:function(e){var t=[1,10,100,1e3,1e4,1e5,this.interpreter.maxStepsPerSecond];"max"==e&&(e=this.interpreter.maxStepsPerSecond),e=Math.min(e,this.interpreter.maxStepsPerSecond),e=Math.max(e,1);for(var n=0;n<t.length-1;n++){var i=t[n],r=t[n+1];if(e>=i&&e<=r){var o=this.xMax/(t.length-1),a=Math.round(o*n+o*(e-i)/(r-i));this.$grip.css("left",a+"px"),this.position=a;break}}this.setInterpreterSpeed(e)}},{key:"setSpeed",value:function(e){e<0&&(e=0),e>this.xMax&&(e=this.xMax),this.position=e,this.$grip.css("left",e+"px");var t=[1,10,100,1e3,1e4,1e5,this.interpreter.maxStepsPerSecond],n=this.xMax/(t.length-1),i=Math.floor(e/n);i==t.length-1&&i--;var r=t[i],o=r+(e-i*n)/n*(t[i+1]-r);this.setInterpreterSpeed(o)}},{key:"setInterpreterSpeed",value:function(e){this.interpreter.stepsPerSecond=e,this.interpreter.hideProgrampointerPosition();var t=""+Math.ceil(e);e>=this.interpreter.maxStepsPerSecond-10&&(t="Maximale Geschwindigkeit"),this.$display.html(t+" Schritte/s")}}])&&Eo(t.prototype,n),i&&Eo(t,i),e}();function Do(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Fo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$buttonsContainer=t,this.$editorContainer=n,this.buttonActiveMatrix={start:[!1,!1,!0,!0,!0,!1],pause:[!1,!0,!1,!1,!1,!1],stop:[!1,!0,!0,!1,!1,!0],stepOver:[!1,!1,!0,!0,!0,!1],stepInto:[!1,!1,!0,!0,!0,!1],stepOut:[!1,!1,!0,!1,!1,!1],restart:[!1,!0,!0,!0,!0,!0]},this.speedControl=new Ao(t),this.speedControl.initGUI(),this.$buttonStart=jQuery('<div title="Start" class="img_start-dark jo_button"></div>'),this.$buttonPause=jQuery('<div title="Pause" class="img_pause-dark jo_button"></div>'),this.$buttonStop=jQuery('<div title="Stop" class="img_stop-dark jo_button"></div>'),this.$buttonStepOver=jQuery('<div title="Step over" class="img_step-over-dark jo_button"></div>'),this.$buttonStepInto=jQuery('<div title="Step into" class="img_step-into-dark jo_button"></div>'),this.$buttonStepOut=jQuery('<div title="Step out" class="img_step-out-dark jo_button"></div>'),this.$buttonRestart=jQuery('<div title="Restart" class="img_restart-dark jo_button"></div>'),t.append(this.$buttonStart,this.$buttonPause,this.$buttonStop,this.$buttonStepOver,this.$buttonStepInto,this.$buttonStepOut,this.$buttonRestart)}var t,n,i;return t=e,(n=[{key:"setInterpreter",value:function(e){this.interpreter=e,this.speedControl.setInterpreter(e),this.speedControl.setSpeed(20)}}])&&Do(t.prototype,n),i&&Do(t,i),e}();function Io(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classes=t,this.workspace=n,this.main=i,this.studentCount=0,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.$dialog=jQuery("#dialog"),jQuery("#main").css("visibility","hidden"),this.$dialog.append(jQuery('<div class="jo_ds_heading">Austeilen eines Workspace an einzelne Sch√ºler/innen</div>\n             <div class="jo_ds_settings">\n                <div class="jo_ds_settings_caption">Workspace:</div><div class="jo_ds_workspacename">'.concat(this.workspace.name,'</div>\n                <div class="jo_ds_settings_caption">Liste filtern:</div><div class="jo_ds_filterdiv"><input class="dialog-input"></input></div>\n             </div>\n             <div class="jo_ds_student_list jo_scrollable">\n             </div>\n             <div class="jo_ds_selected_message"></div>\n             <div class="dialog-buttonRow jo_ds_buttonRow">\n                <button id="jo_ds_cancel_button">Abbrechen</button>\n                <button id="jo_ds_distribute_button">Austeilen</button>\n             </div>\n            ')));var e=jQuery(".jo_ds_student_list"),t=this,n=!0,i=!1,r=void 0;try{for(var o,a=this.classes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=function(){var n=d.value,i=jQuery('<div class="jo_ds_student_line">'),r=jQuery('<div class="jo_ds_student_class">'.concat(s.name,"</div>")),o=jQuery('<div class="jo_ds_student_name">'.concat(n.rufname," ").concat(n.familienname,"</div>"));i.append(r,o),e.append(i),i.on("mousedown",(function(){i.toggleClass("jo_active"),t.studentCount+=i.hasClass("jo_active")?1:-1,jQuery(".jo_ds_selected_message").text("".concat(t.studentCount," Sch√ºler/inn/en selektiert"))})),i.data("student",n),i.data("klass",s)},p=s.students[Symbol.iterator]();!(l=(d=p.next()).done);l=!0)h()}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}jQuery(".jo_ds_filterdiv>input").on("input",(function(){var e=jQuery(".jo_ds_filterdiv>input").val();null==e||""==e?$(".jo_ds_student_line").show():$(".jo_ds_student_line").each((function(t,n){var i=jQuery(n),r=i.data("klass"),o=i.data("student");(r.name+" "+o.rufname+" "+o.familienname).indexOf(e)>=0?i.show():i.hide()}))})),this.$dialogMain=this.$dialog.find(".dialog-main"),this.$dialog.css("visibility","visible"),jQuery("#jo_ds_cancel_button").on("click",(function(){window.history.back()})),jQuery("#jo_ds_distribute_button").on("click",(function(){t.distributeWorkspace()})),this.main.windowStateManager.registerOneTimeBackButtonListener((function(){t.close()}))}},{key:"distributeWorkspace",value:function(){var e=this,t=[];$(".jo_ds_student_line").each((function(e,n){var i=jQuery(n);if(i.hasClass("jo_active")){var r=i.data("student");t.push(r.id)}})),window.history.back(),this.main.networkManager.sendDistributeWorkspace(this.workspace,null,t,(function(n){if(null==n){var i=e.main.networkManager,r=i.updateFrequencyInSeconds*i.forcedUpdateEvery;alert("Der Workspace ".concat(e.workspace.name," wurde an ").concat(t.length," Sch√ºler/innen ausgeteilt. Er wird in maximal ").concat(r," s bei jedem Sch√ºler ankommen."))}else alert(n)}))}},{key:"close",value:function(){this.$dialog.css("visibility","hidden"),this.$dialog.empty(),jQuery("#main").css("visibility","visible")}}])&&Io(t.prototype,n),i&&Io(t,i),e}();function zo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Lo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workspace=t,this.main=n,this.libraries=[{identifier:"gng",description:"Graphics'n Games-Bibliothek zu den Informatikb√ºchern des Cornelsen-Verlages f√ºr das Land Bayern (Bemerkung: Die Klassen Turtle und Text hei√üen hier GTurtle und GText)"}]}var t,n,i;return t=e,(n=[{key:"open",value:function(){var e=this,t=new jr;t.init(),t.heading("Einstellungen zum Workspace "+this.workspace.name),t.subHeading("A. Verwendete Bibliotheken:");var n=this.workspace.settings.libraries,i=!0,r=!1,o=void 0;try{for(var a,s=this.libraries[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=t.addCheckbox(l.description,n.indexOf(l.identifier)>=0,l.identifier);l.checkboxState=u}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}t.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){t.close()}},{caption:"OK",color:"green",callback:function(){var i=!1,r=[],o=!0,a=!1,s=void 0;try{for(var l,u=e.libraries[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=c.checkboxState();i=i||d!=n.indexOf(c.identifier)>=0,d&&r.push(c.identifier)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}i&&(e.workspace.settings.libraries=r,e.workspace.saved=!1,e.workspace.alterAdditionalLibraries(),e.main.networkManager.sendUpdates(null,!0)),t.close()}}])}}])&&zo(t.prototype,n),i&&zo(t,i),e}();function Bo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ro=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$projectexplorerDiv=n,this.programPointerModule=null,this.programPointerDecoration=[],this.lastOpenModule=null}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){this.accordion=new zr(this.main,this.$projectexplorerDiv),this.initFilelistPanel(),this.initWorkspacelistPanel()}},{key:"initFilelistPanel",value:function(){var e=this,t=this;this.fileListPanel=new _r(this.accordion,"Kein Workspace gew√§hlt","3","img_add-file-dark","Neue Datei...","java",!0,!1,"file",!0,[]),this.fileListPanel.newElementCallback=function(e,n){if(null==t.main.currentWorkspace)return alert("Bitte w√§hlen Sie zuerst einen Workspace aus."),null;var i={name:e.name,dirty:!1,saved:!0,text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,panelElement:e,identical_to_repository_version:!1},r=new Rf(i,t.main);t.main.currentWorkspace.moduleStore.putModule(r),t.setModuleActive(r),t.main.networkManager.sendCreateFile(r,t.main.currentWorkspace,t.main.workspacesOwnerId,(function(e){null==e?n(r):alert("Der Server ist nicht erreichbar!")}))},this.fileListPanel.renameCallback=function(e,n){n=n.substr(0,80);var i=e.file;return i.name=n,i.saved=!1,t.main.networkManager.sendUpdates(),n},this.fileListPanel.deleteCallback=function(e,n){t.main.networkManager.sendDeleteWorkspaceOrFile("file",e.file.id,(function(i){null==i?(t.main.currentWorkspace.moduleStore.removeModule(e),n()):alert("Der Server ist nicht erreichbar!")}))},this.fileListPanel.contextMenuProvider=function(e){var n=[];return n.push({caption:"Duplizieren",callback:function(e){var n=e.externalElement,i={name:n.file.name+" - Kopie",dirty:!0,saved:!1,text:n.file.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:n.file.version,panelElement:null,identical_to_repository_version:!1},r=new Rf(i,t.main),o=t.main.currentWorkspace;o.moduleStore.putModule(r),t.main.networkManager.sendCreateFile(r,o,t.main.workspacesOwnerId,(function(e){if(null==e){var n={isFolder:!1,name:i.name,path:[],externalElement:r};i.panelElement=n,t.fileListPanel.addElement(n,!0),t.fileListPanel.sortElements(),t.setModuleActive(r),t.fileListPanel.renameElement(n)}else alert("Der Server ist nicht erreichbar!")}))}}),t.main.user.is_teacher||t.main.user.is_admin||t.main.user.is_schooladmin||(null==e.externalElement.file.submitted_date?n.push({caption:"Als Hausaufgabe markieren",callback:function(e){var n,i=e.externalElement.file;i.submitted_date=(n=new Date,"".concat(dr(n.getDate()),".").concat(dr(n.getMonth()+1),".").concat(n.getFullYear(),", ").concat(dr(n.getHours()),":").concat(dr(n.getMinutes()))),i.saved=!1,t.main.networkManager.sendUpdates(null,!0),t.renderHomeworkButton(i)}}):n.push({caption:"Hausaufgabenmarkierung entfernen",callback:function(e){var n=e.externalElement.file;n.submitted_date=null,n.saved=!1,t.main.networkManager.sendUpdates(null,!0),t.renderHomeworkButton(n)}})),n},this.fileListPanel.selectCallback=function(e){t.setModuleActive(e)},this.$synchronizeAction=jQuery('<div class="img_open-change jo_button jo_active" style="margin-right: 4px" title="Workspace mit Repository synchronisieren">'),this.$synchronizeAction.on("pointerdown",(function(t){t.stopPropagation(),t.preventDefault(),e.main.getCurrentWorkspace().synchronizeWithRepository()})),this.fileListPanel.addAction(this.$synchronizeAction),this.$synchronizeAction.hide()}},{key:"renderHomeworkButton",value:function(e){var t,n,i=null===(n=null===(t=null==e?void 0:e.panelElement)||void 0===t?void 0:t.$htmlFirstLine)||void 0===n?void 0:n.find(".jo_additionalButtonHomework");if(null!=i){i.find(".jo_homeworkButton").remove();var r=null,o="";if(null!=e.submitted_date&&(r="img_homework",o="Wurde als Hausaufgabe abgegeben: "+e.submitted_date,e.text_before_revision&&(r="img_homework-corrected",o="Korrektur liegt vor.")),null!=r){var a=jQuery('<div class="jo_homeworkButton '.concat(r,'" title="').concat(o,'"></div>'));i.prepend(a),r.indexOf("jo_active")>=0&&(a.on("mousedown",(function(e){return e.stopPropagation()})),a.on("click",(function(e){e.stopPropagation()})))}}}},{key:"initWorkspacelistPanel",value:function(){var e=this,t=this;this.workspaceListPanel=new _r(this.accordion,"WORKSPACES","3","img_add-workspace-dark","Neuer Workspace...","workspace",!0,!0,"workspace",!1,["file"]),this.workspaceListPanel.newElementCallback=function(e,n){var i=t.main.user.id;null!=t.main.workspacesOwnerId&&(i=t.main.workspacesOwnerId);var r=new Mr(e.name,t.main,i);r.isFolder=!1,r.path=e.path.join("/"),t.main.workspaceList.push(r),t.main.networkManager.sendCreateWorkspace(r,t.main.workspacesOwnerId,(function(i){null==i?(t.fileListPanel.enableNewButton(!0),n(r),t.setWorkspaceActive(r),r.renderSynchronizeButton(e)):alert("Der Server ist nicht erreichbar!")}))},this.workspaceListPanel.renameCallback=function(e,n){return n=n.substr(0,80),e.name=n,e.saved=!1,t.main.networkManager.sendUpdates(),n},this.workspaceListPanel.deleteCallback=function(n,i){t.main.networkManager.sendDeleteWorkspaceOrFile("workspace",n.id,(function(r){null==r?(t.main.removeWorkspace(n),t.fileListPanel.clear(),t.fileListPanel.setCaption("Bitte Workspace selektieren"),e.$synchronizeAction.hide(),t.fileListPanel.enableNewButton(!1),i()):alert("Der Server ist nicht erreichbar!")}))},this.workspaceListPanel.selectCallback=function(e){e.isFolder||t.main.networkManager.sendUpdates((function(){t.setWorkspaceActive(e)}))},this.workspaceListPanel.newFolderCallback=function(e,n){var i=t.main.user.id;null!=t.main.workspacesOwnerId&&(i=t.main.workspacesOwnerId);var r=new Mr(e.name,t.main,i);r.isFolder=!0,r.path=e.path.join("/"),r.panelElement=e,e.externalElement=r,t.main.workspaceList.push(r),t.main.networkManager.sendCreateWorkspace(r,t.main.workspacesOwnerId,(function(i){null==i?n(r):(alert("Fehler: "+i),t.workspaceListPanel.removeElement(e))}))},this.workspaceListPanel.moveCallback=function(t){Array.isArray(t)||(t=[t]);var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.externalElement;l.path=s.path.join("/"),l.saved=!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}e.main.networkManager.sendUpdates()},this.workspaceListPanel.dropElementCallback=function(e,n,i){var r=e.externalElement,o=n.externalElement;if(!(r.moduleStore.getModules(!1).indexOf(o)>=0)){var a={name:o.file.name,dirty:!0,saved:!1,text:o.file.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:o.file.version,panelElement:null,identical_to_repository_version:!1};"move"==i&&(t.main.currentWorkspace.moduleStore.removeModule(o),t.fileListPanel.removeElement(o),t.main.networkManager.sendDeleteWorkspaceOrFile("file",o.file.id,(function(){})));var s=new Rf(a,t.main);r.moduleStore.putModule(s),t.main.networkManager.sendCreateFile(s,r,t.main.workspacesOwnerId,(function(e){null==e||alert("Der Server ist nicht erreichbar!")}))}},this.$homeAction=jQuery('<div class="img_home-dark jo_button jo_active" style="margin-right: 4px" title="Meine eigenen Workspaces anzeigen">'),this.$homeAction.on("pointerdown",(function(e){e.stopPropagation(),e.preventDefault(),t.main.networkManager.sendUpdates((function(){t.onHomeButtonClicked()})),t.main.bottomDiv.hideHomeworkTab()})),this.workspaceListPanel.addAction(this.$homeAction),this.$homeAction.hide(),this.workspaceListPanel.contextMenuProvider=function(n){var i=[];return i.push({caption:"Duplizieren",callback:function(t){e.main.networkManager.sendDuplicateWorkspace(t.externalElement,(function(t,n){if(null==t&&null!=n){var i=Mr.restoreFromData(n,e.main);e.main.workspaceList.push(i);var r=n.path.split("/");1==r.length&&""==r[0]&&(r=[]),i.panelElement={name:i.name,externalElement:i,iconClass:null==i.repository_id?"workspace":"repository",isFolder:!1,path:r},e.workspaceListPanel.addElement(i.panelElement,!0),e.workspaceListPanel.sortElements()}null!=t&&alert(t)}))}},{caption:"Exportieren",callback:function(e){var t=e.externalElement,n=t.name.replace(/\//g,"_");!function(e,t){var n=new Blob([JSON.stringify(e)],{type:"text/plain"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var i=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=t,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),i.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i),r.remove()}}(t.toExportedWorkspace(),n+".json")}}),e.main.user.is_teacher&&e.main.teacherExplorer.classPanel.elements.length>0&&i.push({caption:"An Klasse austeilen...",callback:function(e){},subMenu:e.main.teacherExplorer.classPanel.elements.map((function(t){return{caption:t.name,callback:function(n){var i=t.externalElement,r=n.externalElement;e.main.networkManager.sendDistributeWorkspace(r,i,null,(function(t){if(null==t){var n=e.main.networkManager,o=n.updateFrequencyInSeconds*n.forcedUpdateEvery;alert("Der Workspace "+r.name+" wurde an die Klasse "+i.name+" ausgeteilt. Er wird in maximal "+o+" s bei jedem Sch√ºler ankommen.")}else alert(t)}))}}}))},{caption:"An einzelne Sch√ºler/innen austeilen...",callback:function(t){var n=e.main.teacherExplorer.classPanel.elements.map((function(e){return e.externalElement})),i=t.externalElement;new _o(n,i,e.main)}}),e.main.repositoryOn&&e.main.workspacesOwnerId==e.main.user.id&&(null==n.externalElement.repository_id?i.push({caption:"Repository anlegen...",callback:function(e){var n=e.externalElement;t.main.repositoryCreateManager.show(n)},subMenu:null}):(i.push({caption:"Mit Repository synchronisieren",callback:function(e){e.externalElement.synchronizeWithRepository()}}),i.push({caption:"Vom Repository losl√∂sen",color:"#ff8080",callback:function(n){var i=n.externalElement;i.repository_id=null,i.saved=!1,e.main.networkManager.sendUpdates((function(){t.workspaceListPanel.setElementClass(n,"workspace"),i.renderSynchronizeButton(n)}),!0)}}))),i.push({caption:"Einstellungen...",callback:function(t){var n=t.externalElement;new Lo(n,e.main).open()}}),i}}},{key:"onHomeButtonClicked",value:function(){this.main.teacherExplorer.restoreOwnWorkspaces(),this.main.networkManager.updateFrequencyInSeconds=this.main.networkManager.ownUpdateFrequencyInSeconds,this.$homeAction.hide(),this.fileListPanel.enableNewButton(this.main.workspaceList.length>0)}},{key:"renderFiles",value:function(e){var t=null==e?"Kein Workspace vorhanden":e.name;if(this.fileListPanel.setCaption(t),this.fileListPanel.clear(),null!=this.main.getCurrentWorkspace()){var n=!0,i=!1,r=void 0;try{for(var o,a=this.main.getCurrentWorkspace().moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.file.panelElement=null}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}if(null!=e){var s=[],l=!0,u=!1,c=void 0;try{for(var d,h=e.moduleStore.getModules(!1)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s.push(p)}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}s.sort((function(e,t){return e.file.name>t.file.name?1:e.file.name<t.file.name?-1:0}));for(var f=0,y=s;f<y.length;f++){var v=y[f];v.file.panelElement={name:v.file.name,externalElement:v,isFolder:!1,path:[]},this.fileListPanel.addElement(v.file.panelElement,!0),this.renderHomeworkButton(v.file)}this.fileListPanel.sortElements()}}},{key:"renderWorkspaces",value:function(e){this.fileListPanel.clear(),this.workspaceListPanel.clear();var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=a.path.split("/");1==s.length&&""==s[0]&&(s=[]),a.panelElement={name:a.name,externalElement:a,iconClass:null==a.repository_id?"workspace":"repository",isFolder:a.isFolder,path:s},this.workspaceListPanel.addElement(a.panelElement,!1),a.renderSynchronizeButton(a.panelElement)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.workspaceListPanel.sortElements(),this.fileListPanel.enableNewButton(e.length>0)}},{key:"renderErrorCount",value:function(e,t){if(null!=t){var n=!0,i=!1,r=void 0;try{for(var o,a=e.moduleStore.getModules(!1)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t.get(s),u=null==l||0==l?"":"("+l+")";this.fileListPanel.setTextAfterFilename(s.file.panelElement,u,"jo_errorcount")}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"showRepositoryButtonIfNeeded",value:function(e){null!=e.repository_id&&e.owner_id==this.main.user.id?(this.$synchronizeAction.show(),this.main.user.settings.helperHistory.repositoryButtonDone||Na.showHelper("repositoryButton",this.main,this.$synchronizeAction)):this.$synchronizeAction.hide()}},{key:"setWorkspaceActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.workspaceListPanel.select(e,!1,t),this.main.interpreter.state==Ka.running&&this.main.interpreter.stop(),this.main.currentWorkspace=e,this.renderFiles(e),null!=e){var n=e.moduleStore.getModules(!1);null!=e.currentlyOpenModule?this.setModuleActive(e.currentlyOpenModule):n.length>0?this.setModuleActive(n[0]):this.setModuleActive(null);var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.file.dirty=!0}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}0!=n.length||this.main.user.settings.helperHistory.newFileHelperDone||Na.showHelper("newFileHelper",this.main,this.fileListPanel.$captionElement),this.showRepositoryButtonIfNeeded(e)}else this.setModuleActive(null)}},{key:"writeEditorTextToFile",value:function(){var e=this.getCurrentlyEditedModule();null!=e&&(e.file.text=e.getProgramTextFromMonacoModel())}},{key:"setModuleActive",value:function(e){this.main.bottomDiv.homeworkManager.hideRevision(),null!=this.lastOpenModule&&(this.lastOpenModule.getBreakpointPositionsFromEditor(),this.lastOpenModule.file.text=this.lastOpenModule.getProgramTextFromMonacoModel(),this.lastOpenModule.editorState=this.main.getMonacoEditor().saveViewState()),null==e?(this.main.getMonacoEditor().setModel(monaco.editor.createModel("Keine Datei vorhanden.","text")),this.main.getMonacoEditor().updateOptions({readOnly:!0}),this.fileListPanel.setCaption("Keine Datei vorhanden")):(this.main.getMonacoEditor().updateOptions({readOnly:!1}),this.main.getMonacoEditor().setModel(e.model),null!=this.main.getBottomDiv()&&this.main.getBottomDiv().errorManager.showParenthesisWarning(e.bracketError),null!=e.file.text_before_revision?this.main.bottomDiv.homeworkManager.showHomeWorkRevisionButton():this.main.bottomDiv.homeworkManager.hideHomeworkRevisionButton())}},{key:"setActiveAfterExternalModelSet",value:function(e){var t=this;this.fileListPanel.select(e,!1),this.lastOpenModule=e,null!=e.editorState&&(this.main.editor.dontPushNextCursorMove++,this.main.getMonacoEditor().restoreViewState(e.editorState),this.main.editor.dontPushNextCursorMove--),e.renderBreakpointDecorators(),this.setCurrentlyEditedModule(e),this.showProgramPointer(),setTimeout((function(){t.main.getMonacoEditor().getOptions().get(monaco.editor.EditorOption.readOnly)||t.main.getMonacoEditor().focus()}),300)}},{key:"showProgramPointer",value:function(){if(this.programPointerModule==this.getCurrentlyEditedModule()&&null!=this.getCurrentlyEditedModule()){var e=this.programPointerPosition,t={startColumn:e.column,startLineNumber:e.line,endColumn:e.column+e.length,endLineNumber:e.line};this.main.getMonacoEditor().revealRangeInCenterIfOutsideViewport(t),this.programPointerDecoration=this.main.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[{range:t,options:{className:"jo_revealProgramPointer",isWholeLine:!0,overviewRuler:{color:"#6fd61b",position:monaco.editor.OverviewRulerLane.Center},minimap:{color:"#6fd61b",position:monaco.editor.MinimapPosition.Inline}}},{range:t,options:{beforeContentClassName:"jo_revealProgramPointerBefore"}}])}}},{key:"showProgramPointerPosition",value:function(e,t){if(null!=e){var n=this.main.currentWorkspace.moduleStore.findModuleByFile(e);null!=n&&(this.programPointerModule=n,this.programPointerPosition=t,n!=this.getCurrentlyEditedModule()?this.setModuleActive(n):this.showProgramPointer())}}},{key:"hideProgramPointerPosition",value:function(){this.getCurrentlyEditedModule()==this.programPointerModule&&this.main.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[]),this.programPointerModule=null,this.programPointerDecoration=[]}},{key:"getCurrentlyEditedModule",value:function(){var e=this.main.currentWorkspace;return null==e?null:e.currentlyOpenModule}},{key:"setCurrentlyEditedModule",value:function(e){if(null!=e){var t=this.main.currentWorkspace;t.currentlyOpenModule!=e&&(t.currentlyOpenModule=e,t.saved=!1,e.file.dirty=!0)}}},{key:"setExplorerColor",value:function(e){var t;null==e?(e="transparent",t="Meine WORKSPACES"):t="Sch√ºler-WS",this.fileListPanel.$listElement.parent().css("background-color",e),this.workspaceListPanel.$listElement.parent().css("background-color",e),this.workspaceListPanel.setCaption(t)}},{key:"getNewModule",value:function(e){return new Rf(e,this.main)}}])&&Bo(t.prototype,n),i&&Bo(t,i),e}();function Wo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Go=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=n,this.position=0,this.gripHeight=10,this.overallHeight=150,this.zoomMin=.2,this.zoomMax=2;var r=jQuery('<div class="jo_zoomcontrol-outer" title="Zoom" draggable="false"></div>');t.append(r);var o,a,s=jQuery('<div class="jo_zoomcontrol-bar" draggable="false"></div>');r.append(s),this.$grip=jQuery('<div class="jo_zoomcontrol-grip" draggable="false"></div>'),r.append(this.$grip),this.$zoomcontrolDisplay=jQuery('<div class="jo_zoomcontrol-display"></div>'),this.$grip.append(this.$zoomcontrolDisplay);var l=this;l.overallHeight=mr(r.css("height")),l.gripHeight=mr(l.$grip.css("height")),l.yMax=l.overallHeight-l.gripHeight;var u=window.PointerEvent?"pointer":"mouse";s.on(u+"down",(function(e){var t=e.pageY-r.offset().top-4;l.setZoom(t),l.$grip.css("top",t+"px"),l.$grip.trigger(u+"down",[e.clientY])})),this.$grip.on(u+"down",(function(e,t){null==t&&(t=e.clientY),o=t,a=l.position,i.$zoomcontrolDisplay.show(),jQuery(document).on(u+"move.zoomcontrol",(function(e){var t=e.clientY-o;l.setZoom(a+t)})),jQuery(document).on(u+"up.zoomcontrol",(function(){jQuery(document).off(u+"up.zoomcontrol"),jQuery(document).off(u+"move.zoomcontrol"),i.$zoomcontrolDisplay.hide()})),e.stopPropagation()})),t.on(u+"enter",(function(t){e.preventFading||r.fadeIn()})),t.on(u+"leave",(function(t){e.preventFading||r.fadeOut()}));var c=(1-this.zoomMin)/(this.zoomMax-this.zoomMin);this.position=c*(this.overallHeight-this.gripHeight),this.$grip.css("top",this.position+"px")}var t,n,i;return t=e,(n=[{key:"setZoom",value:function(e){e<0&&(e=0),e>this.yMax&&(e=this.yMax),this.position=e,this.$grip.css("top",e+"px");var t=e/(this.overallHeight-this.gripHeight);t=this.zoomMin+t*(this.zoomMax-this.zoomMin);var n=Math.round(100*t)+" %";this.$zoomcontrolDisplay.html(n),null!=this.callback&&this.callback(t)}}])&&Wo(t.prototype,n),i&&Wo(t,i),e}();function No(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Go.preventFading=!1;var $o,Vo=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.zoomfactor=1,this.inlineStyles={},this.marginCm=1.6,this.minDistance=2,this.minWidthHeightCm=10,this.widthCm=this.minWidthHeightCm,this.heightCm=this.minWidthHeightCm,this.$menuButton=jQuery('<div class="jo_classDiagram_Menubutton jo_button jo_active img_menu-three-bars"></div>'),t.append(this.$menuButton);var r=jQuery("<div></div>");t.append(r),r.addClass("jo_scrollable"),r.css({overflow:"auto",position:"relative",width:"100%",height:"100%"}),this.$canvas=jQuery('<div class="jo_diagram-canvas"></div>'),r.append(this.$canvas),this.zoomControl=new Go(t,(function(e){i.$canvas.css({transform:"scale("+e+")"}),i.zoomfactor=e}));var o,a;this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),jQuery(this.svgElement).addClass("jo_diagram-svg svg_all_pointer_events"),this.$canvas[0].appendChild(this.svgElement),this.$centerRectangle=jQuery(this.createElement("rect",this.svgElement)),this.$centerRectangle.css({fill:"#ffffff",stroke:"none"}),this.adjustCenterRectangle(),jQuery(this.svgElement).on("mousedown",(function(e){o=e.screenX,a=e.screenY,jQuery(document).on("mousemove.diagram",(function(e){var t=e.screenX-o,n=e.screenY-a;o=e.screenX,a=e.screenY,r.scrollLeft(r.scrollLeft()-t),r.scrollTop(r.scrollTop()-n)})),jQuery(document).on("mouseup.diagram",(function(){jQuery(document).off("mousemove.diagram"),jQuery(document).off("mouseup.diagram")}))}))}var t,n,i;return t=e,(n=[{key:"adjustCenterRectangle",value:function(){this.$centerRectangle.attr({x:this.marginCm+"cm",y:this.marginCm+"cm",width:this.widthCm-2*this.marginCm+"cm",height:this.heightCm-2*this.marginCm+"cm"})}},{key:"setSize",value:function(e,t){e<this.minWidthHeightCm&&(e=this.minWidthHeightCm),t<this.minWidthHeightCm&&(t=this.minWidthHeightCm),this.$canvas.css({width:e+"cm",height:t+"cm"}),this.widthCm=e,this.heightCm=t,this.adjustCenterRectangle()}},{key:"adjustSizeAndElements",value:function(e){var t=1e5,n=1e5,i=-1e5,r=-1e5,o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;t>c.leftCm&&(t=c.leftCm),i<c.leftCm+c.widthCm&&(i=c.leftCm+c.widthCm),n>c.topCm&&(n=c.topCm),r<c.topCm+c.heightCm&&(r=c.topCm+c.heightCm)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t-=this.marginCm,i+=this.marginCm,n-=this.marginCm,r+=this.marginCm;var d=!1,h=this.widthCm,p=this.heightCm;if(t<0||i>this.widthCm||i-t<=this.widthCm&&this.widthCm>this.minWidthHeightCm){var f=0;if(h=Math.max(this.minWidthHeightCm,i-t),t<0&&(f=-t),t>0&&i>h&&(f=h-i),d=0!=f){var y=!0,v=!1,m=void 0;try{for(var g,b=e[Symbol.iterator]();!(y=(g=b.next()).done);y=!0)g.value.move(f,0,!0,!0)}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}}}if(n<0||r>this.heightCm||r-n<=this.heightCm&&this.heightCm>this.minWidthHeightCm){var w=0;if(p=Math.max(this.minWidthHeightCm,r-n),n<0&&(w=-n),n>0&&r>p&&(w=p-r),d=0!=w){var k=!0,S=!1,P=void 0;try{for(var x,T=e[Symbol.iterator]();!(k=(x=T.next()).done);k=!0)x.value.move(0,w,!0,!0)}catch(e){S=!0,P=e}finally{try{k||null==T.return||T.return()}finally{if(S)throw P}}}}return this.setSize(h,p),{isAdjusted:d}}},{key:"insertStyleElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="http://www.w3.org/2000/svg";null==this.style&&(this.defs=document.createElementNS(t,"defs"),this.style=document.createElementNS(t,"style"),this.defs.appendChild(this.style),this.svgElement.appendChild(this.defs)),null!=e&&(this.inlineStyles=e,this.refreshInlineStyles())}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"refreshInlineStyles",value:function(){var e="";for(var t in this.inlineStyles){var n=this.inlineStyles[t];if(null!=n){for(var i in e+=t+"{\n",n)e+="   "+i+":"+n[i]+";\n";e+="}\n"}else e+=t+"\n"}this.style.textContent=e}},{key:"findFreeSpace",value:function(e,t,n,i){for(var r=0,o=!1,a=0,s=0;!o;){var l=r,u=0;for(u=0;u<=r;u++)if(a=this.marginCm+.2*u,s=this.marginCm+.2*l,this.isFree(e,t,n,a,s,i)){o=!0;break}if(o)break;for(u--,l=0;l<=r-1;l++)if(a=this.marginCm+.2*u,s=this.marginCm+.2*l,this.isFree(e,t,n,a,s,i)){o=!0;break}r+=2}return{x:a,y:s}}},{key:"isFree",value:function(e,t,n,i,r,o){var a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,h=Math.abs(d.leftCm+d.widthCm/2-i-t/2)<=(d.widthCm+t)/2+o,p=Math.abs(d.topCm+d.heightCm/2-r-n/2)<=(d.heightCm+n)/2+o;if(h&&p)return!1}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return!0}}])&&No(t.prototype,n),i&&No(t,i),e}();function Ho(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right"}($o||($o={}));var Ko=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.leftCm=0,this.topCm=0,this.lines=[],this.backgroundColor="#ffffff"}var t,n,i;return t=e,(n=[{key:"getRoutingRectangle",value:function(){return{left:Math.round(this.leftCm/.2),top:Math.round(this.topCm/.2),width:Math.round(this.widthCm/.2),height:Math.round(this.heightCm/.2)}}},{key:"show",value:function(){null!=this.$element&&this.$element.show()}},{key:"hide",value:function(){null!=this.$element&&this.$element.hide()}},{key:"detach",value:function(){null!=this.$element&&this.$element.detach()}},{key:"remove",value:function(){null!=this.$element&&(this.$element.remove(),this.$element=null)}},{key:"appendTo",value:function(e){e.append(this.$element)}},{key:"clear",value:function(){null!=this.$element&&(this.$element.empty(),this.lines=[])}},{key:"move",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.leftCm+=e,this.topCm+=t;var r=this.leftCm,o=this.topCm;n&&(r=.2*Math.round(r/.2),o=.2*Math.round(o/.2)),i&&(this.leftCm=r,this.topCm=o),jQuery(this.$element).css("transform","translate("+r+"cm,"+o+"cm)")}},{key:"moveTo",value:function(e,t,n){this.move(e-this.leftCm,t-this.topCm,n)}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"createTextElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.createElement("text",t,{font:"16px Roboto","font-family":"sans-serif",fill:"#000","alignment-baseline":"hanging","dominant-baseline":"hanging"});return null!=n&&i.attr(n),i.text(e),i}},{key:"getTextMetrics",value:function(t){var n=t[0].getBBox();return{height:n.height*e.cmPerPx,width:n.width*e.cmPerPx}}},{key:"addTextLine",value:function(e){this.lines.push(e),"text"==e.type&&(null==e.alignment&&(e.alignment=$o.left),null==e.bold&&(e.bold=!1),null==e.italics&&(e.italics=!1))}},{key:"render",value:function(){var e=this,t=this.$element;null==t&&((t=this.createElement("g",this.parent)).addClass("svg_draggable"),t.addClass("svg_all_pointer_events"),this.$element=t,jQuery(this.$element).css("transform","translate("+this.leftCm+"cm,"+this.topCm+"cm)"));var n=this.createElement("rect",t[0]),i=.1,r=0,o=!0,a=!0,s=!1,l=void 0;try{for(var u,c=this.lines[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if("text"==d.type){o&&(i+=.1),o=!1,d.yCm=i,d.$element=this.createTextElement(d.text,t[0],{"font-weight":d.bold?"bold":"normal","font-size":"12pt","font-style":d.italics?"italic":"normal","text-anchor":d.alignment==$o.left?"start":d.alignment==$o.center?"middle":"end",cursor:null==d.onClick?"":"pointer"}),d.$element.css("transform","translate(0cm,0cm)");var h=this.getTextMetrics(d.$element);d.textHeightCm=h.height,d.textWidthCm=h.width,r=Math.max(r,d.textWidthCm),i+=d.textHeightCm,null!=d.tooltip&&this.createElement("title",d.$element[0]).text(d.tooltip)}else d.yCm=i+d.thicknessCm/2,i+=d.thicknessCm+.1,o=!0}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var p=.5+r;this.widthCm=.2*(Math.trunc(p/.2)+1),this.heightCm=.2*(Math.trunc(i/.2)+1);var f=p/2,y=p-.25;n.css({width:this.widthCm+"cm",height:this.heightCm+"cm",fill:this.backgroundColor,stroke:"#000","stroke-width":"0.05cm"});var v=!0,m=!1,g=void 0;try{for(var b,w=function(){var n=b.value;if("text"==n.type){var i;switch(n.alignment){case $o.center:i=f;break;case $o.left:i=.25;break;case $o.right:i=y}var r=e.createElement("g",t[0]);r.append(n.$element),n.$element=r,n.$element.css("transform","translate("+i+"cm,"+n.yCm+"cm)"),null!=n.onClick&&(n.$element.addClass("clickable"),n.$element.on("mousedown",(function(e){n.onClick(),e.stopPropagation()})))}else n.$element=e.createElement("line",t[0],{x1:"0",y1:n.yCm+"cm",x2:e.widthCm+"cm",y2:n.yCm+"cm"}),n.$element.css({stroke:"#000","stroke-width":n.thicknessCm+"cm"})},k=this.lines[Symbol.iterator]();!(v=(b=k.next()).done);v=!0)w()}catch(e){m=!0,g=e}finally{try{v||null==k.return||k.return()}finally{if(m)throw g}}}}])&&Ho(t.prototype,n),i&&Ho(t,i),e}();function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Zo(e,t){return!t||"object"!==Qo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xo(e,t,n){return(Xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qo(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ko.cmPerPx=2.54/96;var Jo=function(e){function t(e,n,i,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Zo(this,qo(t).call(this,e.svgElement))).diagram=e,o.active=!0,o.withMethods=!0,o.withAttributes=!0,o.klass=r,null!=r&&(o.attachToClass(o.klass),o.isSystemClass=r.module.isSystemModule,o.withAttributes=!1,//!this.isSystemClass;
o.withMethods=!1),o.moveTo(n,i,!0),o}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(t,e),n=t,r=[{key:"deserialize",value:function(e,n){var i=new t(e,n.leftCm,n.topCm,null);return i.hashedSignature=n.hashedSignature,i.className=n.className,i.filename=n.filename,i.withAttributes=n.withAttributes,i.withMethods=n.withMethods,i.isSystemClass=n.isSystemClass,i}}],(i=[{key:"serialize",value:function(){return{className:this.className,filename:this.filename,hashedSignature:this.hashedSignature,withAttributes:this.withAttributes,withMethods:this.withMethods,isSystemClass:this.isSystemClass,leftCm:this.leftCm,topCm:this.topCm}}},{key:"attachToClass",value:function(e){this.klass=e;var t=this.getSignature(e);this.className!=e.identifier||this.hashedSignature!=t||this.widthCm<.7||this.documentation!=e.documentation?(this.isSystemClass=e.module.isSystemModule,this.renderLines()):this.addMouseEvents(),this.className=e.identifier,this.filename=e.module.file.name,this.hashedSignature=t,this.documentation=e.documentation}},{key:"jumpToDeclaration",value:function(e){this.diagram.main.jumpToDeclaration(this.klass.module,e.declaration)}},{key:"renderLines",value:function(){var e=this;this.clear();var t=this.diagram.currentClassBoxes.parametersWithTypes;if(this.addTextLine({type:"text",text:(this.klass instanceof V?"<<interface>> ":this.klass.isAbstract?"<<abstract>> ":"")+this.klass.identifier,tooltip:ao(this.klass,"",!0),alignment:$o.center,bold:!0,italics:this.klass instanceof V||this.klass.isAbstract,onClick:this.isSystemClass?void 0:function(){e.jumpToDeclaration(e.klass)}}),this.klass instanceof G&&this.withAttributes){this.addTextLine({type:"line",thicknessCm:.05});var n=!0,i=!1,r=void 0;try{for(var o,a=function(){var t=o.value,n=e.getVisibilityText(t.visibility)+lo(t.type)+" "+t.identifier;e.addTextLine({type:"text",text:n,tooltip:ao(t),alignment:$o.left,onClick:e.isSystemClass?void 0:function(){e.jumpToDeclaration(t)}})},s=this.klass.attributes[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}this.withMethods&&(this.addTextLine({type:"line",thicknessCm:.05}),this.klass.methods.filter((function(e){return"toJson()"!=e.signature})).forEach((function(n){var i=e.getVisibilityText(n.visibility)+n.identifier+"()";if(t){var r=n.isConstructor?"":null==n.returnType?"void ":lo(n.returnType)+" ";i=e.getVisibilityText(n.visibility)+r+n.identifier+"("+n.parameterlist.parameters.map((function(e){return lo(e.type)+" "+e.identifier})).join(", ")+")"}e.addTextLine({type:"text",text:i,tooltip:ao(n),alignment:$o.left,italics:e.klass instanceof V||n.isAbstract,onClick:e.isSystemClass?void 0:function(){e.jumpToDeclaration(n)}})}))),this.backgroundColor=this.isSystemClass?"#aaaaaa":"#ffffff",this.render(),this.$dropdownTriangle=this.createElement("path",this.$element[0],{d:this.getTrianglePath(),class:"dropdown-triangle",style:"transform: translate("+(this.widthCm-.35)+"cm,0.05cm)"}),this.addMouseEvents()}},{key:"getTrianglePath",value:function(){return this.withMethods?"M 0 8 L 11 8 L 5.5 2 L 0 8":"M 0 2 L 11 2 L 5.5 8 L 0 2"}},{key:"detach",value:function(){var e;null===(e=this.$element)||void 0===e||e.off("mousedown.diagramElement"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),Xo(qo(t.prototype),"detach",this).call(this)}},{key:"addMouseEvents",value:function(){var e=this,t=this;null!=this.$dropdownTriangle&&(this.$dropdownTriangle.off("mouseup.dropdowntriangle"),this.$dropdownTriangle.off("mousedown.dropdowntriangle")),this.$dropdownTriangle.on("mousedown.dropdowntriangle",(function(e){e.stopPropagation()})),this.$dropdownTriangle.on("mouseup.dropdowntriangle",(function(t){t.stopPropagation(),e.withMethods=!e.withMethods,e.withAttributes=!e.withAttributes,e.$dropdownTriangle.attr("d",e.getTrianglePath()),e.renderLines(),e.diagram.adjustClassDiagramSize(),e.diagram.updateArrows()})),this.$element.on("mousedown.diagramElement",(function(n){if(n.stopPropagation(),n.stopImmediatePropagation(),0==n.button){var i=n.screenX,r=n.screenY;t.$element.find("rect").addClass("dragging"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),jQuery(document).on("mousemove.diagramElement",(function(n){var o=1/96*2.36/e.diagram.zoomfactor,a=(n.screenX-i)*o,s=(n.screenY-r)*o;i=n.screenX,r=n.screenY,t.move(a,s,!0),clearTimeout(t.inDebounce),t.inDebounce=setTimeout((function(){t.diagram.updateArrows()}),200)})),jQuery(document).on("mouseup.diagramElement",(function(){t.move(0,0,!0,!0);var e=t.diagram;e.adjustClassDiagramSize(),e.updateArrows(),t.$element.find("rect").removeClass("dragging"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),e.dirty=!0}))}}))}},{key:"getVisibilityText",value:function(e){switch(e){case j.private:return"-";case j.protected:return"#";case j.public:return"+"}}},{key:"getSignature",value:function(e){var t="";if(e instanceof G&&this.withAttributes&&e.attributes.length>0){var n=!0,i=!1,r=void 0;try{for(var o,a=e.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t+=this.getVisibilityText(s.visibility)+s.type.identifier+" "+s.identifier}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}if(this.withMethods&&e.methods.length>0){var l=!0,u=!1,c=void 0;try{for(var d,h=e.methods[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(!p.isConstructor){var f=null==p.returnType?"void":p.returnType.identifier;t+=this.getVisibilityText(p.visibility)+f+" "+p.identifier+"("+p.parameterlist.parameters.map((function(e){return e.type.identifier+" "+e.identifier})).join(", ")+")"}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}return function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(t)}},{key:"hasSignatureAndFileOf",value:function(e){return e.module.file.name==this.filename&&this.getSignature(e)==this.hashedSignature}}])&&Uo(n.prototype,i),r&&Uo(n,r),t}(Ko);function ea(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ta=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"makeHead",value:function(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);if(o<1e-5)return{path:"",stroke:"none",fill:"none"};var a=i/o,s=r/o,l="M "+.2*t.x/ia.cmPerPx+" "+.2*t.y/ia.cmPerPx,u=this.arrows[n],c=!0,d=!1,h=void 0;try{for(var p,f=u.steps[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var y=p.value,v=y.r/180*Math.PI,m=a*Math.cos(v)-s*Math.sin(v),g=a*Math.sin(v)+s*Math.cos(v);l+=" l "+m*y.f/ia.cmPerPx+" "+g*y.f/ia.cmPerPx,a=m,s=g}}catch(e){d=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw h}}return{path:l,fill:u.fill,stroke:u.stroke}}}],(n=null)&&ea(t.prototype,n),i&&ea(t,i),e}();function na(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}ta.rauteAlpha=60,ta.arrows={inheritance:{steps:[{r:150,f:.4},{r:120,f:.4},{r:120,f:.4}],stroke:"#000000",fill:"#ffffff","stroke-dasharray":void 0},realization:{steps:[{r:150,f:.4},{r:120,f:.4},{r:120,f:.4}],stroke:"#000000",fill:"#8080ff","stroke-dasharray":"4"},composition:{steps:[{r:90+ta.rauteAlpha,f:.3},{r:180-2*ta.rauteAlpha,f:.3},{r:2*ta.rauteAlpha,f:.3},{r:180-2*ta.rauteAlpha,f:.3}],stroke:"#000000",fill:"#ffffff","stroke-dasharray":void 0}};var ia=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.routingArrow=n,this.color=i}var t,n,i;return t=e,(n=[{key:"show",value:function(){null!=this.$element&&this.$element.show()}},{key:"hide",value:function(){null!=this.$element&&this.$element.hide()}},{key:"detach",value:function(){null!=this.$element&&this.$element.detach()}},{key:"remove",value:function(){null!=this.$element&&this.$element.remove()}},{key:"appendTo",value:function(e){e.append(this.$element)}},{key:"clear",value:function(){null!=this.$element&&this.$element.empty()}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"createTextElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.createElement("text",t,{font:"16px Roboto","font-family":"sans-serif",fill:"#000","alignment-baseline":"hanging"});return null!=n&&i.attr(n),i.text(e),i}},{key:"getTextMetrics",value:function(t){var n=t[0].getBBox();return{height:n.height*e.cmPerPx,width:n.width*e.cmPerPx}}},{key:"render",value:function(){var e=this.$element;null==e?(e=this.createElement("g",this.parent),this.$element=e,e.css("stroke",this.color)):e.empty();var t=this.routingArrow.minimalPoints;if(!(null==t||t.length<2)){for(var n="M "+this.getPathCoordinates(t[0]),i=1;i<t.length;i++)n+=" L "+this.getPathCoordinates(t[i]);var r=ta.arrows[this.routingArrow.arrowType];for(this.createElement("path",e[0],{d:n}).css({"stroke-width":"0.2 cm",fill:"none","stroke-dasharray":r["stroke-dasharray"]});t.length>1&&t[t.length-1].x==t[t.length-2].x&&t[t.length-1].y==t[t.length-2].y;)t.pop();if(t.length>1&&null==this.routingArrow.endsOnArrowWithIdentifier){var o=ta.makeHead(t[t.length-2],t[t.length-1],this.routingArrow.arrowType);this.createElement("path",e[0],{d:o.path}).css({stroke:this.color,"stroke-width":"0.2 cm",fill:o.fill})}}}},{key:"getPathCoordinates",value:function(t){return.2*t.x/e.cmPerPx+" "+.2*t.y/e.cmPerPx}}])&&na(t.prototype,n),i&&na(t,i),e}();function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ia.cmPerPx=2.54/96;var ua=function(e){function t(e,n){var i,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(i=!(o=aa(t).call(this,e,n))||"object"!==ra(o)&&"function"!=typeof o?sa(r):o).$htmlElement=e,i.classBoxesRepository={},i.arrows=[],i.currentWorkspaceId=null,i.version=0,i.straightArrowSectionAfterRectangle=2,i.distanceFromRectangles=2,i.slotDistance=2,i.dirty=!1;var a=sa(i);return i.$menuButton.on("click",(function(e){e.preventDefault();var t=1==a.currentClassBoxes.displaySystemClasses,n=1==a.currentClassBoxes.parametersWithTypes;yr([{caption:t?"Systemklassen ausblenden":"Systemklassen einblenden",callback:function(){a.currentClassBoxes.displaySystemClasses=!t,a.drawDiagram(a.currentWorkspace,!1)}},{caption:n?"Parameter ausblenden":"Parameter einblenden",callback:function(){a.currentClassBoxes.parametersWithTypes=!n,a.currentClassBoxes.active.forEach((function(e){e.hashedSignature=-1})),a.drawDiagram(a.currentWorkspace,!1)}}],e.pageX+2,e.pageY+2),e.stopPropagation()})),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(t,e),n=t,(i=[{key:"clearAfterLogout",value:function(){this.classBoxesRepository={},this.arrows.forEach((function(e){e.remove()})),$(this.svgElement).empty()}},{key:"serialize",value:function(){if(null!=this.currentClassBoxes){var e={classBoxes:[],displaySystemClasses:this.currentClassBoxes.displaySystemClasses,parametersWithTypes:this.currentClassBoxes.parametersWithTypes};for(var t in this.classBoxesRepository){var n=this.classBoxesRepository[t],i=!0,r=!1,o=void 0;try{for(var a,s=n.active[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value.serialize();l.workspaceId=Number.parseInt(t),e.classBoxes.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return e}}},{key:"deserialize",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.classBoxes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=this.classBoxesRepository[a.workspaceId];null==s&&(s={active:[],inactive:[],displaySystemClasses:!1,parametersWithTypes:!1},this.classBoxesRepository[a.workspaceId]=s),s.inactive.push(Jo.deserialize(this,a)),s.displaySystemClasses=e.displaySystemClasses,s.parametersWithTypes=e.parametersWithTypes}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"adjustClassDiagramSize",value:function(){var e=this.classBoxesRepository[this.currentWorkspaceId];this.adjustSizeAndElements(e.active)}},{key:"getClassBoxes",value:function(e){var t=this.classBoxesRepository[e.id];return null==t&&(t={active:[],inactive:[],displaySystemClasses:!1,parametersWithTypes:!1},this.classBoxesRepository[e.id]=t),t}},{key:"switchToWorkspace",value:function(e){var t=this.getClassBoxes(e);if(this.currentWorkspaceId!=e.id){if(null!=this.currentWorkspaceId){var n=this.classBoxesRepository[this.currentWorkspaceId];if(null!=n){var i=!0,r=!1,o=void 0;try{for(var a,s=n.active[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)a.value.detach()}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var l=!0,u=!1,c=void 0;try{for(var d,h=n.inactive[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)d.value.detach()}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}var p=!0,f=!1,y=void 0;try{for(var v,m=t.active[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;this.svgElement.appendChild(g.$element[0])}}catch(e){f=!0,y=e}finally{try{p||null==m.return||m.return()}finally{if(f)throw y}}var b=!0,w=!1,k=void 0;try{for(var S,P=t.inactive[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;null!=x.$element&&this.svgElement.appendChild(x.$element[0])}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}this.adjustSizeAndElements(t.active)}return this.currentWorkspaceId=e.id,t}},{key:"drawDiagram",value:function(e,t){var n,i=this;if(null!=e){this.currentWorkspace=e,this.currentClassBoxes=this.switchToWorkspace(e);var r=e.moduleStore,o=[],a=!1,s=[],l=[],u=!0,c=!1,d=void 0;try{for(var h,p=r.getModules(!1)[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value,y=null===(n=null==f?void 0:f.typeStore)||void 0===n?void 0:n.typeList;null!=y&&(a=!0,y.filter((function(e){return e instanceof G||e instanceof V})).forEach((function(e){var t=i.findAndEnableClass(e,i.currentClassBoxes,s);null!=t&&o.push(t),e instanceof G&&e.registerUsedSystemClasses(l)})))}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}for(var v=[];v.length<l.length;){v=l.slice(0);var m=!0,g=!1,b=void 0;try{for(var w,k=v[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var S=w.value;S instanceof G&&S.registerUsedSystemClasses(l)}}catch(e){g=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(g)throw b}}}if(this.currentClassBoxes.displaySystemClasses){var P=!0,x=!1,T=void 0;try{for(var M,C=l[Symbol.iterator]();!(P=(M=C.next()).done);P=!0){var j=M.value,O=this.findAndEnableClass(j,this.currentClassBoxes,s);null!=O&&o.push(O)}}catch(e){x=!0,T=e}finally{try{P||null==C.return||C.return()}finally{if(x)throw T}}}this.dirty=this.dirty||s.length>0;for(var E=0,A=s;E<A.length;E++){var D=A[E],F=new Jo(this,10*Math.random()*.2,10*Math.random()*.2,D);F.renderLines();var I=this.findFreeSpace(o,F.widthCm,F.heightCm,this.minDistance);F.moveTo(I.x,I.y,!0),o.push(F)}if(s.length>0&&this.adjustSizeAndElements(o),a){var _=!0,z=!1,L=void 0;try{for(var B,R=this.currentClassBoxes.active[Symbol.iterator]();!(_=(B=R.next()).done);_=!0){var W=B.value;W.hide(),W.active=!1,this.currentClassBoxes.inactive.push(W)}}catch(e){z=!0,L=e}finally{try{_||null==R.return||R.return()}finally{if(z)throw L}}this.currentClassBoxes.active=o,t||(this.adjustClassDiagramSize(),this.updateArrows())}}}},{key:"updateArrows",value:function(){this.$htmlElement.find(".jo_classdiagram-spinner").hide();var e=["#0075dc","#993f00","#005c31","#ff5005","#2bce48","#0000ff","#ffa405","#ffa8bb","#740aff","#990000","#ff0000"],t=0,n=this.drawArrows();this.version++,n.version=this.version,null!=this.routingWorker&&this.routingWorker.terminate(),this.routingWorker=new Worker("js/main/gui/diagrams/classdiagram/Router.js");var i=this;this.routingWorker.onmessage=function(n){var r=n.data;r.version==i.version&&function(){i.$htmlElement.find(".jo_classdiagram-spinner").hide(),i.arrows.forEach((function(e){e.remove()}));var n,o={},a=r.arrows.length+1;do{n=a,a=0,r.arrows.forEach((function(n){null==n.color&&(a++,null==n.endsOnArrowWithIdentifier?(n.color=e[t],o[n.identifier]=n.color,++t>e.length-1&&(t=0)):n.color=o[n.endsOnArrowWithIdentifier])}))}while(a<n);r.arrows.forEach((function(e){null==e.color&&(e.color="#ff0000")})),r.arrows.forEach((function(e){var t=new ia(i.svgElement,e,e.color);t.render(),i.arrows.push(t)}))}()},this.routingWorker.postMessage(n),this.$htmlElement.find(".jo_classdiagram-spinner").show()}},{key:"drawArrows",value:function(){var e=this,t={rectangles:[],arrows:[],xMax:Math.ceil(this.widthCm/.2),yMax:Math.ceil(this.heightCm/.2),straightArrowSectionAfterRectangle:this.straightArrowSectionAfterRectangle,distanceFromRectangles:this.distanceFromRectangles,slotDistance:this.slotDistance},n=this.classBoxesRepository[this.currentWorkspaceId];return n.active.forEach((function(e){t.rectangles.push(e.getRoutingRectangle())})),n.active.forEach((function(i){if(i.klass instanceof G){if(null!=i.klass.baseClass){var r=e.findClassbox(i.klass.baseClass,n.active);null!=r&&e.drawArrwow(i,r,"inheritance",t)}var o=!0,a=!1,s=void 0;try{for(var l,u=i.klass.implements[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=e.findClassbox(c,n.active);null!=d&&e.drawArrwow(i,d,"realization",t)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h=!0,p=!1,f=void 0;try{for(var y,v=i.klass.getCompositeData()[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value,g=e.findClassbox(m.klass,n.active);null!=g&&e.drawArrwow(g,i,"composition",t)}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}}})),t}},{key:"drawArrwow",value:function(e,t,n,i){e.getRoutingRectangle(),t.getRoutingRectangle();var r=this.classBoxesRepository[this.currentWorkspaceId];i.arrows.push({arrowType:n,destRectangleIndex:r.active.indexOf(t),sourceRectangleIndex:r.active.indexOf(e),destinationIdentifier:t.className,identifier:e.className+"(extends)"+t.className})}},{key:"findClassbox",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.klass==e)return s}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return null}},{key:"findAndEnableClass",value:function(e,t,n){for(var i=0;i<t.active.length;){var r=t.active[i];if(r.className==e.identifier||r.hasSignatureAndFileOf(e))return r.attachToClass(e),t.active.splice(i,1),r;i++}for(i=0;i<t.inactive.length;){var o=t.inactive[i];if(o.className==e.identifier||o.hasSignatureAndFileOf(e))return t.inactive.splice(i,1),o.klass=e,o.renderLines(),o.show(),o.active=!0,this.dirty=!0,o;i++}return n.push(e),null}},{key:"clear",value:function(){var e=this.classBoxesRepository[this.currentWorkspaceId];if(null!=e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.active[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.detach()}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}}])&&oa(n.prototype,i),r&&oa(n,r),t}(Vo);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pa(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=function(e){function t(){return da(this,t),pa(this,fa(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(t,e),n=t,(i=[{key:"getSettingsElement",value:function(){var e,t=this,n=this.main.getCurrentWorkspace().moduleStore,i=jQuery("<span>Start der Liste:&nbsp;</span>");this.$selectElement=jQuery("<select></select>"),i.append(this.$selectElement);var r=!0,o=!1,a=void 0;try{for(var s,l=function(){var n=s.value,i=null===(e=n.mainSymbolTable)||void 0===e?void 0:e.childSymbolTables;if(null==i||0==i.length)return"continue";var r=i[0].variableMap;if(null==r||null!=i[0].classContext)return"continue";r.forEach((function(e,i){var r=e.type;if(null!=r&&r instanceof G&&null!=r.module&&!r.module.isSystemModule){var o=i==t.rootIdentifier?" selected":"";t.$selectElement.append('<option value="'+i+o+'">'+i+' (Modul "'+n.file.name+'")</option>')}}))},u=n.getModules(!1)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)l()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return i}},{key:"getName",value:function(){return"Liste"}},{key:"updateDiagram",value:function(){var e,t=null===(e=this.main.getInterpreter().heap[this.rootIdentifier])||void 0===e?void 0:e.value;if(null!=t){null!=t.type&&t.type instanceof G||this.objectDiagram.error("Die Variable "+this.rootIdentifier+" zeigt auf kein Objekt.");var n,i=t.type,r=t.value,o=this.analyzeSelfReference(i),a=[];if(null==o)for(var s=i;null!=s&&!(s instanceof ie);){var l=!0,u=!1,c=void 0;try{for(var d,h=s.attributes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=r.attributes[p.index];if(f.type instanceof G)if(null!=n&&n==p.type)a.push(p.identifier);else{var y=this.analyzeSelfReference(f.type);null!=y&&(n=y)}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}s=s.baseClass}null==o&&null==n?this.objectDiagram.error("Konnte kein sich selbst referenzierendes Objekt finden."):this.drawDiagram(t,o,a,n)}else this.objectDiagram.error("Konnte die Variable "+this.rootIdentifier+" nicht finden.")}},{key:"drawDiagram",value:function(e,t,n,i){}},{key:"analyzeSelfReference",value:function(e){for(var t=[],n=e;null!=n&&!(n instanceof ie);)n.implements.length>0&&(t=t.concat(n.implements)),null==n.baseClass||n.baseClass instanceof ie||(void 0).push(n.baseClass),n=n.baseClass;for(n=e;null!=n&&!(n instanceof ie);){var i=!0,r=!1,o=void 0;try{for(var a,s=n.attributes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value.type;if(t.indexOf(l)>=0||(void 0).indexOf(l)>=0)return l}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}n=n.baseClass}return null}},{key:"clear",value:function(){}}])&&ha(n.prototype,i),r&&ha(n,r),t}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.objectDiagram=n}));function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sa=function(e){function t(e,n){var i,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(i=!(o=ba(t).call(this,n.find(".jo_objectdiagram-canvas"),e))||"object"!==ma(o)&&"function"!=typeof o?wa(r):o).$objectDiagramDiv=n,i.variants=[],i.currentVariant=null,i.variants.push(new va(e,wa(i)));var a=n.find(".jo_objectdiagram-type");a.empty(),a.append('<option value="none" selected>Bitte ausw√§hlen...</option>');var s=!0,l=!1,u=void 0;try{for(var c,d=i.variants[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.append('<option value="0">'+h.getName()+"</option>")}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var p=wa(i);return a.on("change",(function(e){var t=e.currentTarget.value;if(null==t)null!=p.currentVariant&&(p.$canvas.find(".jo_objectDiagramError").remove(),p.currentVariant.clear()),p.currentVariant=null;else{var n=Number.parseInt(t);p.currentVariant=p.variants[n]}p.updateSettings()})),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(t,e),n=t,(i=[{key:"error",value:function(e){this.$canvas.append('<div class="jo_objectDiagramError">'+e+"</div>")}},{key:"updateSettings",value:function(){var e=this.$objectDiagramDiv.find(".jo_objectdiagram-settings");null!=this.currentVariant?(e.empty(),e.append(this.currentVariant.getSettingsElement())):e.empty()}},{key:"updateDiagram",value:function(){null!=this.currentVariant&&this.currentVariant.updateDiagram()}}])&&ga(n.prototype,i),r&&ga(n,r),t}(Vo);function Pa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$rightDiv=n,this.isWholePage=!1,this.$tabs=n.find(".jo_tabs"),this.$headings=n.find(".jo_tabheadings");var i=this.$headings.find(".jo_classDiagramTabHeading").length>0,r=this.$headings.find(".jo_objectDiagramTabHeading").length>0;i&&(this.classDiagram=new ua(this.$tabs.find(".jo_classdiagram"),t),this.$headings.find(".jo_classDiagramTabHeading").on("click",(function(){o.main.drawClassDiagrams(!1)}))),r&&(this.objectDiagram=new Sa(this.main,this.$tabs.find(".jo_objectdiagram")),this.$headings.find(".jo_objectDiagramTabHeading").on("click",(function(){o.onObjectDiagramEnabled()})));var o=this,a="100%";n.find(".jo_whole-window").on("click",(function(){o.isWholePage=!o.isWholePage;var e=jQuery(".jo_whole-window");o.isWholePage?(jQuery("#code").css("display","none"),a=jQuery("#rightdiv").css("width"),jQuery("#rightdiv").css("width","100%"),e.removeClass("img_whole-window"),e.addClass("img_whole-window-back"),jQuery(".jo_control-container").append(jQuery("#controls")),e.attr("title","Auf normale Gr√∂√üe zur√ºckf√ºhren"),jQuery(".jo_graphics").trigger("sizeChanged")):(jQuery("#code").css("display","flex"),jQuery("#rightdiv").css("width",a),e.removeClass("img_whole-window-back"),e.addClass("img_whole-window"),jQuery("#controls").insertAfter(jQuery("#view-mode")),e.attr("title","Auf Fenstergr√∂√üe vergr√∂√üern"),jQuery(".jo_graphics").trigger("sizeChanged"))}))}var t,n,i;return t=e,(n=[{key:"adjustWidthToWorld",value:function(){var e=this.main.getInterpreter().worldHelper;if(null!=e&&this.isWholePage){var t=window.innerHeight-this.$headings.height()-6,n=window.innerWidth/t,i=e.width/e.height;if(i<=n){var r=i*t;this.$tabs.find(".jo_run").css("width",r+"px"),this.$tabs.find(".jo_run").css("height",t+"px")}else{var o=window.innerWidth/i;this.$tabs.find(".jo_run").css("width",window.innerWidth+"px"),this.$tabs.find(".jo_run").css("height",o+"px")}}}},{key:"initGUI",value:function(){vr(this.$rightDiv)}},{key:"isClassDiagramEnabled",value:function(){var e=this.$headings.find(".jo_classDiagramTabHeading");return 0!=e.length&&e.hasClass("jo_active")}},{key:"isObjectDiagramEnabled",value:function(){var e=this.$headings.find(".jo_objectDiagramTabHeading");return 0!=e.length&&e.hasClass("jo_active")}},{key:"updateObjectDiagramSettings",value:function(){this.isObjectDiagramEnabled&&this.objectDiagram.updateSettings()}},{key:"onObjectDiagramEnabled",value:function(){this.objectDiagram.updateSettings(),this.main.getInterpreter().state!=Ka.paused&&this.main.getInterpreter().state!=Ka.running||this.objectDiagram.updateDiagram()}}])&&Pa(t.prototype,n),i&&Pa(t,i),e}();function Ta(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ma=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"initSliders",value:function(){var e=this,t=window.PointerEvent?"pointer":"mouse";jQuery("#slider1").on(t+"down",(function(n){var i=n.clientX;jQuery(document).on(t+"move.slider1",(function(t){var n=t.clientX-i;e.moveLeftPanel(n),i=t.clientX})),jQuery(document).on(t+"up.slider1",(function(){jQuery(document).off(t+"move.slider1"),jQuery(document).off(t+"up.slider1")}))})),jQuery("#slider2").on(t+"down",(function(n){var i=n.clientY;jQuery(document).on(t+"move.slider2",(function(t){var n=t.clientY-i;e.moveBottomDiv(n),i=t.clientY})),jQuery(document).on(t+"up.slider2",(function(){jQuery(document).off(t+"move.slider2"),jQuery(document).off(t+"up.slider2")}))})),jQuery("#slider3").on(t+"down",(function(n){var i=n.clientX;Go.preventFading=!0,jQuery(document).on(t+"move.slider3",(function(t){var n=t.clientX-i;e.moveRightDiv(n),i=t.clientX,t.stopPropagation()})),jQuery(document).on(t+"up.slider3",(function(){jQuery(document).off(t+"move.slider3"),jQuery(document).off(t+"up.slider3"),Go.preventFading=!1}))}));var n=jQuery('<div class="jo_sliderknob img_knob jo_button jo_active" style="left: -8px" draggable="false"></div>');jQuery("#slider2").append(n),n.on(t+"down",(function(n){var i=n.clientY,r=n.clientX;n.stopPropagation(),Go.preventFading=!0,jQuery(document).on(t+"move.knobleft",(function(t){var n=t.clientY-i,o=t.clientX-r;t.stopPropagation(),e.moveLeftPanel(o),e.moveBottomDiv(n),r+=o,i+=n})),jQuery(document).on(t+"up.knobleft",(function(){jQuery(document).off(t+"move.knobleft"),jQuery(document).off(t+"up.knobleft"),Go.preventFading=!1}))}));var i=jQuery('<div class="jo_sliderknob img_knob jo_button jo_active" style="right: -8px" draggable="false"></div>');jQuery("#slider2").append(i),i.on(t+"down",(function(n){var i=n.clientY,r=n.clientX;n.stopPropagation(),Go.preventFading=!0,jQuery(document).on(t+"move.knobright",(function(t){var n=t.clientY-i,o=t.clientX-r;t.stopPropagation(),e.moveRightDiv(o),e.moveBottomDiv(n),r+=o,i+=n})),jQuery(document).on(t+"up.knobright",(function(){jQuery(document).off(t+"move.knobright"),jQuery(document).off(t+"up.knobright"),Go.preventFading=!1}))}))}},{key:"moveRightDiv",value:function(e){var t=jQuery("#editor>.monaco-editor"),n=jQuery("#rightdiv"),i=Number.parseInt(n.css("width").replace("px",""));n.css("width",i-e+"px");var r=Number.parseInt(t.css("width").replace("px",""));t.css("width",r+e+"px"),this.main.getMonacoEditor().layout(),null!=this.main.bottomDiv.homeworkManager.diffEditor&&this.main.bottomDiv.homeworkManager.diffEditor.layout(),jQuery(".jo_graphics").trigger("sizeChanged"),i+=e}},{key:"moveBottomDiv",value:function(e){var t=jQuery("#editor>.monaco-editor"),n=jQuery("#bottomdiv-outer"),i=Number.parseInt(n.css("height").replace("px",""));n.css("height",i-e+"px");var r=Number.parseInt(t.css("height").replace("px",""));t.css("height",r+e+"px"),this.main.getMonacoEditor().layout(),null!=this.main.bottomDiv.homeworkManager.diffEditor&&this.main.bottomDiv.homeworkManager.diffEditor.layout()}},{key:"moveLeftPanel",value:function(e){var t=jQuery("#leftpanel"),n=jQuery("#editor>.monaco-editor"),i=Number.parseInt(t.css("width").replace("px",""));t.css("width",i+e+"px");var r=Number.parseInt(n.css("width").replace("px",""));n.css("width",r-e+"px"),this.main.getMonacoEditor().layout(),null!=this.main.bottomDiv.homeworkManager.diffEditor&&this.main.bottomDiv.homeworkManager.diffEditor.layout()}}])&&Ta(t.prototype,n),i&&Ta(t,i),e}();function Ca(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ja=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.classData=n}var t,n,i;return t=e,(n=[{key:"removePanels",value:function(){this.classPanel.remove(),this.studentPanel.remove()}},{key:"initGUI",value:function(){this.initStudentPanel(),this.initClassPanel(),this.renderClasses(this.classData)}},{key:"initStudentPanel",value:function(){var e=this,t=this;this.studentPanel=new _r(this.main.projectExplorer.accordion,"Sch√ºler/innen","2",null,"","student",!1,!1,"student",!1,[]),this.studentPanel.selectCallback=function(n){t.main.networkManager.sendUpdates((function(){rr("getWorkspaces",{ws_userId:n.id,userId:e.main.user.id,language:0},(function(i){1==i.success&&(t.main.workspacesOwnerId==t.main.user.id&&(t.ownWorkspaces=t.main.workspaceList.slice(),t.currentOwnWorkspace=t.main.currentWorkspace),t.main.restoreWorkspaces(i.workspaces,!1),t.main.workspacesOwnerId=n.id,t.main.projectExplorer.setExplorerColor("rgba(255, 0, 0, 0.2"),t.main.projectExplorer.$homeAction.show(),Na.showHelper("homeButtonHelper",e.main),t.main.bottomDiv.showHomeworkTab(),t.main.bottomDiv.homeworkManager.attachToWorkspaces(t.main.workspaceList)),e.main.networkManager.updateFrequencyInSeconds=e.main.networkManager.teacherUpdateFrequencyInSeconds,e.main.networkManager.secondsTillNextUpdate=e.main.networkManager.teacherUpdateFrequencyInSeconds}))}))}}},{key:"restoreOwnWorkspaces",value:function(){var e=this.main;e.getMonacoEditor().updateOptions({readOnly:!0}),e.workspaceList=this.ownWorkspaces,e.currentWorkspace=this.currentOwnWorkspace,e.workspacesOwnerId=e.user.id,e.projectExplorer.setExplorerColor(null),e.projectExplorer.renderWorkspaces(e.workspaceList),null==e.currentWorkspace&&e.workspaceList.length>0&&(e.currentWorkspace=e.workspaceList[0]),null!=e.currentWorkspace&&e.projectExplorer.setWorkspaceActive(e.currentWorkspace,!0),this.studentPanel.select(null,!1)}},{key:"initClassPanel",value:function(){var e=this,t=this;this.classPanel=new _r(this.main.projectExplorer.accordion,"Klassen","1",null,"","class",!1,!1,"class",!1,[]),this.classPanel.selectCallback=function(n){t.main.networkManager.sendUpdates((function(){var t=n;null!=t&&e.renderStudents(t.students)}))}}},{key:"renderStudents",value:function(e){this.studentPanel.clear(),e.sort((function(e,t){return e.familienname>t.familienname?-1:t.familienname>e.familienname?1:e.rufname>t.rufname?-1:t.rufname>e.rufname?1:0}));for(var t=0;t<e.length;t++){var n=e[t],i={name:n.familienname+", "+n.rufname,sortName:n.familienname+" "+n.rufname,externalElement:n,isFolder:!1,path:[]};this.studentPanel.addElement(i,!0)}}},{key:"renderClasses",value:function(e){this.studentPanel.clear(),e.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s={name:a.name,externalElement:a,isFolder:!1,path:[]};this.classPanel.addElement(s,!0)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}])&&Ca(t.prototype,n),i&&Ca(t,i),e}();function Oa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ea=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e){var t=this,n=this;e||(jQuery("#login").css("display","flex"),jQuery("#bitteWarten").css("display","none"),this.startAnimations());var i=jQuery("#login-spinner>img");jQuery("#login-username").focus(),jQuery("#login-username").on("keydown",(function(e){"Enter"==e.key&&jQuery("#login-password").focus()})),jQuery("#login-password").on("keydown",(function(e){"Enter"==e.key&&jQuery("#login-button").trigger("click")})),jQuery("#login-password").on("keydown",(function(e){"Tab"==e.key&&(e.preventDefault(),jQuery("#login-button").focus(),jQuery("#login-button").addClass("jo_active")),"Enter"==e.key&&jQuery("#login-button").trigger("click")})),jQuery("#login-button").on("keydown",(function(e){"Tab"==e.key?(e.preventDefault(),jQuery("#login-username").focus(),jQuery("#login-button").removeClass("jo_active")):jQuery("#login-button").trigger("click")})),jQuery("#jo_testuser-login-button").on("click",(function(){jQuery("#login-username").val("Testuser"),jQuery("#login-password").val(""),jQuery("#login-button").trigger("click")}));var r=!1;jQuery("#login-button").on("click",(function(){Nr.init(),i.show(),r||(r=!0,setTimeout((function(){r=!1}),1e3),t.sendLoginRequest(null))})),jQuery("#buttonLogout").on("click",(function(){n.main.user.is_testuser?n.showLoginForm():(t.main.interpreter.closeAllWebsockets(),jQuery("#bitteWartenText").html("Bitte warten, der letzte Bearbeitungsstand wird noch gespeichert ..."),jQuery("#bitteWarten").css("display","flex"),t.main.workspacesOwnerId!=t.main.user.id&&t.main.projectExplorer.onHomeButtonClicked(),t.main.networkManager.sendUpdates((function(){var e;t.main.rightDiv.classDiagram.clearAfterLogout(),rr("logout",{currentWorkspaceId:null===(e=t.main.currentWorkspace)||void 0===e?void 0:e.id},(function(){n.showLoginForm()}))})))}))}},{key:"sendLoginRequest",value:function(e){var t=this,n=this,i="login",r={username:jQuery("#login-username").val(),password:jQuery("#login-password").val(),language:0};null!=e&&(i="ticketLogin",r={ticket:e,language:0}),rr(i,r,(function(e){if(e.success){jQuery("#login").hide(),jQuery("#main").css("visibility","visible"),jQuery("#bitteWartenText").html("Bitte warten ..."),jQuery("#bitteWarten").css("display","flex");var i=e.user;i.is_testuser=e.isTestuser,null!=i.settings&&null!=i.settings.helperHistory||(i.settings={helperHistory:{consoleHelperDone:!1,newFileHelperDone:!1,newWorkspaceHelperDone:!1,speedControlHelperDone:!1,homeButtonHelperDone:!1,stepButtonHelperDone:!1,repositoryButtonDone:!1,folderButtonDone:!1},viewModes:null,classDiagram:null}),n.main.user=i,t.main.waitForGUICallback=function(){var r,o,a,s;n.main.mainMenu.initGUI(i,""),jQuery("#bitteWarten").hide(),jQuery("#login-spinner>img").hide(),jQuery("#menupanel-username").html(cr(i.rufname)+" "+cr(i.familienname)),new Mo(n.main).init(),i.is_teacher&&n.main.initTeacherExplorer(e.classdata),n.main.workspacesOwnerId=i.id,n.main.restoreWorkspaces(e.workspaces,!0),n.main.networkManager.initializeTimer(),n.main.projectExplorer.fileListPanel.setFixed(!i.is_teacher),n.main.projectExplorer.workspaceListPanel.setFixed(!i.is_teacher),null===(o=null===(r=n.main.rightDiv)||void 0===r?void 0:r.classDiagram)||void 0===o||o.clear(),null!=i.settings.classDiagram&&(null===(s=null===(a=n.main.rightDiv)||void 0===a?void 0:a.classDiagram)||void 0===s||s.deserialize(i.settings.classDiagram)),n.main.viewModeController.initViewMode(),n.main.bottomDiv.hideHomeworkTab(),!t.main.user.settings.helperHistory.folderButtonDone&&n.main.projectExplorer.workspaceListPanel.elements.length>5&&Na.showHelper("folderButton",t.main,jQuery(".img_add-folder-dark"))},0==t.main.startupComplete&&(t.main.waitForGUICallback(),t.main.waitForGUICallback=null)}else jQuery("#login-message").html("Fehler: Benutzername und/oder Passwort ist falsch."),jQuery("#login-spinner>img").hide()}),(function(e){jQuery("#login-message").html("Login gescheitert: "+e),jQuery("#login-spinner>img").hide()}))}},{key:"loginWithTicket",value:function(e){jQuery("#login").hide(),jQuery("#main").css("visibility","visible"),jQuery("#bitteWartenText").html("Bitte warten ..."),jQuery("#bitteWarten").css("display","flex"),this.sendLoginRequest(e)}},{key:"showLoginForm",value:function(){var e,t;jQuery("#login").show(),jQuery("#main").css("visibility","hidden"),jQuery("#bitteWarten").css("display","none"),jQuery("#login-message").empty(),this.main.interpreter.setState(Ka.not_initialized),this.main.getMonacoEditor().setModel(monaco.editor.createModel("","myJava")),this.main.projectExplorer.fileListPanel.clear(),this.main.projectExplorer.fileListPanel.setCaption(""),this.main.projectExplorer.workspaceListPanel.clear(),null===(t=null===(e=this.main.bottomDiv)||void 0===e?void 0:e.console)||void 0===t||t.clear(),this.main.interpreter.printManager.clear(),this.main.user.is_teacher&&(this.main.teacherExplorer.removePanels(),this.main.teacherExplorer=null),this.main.currentWorkspace=null,this.main.user=null}},{key:"startAnimations",value:function(){}}])&&Oa(t.prototype,n),i&&Oa(t,i),e}();function Aa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Da=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$buttonsContainer=t,this.main=n,this.$buttonMap={},this.highContrast=!1,this.editorHasFullWidth=!1,this.$buttonEditorFullscreen=jQuery('<div title="Editor in voller Breite" class="img_whole-window jo_button jo_active" style="padding: 1px; margin-right: 8px"></div>'),this.$buttonPresentationMode=jQuery('<div title="Pr√§sentation (Beamer)" class="img_presentation-mode jo_button jo_active" syle="padding: 1px"></div>'),this.$buttonMonitorMode=jQuery('<div title="Monitor" class="img_monitor-mode jo_button jo_active" style="margin-left: 5px; padding: 1px"></div>'),t.append(this.$buttonEditorFullscreen,this.$buttonPresentationMode,this.$buttonMonitorMode),this.$buttonMap={presentation:this.$buttonPresentationMode,monitor:this.$buttonMonitorMode};var r=this.main.actionManager;r.registerAction("editor.fullwidth",[],(function(){i.toggleEditorFullwidth()}),"Editor auf die volle Breite erweitern",this.$buttonEditorFullscreen),r.registerAction("viewmode.presentation",[],(function(){i.setMode("presentation")}),"Pr√§sentationsansicht",this.$buttonPresentationMode),r.registerAction("viewmode.monitor",[],(function(){i.setMode("monitor")}),"Monitoransicht",this.$buttonMonitorMode)}var t,n,i;return t=e,(n=[{key:"toggleEditorFullwidth",value:function(){var e=this;this.editorHasFullWidth?(this.$buttonEditorFullscreen.removeClass("img_whole-window-back"),this.$buttonEditorFullscreen.addClass("img_whole-window"),this.$buttonEditorFullscreen.attr("title","Editor in voller Breite"),jQuery("#rightdiv").css("width",this.rightDivWidth+"px"),jQuery("#editor>.monaco-editor").css("width",this.editorWidth+"px"),jQuery("#rightdiv").show(600),jQuery("#leftpanel").show(600),jQuery("#controls").show()):(this.$buttonEditorFullscreen.removeClass("img_whole-window"),this.$buttonEditorFullscreen.addClass("img_whole-window-back"),this.$buttonEditorFullscreen.attr("title","Editor in normaler Breite"),this.rightDivWidth=Number.parseInt(jQuery("#rightdiv").css("width").replace("px","")),this.editorWidth=Number.parseInt(jQuery("#editor>.monaco-editor").css("width").replace("px","")),jQuery("#rightdiv").hide(600),jQuery("#leftpanel").hide(600),jQuery("#controls").hide(),this.main.getInterpreter().stop()),setTimeout((function(){e.main.getMonacoEditor().layout()}),800),this.editorHasFullWidth=!this.editorHasFullWidth}},{key:"setMode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="presentation"==e?"monitor":"presentation";this.$buttonMap[e].addClass("jo_pressed"),this.$buttonMap[n].removeClass("jo_pressed");var i=this.main.user.settings,r=i.viewModes,o=r[e];if(r.viewModeChosen=e,this.main.themeManager.switchTheme(o.theme),this.main.editor.setFontSize(o.fontSize),this.highContrast!=o.highContrast){var a=this.main.getMonacoEditor();a.getAction("editor.action.toggleHighContrast").run(),this.highContrast=!this.highContrast}t&&this.saveSettings()}},{key:"saveFontSize",value:function(e){this.getChosenViewMode().fontSize=e,this.saveSettings()}},{key:"setTheme",value:function(e){var t=this.getChosenViewMode();t.theme=e,this.main.themeManager.switchTheme(t.theme),this.saveSettings()}},{key:"toggleHighContrast",value:function(){var e=this.getChosenViewMode();e.highContrast=!e.highContrast,this.main.getMonacoEditor().getAction("editor.action.toggleHighContrast").run(),this.saveSettings()}},{key:"getChosenViewMode",value:function(){var e=this.main.user.settings.viewModes;return e[e.viewModeChosen]}},{key:"saveSettings",value:function(){this.main.userDataDirty=!0}},{key:"initViewMode",value:function(){var e=this.main.user.settings;null==e.viewModes&&(e.viewModes={monitor:null,presentation:null,viewModeChosen:"monitor"}),null==e.viewModes.monitor&&(e.viewModes.monitor={fontSize:14,highContrast:!1,theme:"dark"},e.viewModes.presentation={fontSize:18,highContrast:!1,theme:"light"},this.saveSettings()),this.setMode(e.viewModes.viewModeChosen,!1)}}])&&Aa(t.prototype,n),i&&Aa(t,i),e}();function Fa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ia=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.semicolonPositions=[]}var t,n,i;return t=e,(n=[{key:"startRegistering",value:function(){this.semicolonPositions.forEach((function(e){return e.isThereAgain=!1})),this.time=(new Date).getTime()}},{key:"register",value:function(e,t){var n=this.semicolonPositions.find((function(t){return t.position.line==e.line&&t.position.column==e.column}));n?n.isThereAgain=!0:this.semicolonPositions.push({position:e,firstSeenMs:this.time,isThereAgain:!0,module:t})}},{key:"healSemicolons",value:function(){var e=this,t=(new Date).getTime();this.semicolonPositions=this.semicolonPositions.filter((function(e){return e.isThereAgain}));var n=this.main.getCurrentlyEditedModule(),i=this.main.getMonacoEditor().getPosition().lineNumber;this.semicolonPositions.filter((function(e){return t-e.firstSeenMs>2e3})).forEach((function(t){var r=null!=t.module.file.id&&t.module.file.id==n.file.id,o=[{range:new monaco.Range(t.position.line,t.position.column,t.position.line,t.position.column),text:";",forceMoveMarkers:!0}];if(r&&Math.abs(i-t.position.line)>1){var a=e.main.getMonacoEditor(),s=a.getSelection();a.executeEdits("Semicolon-Angel",o),a.setSelection(s),e.semicolonPositions.splice(e.semicolonPositions.indexOf(t),1)}}))}}])&&Fa(t.prototype,n),i&&Fa(t,i),e}();function _a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var za=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t;var i=this;history.pushState("PreventLeavingSite",""),window.addEventListener("popstate",(function(e){"PreventLeavingSite"==e.state?(history.pushState("PreventLeavingSite",""),i.main.editor.pushHistoryState(!1,i.main.editor.getPositionForHistory())):null==n.oneTimeBackButtonListener&&n.backButtonListener(e),null!=n.oneTimeBackButtonListener&&(n.oneTimeBackButtonListener(),n.oneTimeBackButtonListener=null)}))}var t,n,i;return t=e,(n=[{key:"registerBackButtonListener",value:function(e){this.backButtonListener=e}},{key:"registerOneTimeBackButtonListener",value:function(e){this.oneTimeBackButtonListener=e,history.pushState({},"")}}])&&_a(t.prototype,n),i&&_a(t,i),e}();function La(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ba=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"start",value:function(e,t,n){var i=!1,r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(u.isFolder&&u.moduleStore.getModules(!1).length>0){console.log("Folder "+u.path+"/"+u.name+" contains files. -> Make new folder and transforming existing one to workspace.");var c=new Mr(u.name,n,u.owner_id);c.isFolder=!0,c.path=u.path,e.push(c),t.sendCreateWorkspace(c,c.owner_id,(function(e){null==e||""==e?console.log("Successfully created new Folder."):console.log("Error creating folder: "+e)})),u.isFolder=!1,u.name+=" (ws)",u.saved=!1,i=!0}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var d=e.filter((function(e){return e.isFolder})),h=!0,p=!1,f=void 0;try{for(var y,v=d[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value,g=[],b=!0,w=!1,k=void 0;try{for(var S,P=d[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var x=S.value;x!=m&&x.path==m.path&&x.name==m.name&&g.push(x)}}catch(e){w=!0,k=e}finally{try{b||null==P.return||P.return()}finally{if(w)throw k}}if(g.length>0){console.log(g.length+1+" folders with name "+m.path+"/"+m.name+"=> renaming them with suffixes (1), (2), ...");for(var T=0;T<g.length;T++)g[T].name+=" ("+(T+1)+")",g[T].saved=!1;i=!0}}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}var M=[],C=!0,j=!1,O=void 0;try{for(var E,A=d[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){var D=E.value,F=D.path;""==F||F.endsWith("/")||(F+="/"),F+=D.name,M.push(F)}}catch(e){j=!0,O=e}finally{try{C||null==A.return||A.return()}finally{if(j)throw O}}var I=!0,_=!1,z=void 0;try{for(var L,B=e[Symbol.iterator]();!(I=(L=B.next()).done);I=!0){var R=L.value;!R.isFolder&&""!=R.path&&null!=R.path&&M.indexOf(R.path)<0&&(console.log("Found workspace ("+R.path+"/"+R.name+") with path not corresponding to any folder => Set path = ''."),R.path="",R.saved=!1,i=!0)}}catch(e){_=!0,z=e}finally{try{I||null==B.return||B.return()}finally{if(_)throw z}}i&&t.sendUpdates((function(){}),!0)}}])&&La(t.prototype,n),i&&La(t,i),e}();function Ra(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Wa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.repositoryOn=!0,this.workspaceList=[],this.windowStateManager=new za(this),this.startupComplete=2,this.programIsExecutable=!1,this.version=0,this.userDataDirty=!1}var t,n,i;return t=e,(n=[{key:"isEmbedded",value:function(){return!1}},{key:"getInterpreter",value:function(){return this.interpreter}},{key:"getCurrentWorkspace",value:function(){return this.currentWorkspace}},{key:"getDebugger",value:function(){return this.debugger}},{key:"getMonacoEditor",value:function(){return this.editor.editor}},{key:"getRightDiv",value:function(){return this.rightDiv}},{key:"getBottomDiv",value:function(){return this.bottomDiv}},{key:"getCurrentlyEditedModule",value:function(){return this.projectExplorer.getCurrentlyEditedModule()}},{key:"getActionManager",value:function(){return this.actionManager}},{key:"showProgramPointerPosition",value:function(e,t){this.projectExplorer.showProgramPointerPosition(e,t)}},{key:"hideProgramPointerPosition",value:function(){this.projectExplorer.hideProgramPointerPosition()}},{key:"getCompiler",value:function(){return this.compiler}},{key:"setModuleActive",value:function(e){this.projectExplorer.setModuleActive(e)}},{key:"getSemicolonAngel",value:function(){return this.semicolonAngel}},{key:"jumpToDeclaration",value:function(e,t){this.projectExplorer.setModuleActive(e),this.editor.editor.revealLineInCenter(t.position.line),this.editor.editor.setPosition({column:t.position.column,lineNumber:t.position.line})}},{key:"initGUI",value:function(){matchMedia("(pointer:fine)").matches&&(br=!0),this.login=new Ea(this);var e=window.location.href.indexOf("#");if(e>0){var t=window.location.href.substr(e+1);window.history.replaceState({},"Online-IDE",window.location.href.substr(0,e)),this.login.initGUI(!0),this.login.loginWithTicket(t)}else this.login.initGUI(!1);this.actionManager=new Vr(null,this),this.actionManager.init(),this.networkManager=new sr(this,jQuery("#bottomdiv-outer .jo_updateTimerDiv")),new Ma(this).initSliders(),this.mainMenu=new Oo(this),this.projectExplorer=new Ro(this,jQuery("#leftpanel>.jo_projectexplorer")),this.projectExplorer.initGUI(),this.bottomDiv=new io(this,jQuery("#bottomdiv-outer>.jo_bottomdiv-inner"),jQuery("body")),this.rightDiv=new xa(this,jQuery("#rightdiv-inner")),this.rightDiv.initGUI(),this.debugger=new Wr(this,jQuery("#leftpanel>.jo_debugger"),jQuery("#leftpanel>.jo_projectexplorer")),this.interpreter=new Xa(this,this.debugger,new Fo(jQuery("#controls"),jQuery("#editor")),jQuery("#rightdiv-inner .jo_run")),this.interpreter.initGUI(),this.initTypes(),this.checkStartupComplete(),this.correctPIXITransform(),PIXI.utils.skipHello(),this.themeManager=new Dt,this.viewModeController=new Da(jQuery("#view-mode"),this),this.semicolonAngel=new Ia(this)}},{key:"correctPIXITransform",value:function(){PIXI.Transform.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}}},{key:"initEditor",value:function(){this.editor=new So(this,!0,!1),(new Et).init(),this.editor.initGUI(jQuery("#editor"));var e=this;jQuery(window).on("resize",(function(t){jQuery("#bottomdiv-outer").css("height","150px"),jQuery("#editor").css("height",window.innerHeight-150-30-2+"px"),e.editor.editor.layout(),jQuery("#editor").css("height","")})),jQuery(window).trigger("resize")}},{key:"initTeacherExplorer",value:function(e){this.teacherExplorer=new ja(this,e),this.teacherExplorer.initGUI()}},{key:"checkStartupComplete",value:function(){this.startupComplete--,0==this.startupComplete&&this.start()}},{key:"initTypes",value:function(){at.init(),st.init(),lt.init(),ut.init(),ct.init(),ht.init(),pt.init(),vt.init(),mt.init(),gt.init(),bt.init(),wt.init()}},{key:"start",value:function(){null!=this.waitForGUICallback&&this.waitForGUICallback();var e=this;setTimeout((function(){e.getMonacoEditor().layout()}),200),this.compiler=new hn(this),this.startTimer(),$(window).on("unload",(function(){navigator.sendBeacon&&null!=e.user&&(e.networkManager.sendUpdates(null,!1,!0),e.networkManager.sendUpdateUserSettings((function(){})),e.interpreter.closeAllWebsockets())}))}},{key:"startTimer",value:function(){null!=this.timerHandle&&clearInterval(this.timerHandle);var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"compileIfDirty",value:function(){var e,t;if(null!=this.currentWorkspace&&this.currentWorkspace.moduleStore.isDirty()&&this.compiler.compilerStatus!=ln.compiling&&this.interpreter.state!=Ka.running&&this.interpreter.state!=Ka.paused)try{this.compiler.compile(this.currentWorkspace.moduleStore);var n=null===(t=null===(e=this.bottomDiv)||void 0===e?void 0:e.errorManager)||void 0===t?void 0:t.showErrors(this.currentWorkspace);this.projectExplorer.renderErrorCount(this.currentWorkspace,n),this.editor.onDidChangeCursorPosition(null),this.printProgram(),this.projectExplorer&&this.version++;var i=null!=this.interpreter.getStartableModule(this.currentWorkspace.moduleStore);i&&this.interpreter.state==Ka.not_initialized&&(this.copyExecutableModuleStoreToInterpreter(),this.interpreter.setState(Ka.done)),i||this.interpreter.state!=Ka.done&&this.interpreter.state!=Ka.error||this.interpreter.setState(Ka.not_initialized),this.drawClassDiagrams(!this.rightDiv.isClassDiagramEnabled())}catch(e){console.error(e),this.compiler.compilerStatus=ln.error}}},{key:"printProgram",value:function(){this.bottomDiv.printModuleToBottomDiv(this.currentWorkspace,this.projectExplorer.getCurrentlyEditedModule())}},{key:"drawClassDiagrams",value:function(e){var t=this;clearTimeout(this.debounceDiagramDrawing),this.debounceDiagramDrawing=setTimeout((function(){var n,i;null===(i=null===(n=t.rightDiv)||void 0===n?void 0:n.classDiagram)||void 0===i||i.drawDiagram(t.currentWorkspace,e)}),500)}},{key:"copyExecutableModuleStoreToInterpreter",value:function(){var e=this.currentWorkspace.moduleStore.copy();this.interpreter.moduleStore=e,this.interpreter.moduleStoreVersion=this.version,this.interpreter.state==Ka.not_initialized&&this.programIsExecutable&&this.interpreter.setState(Ka.done)}},{key:"removeWorkspace",value:function(e){this.workspaceList.splice(this.workspaceList.indexOf(e),1)}},{key:"restoreWorkspaces",value:function(e,t){this.workspaceList=[],this.currentWorkspace=null,this.getMonacoEditor().updateOptions({readOnly:!0});var n=!0,i=!1,r=void 0;try{for(var o,a=e.workspaces[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=Mr.restoreFromData(s,this);this.workspaceList.push(l),s.id==this.user.currentWorkspace_id&&(this.currentWorkspace=l)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}t&&(new Ba).start(this.workspaceList,this.networkManager,this),this.projectExplorer.renderWorkspaces(this.workspaceList),null==this.currentWorkspace&&this.workspaceList.length>0&&(this.currentWorkspace=this.workspaceList[0]),null!=this.currentWorkspace?this.projectExplorer.setWorkspaceActive(this.currentWorkspace,!0):this.projectExplorer.setModuleActive(null),0==this.workspaceList.length&&Na.showHelper("newWorkspaceHelper",this,this.projectExplorer.workspaceListPanel.$captionElement)}},{key:"createNewWorkspace",value:function(e,t){return new Mr(e,this,t)}}])&&Ra(t.prototype,n),i&&Ra(t,i),e}();function Ga(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Na=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"openHelper",value:function(t,n,i){var r=jQuery(".jo_arrow_box");r.removeClass(["jo_arrow_box_left","jo_arrow_box_right","jo_arrow_box_top","jo_arrow_box_bottom"]),r.addClass("jo_arrow_box_"+i),r.css({left:"",right:"",top:"",bottom:""});var o=n.offset(),a=jQuery("body");switch(i){case"bottom":r.css({left:o.left+n.width()/2-34,bottom:a.height()-o.top+34});break;case"top":r.css({left:o.left+n.width()/2-34,top:o.top+n.height()+26});break;case"left":r.css({left:o.left+n.width()+34,top:o.top+n.height()/2-34});break;case"right":r.css({right:a.width()-o.left,top:o.top+n.height()/2-34})}r.find("span").html(t);var s=r.find(".jo_button");s.on("click",(function(t){t.stopPropagation(),s.off("click"),e.close()})),r.fadeIn(800)}},{key:"close",value:function(){jQuery(".jo_arrow_box").fadeOut(800)}},{key:"showHelper",value:function(t,n,i){var r;if(n instanceof Wa){var o=(r=n).user.settings.helperHistory;"speedControlHelper"==t&&o.speedControlHelperDone&&(t="stepButtonHelper");var a=t+"Done";if(null!=o&&(null==o[a]||!o[a])){o[a]=!0,r.networkManager.sendUpdateUserSettings((function(){}));var s="",l="left";switch(t){case"folderButton":s='Mit diesem Button k√∂nnen Sie in der Liste der Workspaces Ordner anlegen. \n                    <ul>\n                    <li>Bestehende Workspaces lassen sich mit der Maus in Ordner ziehen.</li>\n                    <li>Wollen Sie einen Workspace in die oberste Ordnerebene bringen, so ziehen Sie ihn einfach auf den "Workspaces"-Balken.</li>\n                    <li>√úber das Kontextmen√º der Ordner lassen sich Workspaces und Unterordner anlegen.</li>\n                    </ul>',l="top";break;case"repositoryButton":s='Wenn der aktuelle Workspace mit einem Repository verkn√ºft ist, erscheint hier der "Synchronisieren-Button". Ein Klick darauf √∂ffnet einen Dialog, in dem die Dateien des Workspace mit denen des Repositorys abgeglichen werden k√∂nnen.',l="top";break;case"speedControlHelper":s="Mit dem Geschwindigkeitsregler k√∂nnen  \n                            Sie einstellen, wie schnell das Programm abl√§uft. \n                            Bei Geschwindigkeiten bis 10 Steps/s wird \n                            w√§hrend des Programmablaufs der Programzeiger gezeigt\n                            und die Anzeige der Variablen auf der linken \n                            Seite stets aktualisiert.",l="top",i=r.interpreter.controlButtons.speedControl.$grip;break;case"newFileHelper":s="Es gibt noch keine Programmdatei im Workspace. <br> Nutzen Sie den Button \n                        <span class='img_add-file-dark jo_inline-image'></span> um eine Programmdatei anzulegen.\n                        ",l="left";break;case"newWorkspaceHelper":s="Es gibt noch keinen Workspace. <br> Nutzen Sie den Button\n                        <span class='img_add-workspace-dark jo_inline-image'></span> um einen Workspace anzulegen.\n                        ",l="left";break;case"homeButtonHelper":s="Mit dem Home-Button <span class='img_home-dark jo_inline-image'></span> k√∂nnen Sie wieder zu Ihren eigenen Workspaces wechseln.",l="top",i=jQuery(".img_home-dark");break;case"stepButtonHelper":s="Mit den Buttons \"Step over\"\n                        (<span class='img_step-over-dark jo_inline-image'></span>, Taste F8), \n                        \"Step into\" \n                        (<span class='img_step-into-dark jo_inline-image'></span>, Taste F7) und \n                        \"Step out\" \n                        (<span class='img_step-out-dark jo_inline-image'></span>, Taste F9)  \n                        k√∂nnen Sie das Programm schrittweise ausf√ºhren und sich nach jedem Schritt die Belegung der Variablen ansehen. <br>\n                        <ul><li><span class='img_step-over-dark jo_inline-image'></span> Step over f√ºhrt den n√§chsten Schritt aus, insbesondere werden Methodenaufrufe in einem Schritt durchgef√ºhrt.</li>\n                        <li><span class='img_step-into-dark jo_inline-image'></span> Step into f√ºhrt auch den n√§chsten Schritt aus, geht bei Methodenaufrufen aber in die Methode hinein und f√ºhrt auch die Anweisungen innerhalb der Methode schrittweise aus.</li>\n                        <li><span class='img_step-out-dark jo_inline-image'></span> Befindet sich die Programmausf√ºhrung innerhalb einer Methode, so bewirkt ein Klick auf Step out, dass der Rest der Methode ausgef√ºhrt wird und die Programmausf√ºhrung erst nach der Aufrufstelle der Methode anh√§lt.</li>\n                        </ul>\n                        ",l="top",i=r.interpreter.controlButtons.$buttonStepOver;break;case"consoleHelper":s="\n                        Hier k√∂nnen Sie Anweisungen oder Terme eingeben, die nach Best√§tigung mit der Enter-Taste ausgef√ºhrt/ausgewertet werden. Das Ergebnis sehen Sie im Bereich √ºber der Eingabezeile. <br>\n                        Falls das Programm gerade pausiert (z.B. bei Ausf√ºhrung in Einzelschritten) k√∂nnen Sie auch auf die Variablen des aktuellen Sichtbarkeitsbereiches zugreifen.\n                    ",l="bottom",i=r.bottomDiv.console.$consoleTab.find(".jo_monaco-editor")}""!=s&&null!=i&&i.length>0&&e.openHelper(s,i,l)}}}}],(n=null)&&Ga(t.prototype,n),i&&Ga(t,i),e}();function $a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Va=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.pressedKeys={},this.keyPressedCallbacks=[],this.keyUpCallbacks=[],this.keyDownCallbacks=[],this.registerListeners(t)}var t,n,i;return t=e,(n=[{key:"unregisterListeners",value:function(){this.element.off("keydown"),this.element.off("keyup"),this.element.off("keypressed")}},{key:"registerListeners",value:function(e){var t=this;this.element=e;var n=this;e.on("keydown",(function(e){var i=e.key;if(null==i)return!0;e.shiftKey&&(i="shift+"+i),e.ctrlKey&&(i="ctrl"+i),e.altKey&&(i="alt"+i),n.pressedKeys[i.toLowerCase()]=!0;var r=!0,o=!1,a=void 0;try{for(var s,l=n.keyDownCallbacks[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)(0,s.value)(i)}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return t.main.isEmbedded()&&t.main.getInterpreter().state==Ka.running&&!t.main.getMonacoEditor().hasTextFocus()&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.key)>=0&&e.preventDefault(),!0})),e.on("keyup",(function(e){var t=e.key;if(null==t)return!0;if(void 0!==t){e.shiftKey&&(t="shift+"+t),e.ctrlKey&&(t="ctrl"+t),e.altKey&&(t="alt"+t),n.pressedKeys[t.toLowerCase()]=!1;var i=!0,r=!1,o=void 0;try{for(var a,s=n.keyUpCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)(0,a.value)(t)}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}if(n.main.isEmbedded&&" "==t){var l=!0,u=!1,c=void 0;try{for(var d,h=n.keyPressedCallbacks[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)(0,d.value)(t)}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}return!0}})),e.on("keypress",(function(e){var t=e.key;e.shiftKey&&t.length>1&&(t="[shift]+"+t),e.ctrlKey&&t.length>1&&(t="[ctrl]+"+t),e.altKey&&t.length>1&&(t="[alt]+"+t);var i=!0,r=!1,o=void 0;try{for(var a,s=n.keyPressedCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)(0,a.value)(t)}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return!0}))}},{key:"isPressed",value:function(e){return null==e?null:1==this.pressedKeys[e.toLowerCase()]}},{key:"unsubscribeAllListeners",value:function(){this.keyPressedCallbacks=[]}}])&&$a(t.prototype,n),i&&$a(t,i),e}();function Ha(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ka,Qa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gamepads=[];var t=this;window.addEventListener("gamepadconnected",(function(e){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",e.gamepad.index,e.gamepad.id,e.gamepad.buttons.length,e.gamepad.axes.length),t.gamepads.indexOf(e.gamepad)<0&&t.gamepads.push(e.gamepad)})),window.addEventListener("gamepaddisconnected",(function(e){console.log("Gamepad disconnected from index %d: %s",e.gamepad.index,e.gamepad.id);var n=t.gamepads.indexOf(e.gamepad);n>=0&&t.gamepads.splice(n,1)}))}var t,n,i;return t=e,(n=[{key:"isGamepadButtonPressed",value:function(e,t){var n=navigator.getGamepads()[e];if(null==n)return!1;var i=n.buttons[t];return!!i&&i.pressed}},{key:"getGamepadAxisValue",value:function(e,t){var n=navigator.getGamepads()[e];return null==n?0:n.axes[t]}},{key:"isGamepadConnected",value:function(e){return null!=navigator.getGamepads()[e]}}])&&Ha(t.prototype,n),i&&Ha(t,i),e}();function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.not_initialized=0]="not_initialized",e[e.running=1]="running",e[e.paused=2]="paused",e[e.error=3]="error",e[e.done=4]="done",e[e.waitingForInput=5]="waitingForInput",e[e.waitingForTimersToEnd=6]="waitingForTimersToEnd"}(Ka||(Ka={}));var Xa=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.debugger_=n,this.controlButtons=i,this.moduleStoreVersion=-100,this.stepsPerSecond=2,this.maxStepsPerSecond=1e6,this.timerDelayMs=10,this.programStack=[],this.stack=[],this.stackframes=[],this.heap={},this.timerStopped=!0,this.timerExtern=!1,this.steps=0,this.timeNetto=0,this.timeWhenProgramStarted=0,this.stepOverNestingLevel=0,this.leaveLine=-1,this.additionalStepFinishedFlag=!1,this.isFirstStatement=!0,this.showProgrampointerUptoStepsPerSecond=15,this.webSocketsToCloseAfterProgramHalt=[],this.actions=["start","pause","stop","stepOver","stepInto","stepOut","restart"],this.buttonActiveMatrix={start:[!1,!1,!0,!0,!0,!1],pause:[!1,!0,!1,!1,!1,!1],stop:[!1,!0,!0,!1,!1,!0],stepOver:[!1,!1,!0,!0,!0,!1],stepInto:[!1,!1,!0,!0,!0,!1],stepOut:[!1,!1,!0,!1,!1,!1],restart:[!1,!0,!0,!0,!0,!0]},this.timerEvents=0,this.lastStepTime=0,this.lastTimeBetweenEvents=0,this.lastPrintedModule=null,this.runningStates=[Ka.paused,Ka.running,Ka.waitingForInput],this.printManager=new Ji(r,this.main),this.inputManager=new tr(r,this.main),t.isEmbedded()?this.keyboardTool=new Va(jQuery("html"),t):this.keyboardTool=new Va(jQuery(window),t),this.gamepadTool=new Qa,this.debugger=n,i.setInterpreter(this),this.timeWhenProgramStarted=performance.now(),this.steps=0,this.timeNetto=0,this.timerEvents=0,this.timerDelayMs=7;var o=this;this.timerId=setInterval((function(){o.timerExtern||o.timerFunction(o.timerDelayMs,!1,.7)}),this.timerDelayMs);var a=JSON.stringify({command:5});setInterval((function(){o.webSocketsToCloseAfterProgramHalt.forEach((function(e){return e.send(a)}))}),3e4)}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this,n=this.main.getActionManager(),i=function(){t.stepOverNestingLevel=1e6,t.start()},r=function(){t.pause()};n.registerAction("interpreter.start",["F4"],(function(){n.isActive("interpreter.start")?i():r()}),"Programm starten",this.controlButtons.$buttonStart),n.registerAction("interpreter.pause",["F4"],(function(){n.isActive("interpreter.start")?i():r()}),"Pause",this.controlButtons.$buttonPause),n.registerAction("interpreter.stop",[],(function(){t.stop(!1),t.steps=0}),"Programm anhalten",this.controlButtons.$buttonStop),n.registerAction("interpreter.stepOver",["F6"],(function(){e.oneStep(!1)}),"Einzelschritt (Step over)",this.controlButtons.$buttonStepOver),n.registerAction("interpreter.stepInto",["F7"],(function(){e.oneStep(!0)}),"Einzelschritt (Step into)",this.controlButtons.$buttonStepInto),n.registerAction("interpreter.stepOut",[],(function(){e.stepOut()}),"Step out",this.controlButtons.$buttonStepOut),n.registerAction("interpreter.restart",[],(function(){t.stop(!0)}),"Neu starten",this.controlButtons.$buttonRestart),this.setState(Ka.not_initialized)}},{key:"getStartableModule",value:function(e){var t,n=!1;if(null!=(t=this.main.getCurrentlyEditedModule())){var i=e.findModuleByFile(t.file);if(null!=i&&(n=!t.hasErrors()&&!i.isStartable,i.isStartable))return i}if(null!=this.mainModule&&n){var r=e.findModuleByFile(this.mainModule.file);if(null!=r&&r.isStartable)return r}if(n){var o=!0,a=!1,s=void 0;try{for(var l,u=e.getModules(!1)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.isStartable)return c}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}return null}},{key:"init",value:function(){var e,t,n,i;this.timerStopped=!0,this.main.getCurrentlyEditedModule().getBreakpointPositionsFromEditor(),null===(t=null===(e=this.main.getBottomDiv())||void 0===e?void 0:e.console)||void 0===t||t.clearExceptions(),this.moduleStoreVersion!=this.main.version&&this.main.getCompiler().atLeastOneModuleIsStartable&&(this.main.copyExecutableModuleStoreToInterpreter(),this.heap={},null===(i=null===(n=this.main.getBottomDiv())||void 0===n?void 0:n.console)||void 0===i||i.detachValues());var r=this.getStartableModule(this.moduleStore);if(null!=r){this.mainModule=r,this.currentProgramPosition=0,this.programStack=[],this.stack=[],this.stackframes=[],this.currentStackframe=0,this.setState(Ka.done),this.isFirstStatement=!0,this.stepOverNestingLevel=1e6,this.programStack.push({program:this.mainModule.mainProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Hauptprogramm",callbackAfterReturn:null,isCalledFromOutside:"Hauptprogramm"});var o=!0,a=!1,s=void 0;try{for(var l,u=this.moduleStore.getModules(!1)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this.initializeEnums(c),this.initializeClasses(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}this.popProgram()}else this.setState(Ka.not_initialized)}},{key:"popProgram",value:function(){var e=this.programStack.pop();if(this.currentProgram=e.program,this.currentProgramPosition=e.programPosition,this.currentMethod=e.method,this.currentCallbackAfterReturn=e.callbackAfterReturn,this.currentIsCalledFromOutside=e.isCalledFromOutside,null!=e.stackElementsToPushBeforeFirstExecuting){this.stackframes.push(null==this.currentStackframe?0:this.currentStackframe),this.currentStackframe=this.stack.length;var t=!0,n=!1,i=void 0;try{for(var r,o=e.stackElementsToPushBeforeFirstExecuting[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.stack.push(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}e.stackElementsToPushBeforeFirstExecuting=null}}},{key:"initializeClasses",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e.typeStore.typeList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a instanceof G&&(a.staticClass.classObject=new M(a.staticClass),a.pushStaticInitializationPrograms(this.programStack)),a instanceof Ht){var s=a.staticClass.classObject.attributes,l=!0,u=!1,c=void 0;try{for(var d,h=a.enumInfoList[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s[p.ordinal].value=p.object}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"initializeEnums",value:function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=e.typeStore.typeList[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s instanceof Ht){s.pushStaticInitializationPrograms(this.programStack);var l=[],u={module:s.module,labelManager:null,statements:[]},c=s.attributeInitializationProgram.statements.length>0;c&&this.programStack.push({program:u,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Attribut-Initialisierung der Klasse "+s.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung eines Enums"});var d=!0,h=!1,p=void 0;try{for(var f,y=s.enumInfoList[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value;v.object=new Vt(s,v),l.push({type:s,value:v.object}),null!=v.constructorCallProgram&&this.programStack.push({program:v.constructorCallProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Konstruktor von "+s.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung eines Enums"}),c&&u.statements.push({type:r.initializeEnumValue,position:v.position,enumClass:s,valueIdentifier:v.identifier})}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}c&&u.statements.push({type:r.programEnd,position:{line:0,column:0,length:1}}),s.valueList={type:new Y(s),value:l}}}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}},{key:"start",value:function(e){var t,n;null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.clearErrors(),this.callbackAfterExecution=e,this.isFirstStatement=!0,this.state!=Ka.error&&this.state!=Ka.done||(this.init(),this.resetRuntime()),this.setState(Ka.running),this.hideProgrampointerPosition(),this.timeWhenProgramStarted=performance.now(),this.timerStopped=!1,this.getTimerClass().startTimer()}},{key:"getTimerClass",value:function(){return this.main.getCurrentWorkspace().moduleStore.getModule("Base Module").typeStore.getType("Timer")}},{key:"timerFunction",value:function(e,t,n){var i=performance.now();if(!t){var o=1e3/this.stepsPerSecond;if(this.timerStopped||i-this.lastStepTime<o)return;this.lastStepTime=i}this.lastTimeBetweenEvents=i-this.lastStepTime;var a,s=t?Number.MAX_SAFE_INTEGER:this.stepsPerSecond*this.timerDelayMs/1e3;this.timerEvents++;for(var l=0;l<s&&!this.timerStopped&&null==a&&(performance.now()-i)/e<n&&null==(a=this.nextStep());){if(this.stepsPerSecond<=this.showProgrampointerUptoStepsPerSecond&&!t&&this.showProgramPointerAndVariables(),this.state!=Ka.error&&this.state!=Ka.done||(this.timerStopped=!0),this.stepOverNestingLevel<0&&!this.timerStopped){var u=this.currentProgram.statements[this.currentProgramPosition].position;null!=u&&u.line==this.leaveLine||(this.timerStopped=!0,this.setState(Ka.paused),this.comesStatement(r.closeStackframe)&&null==(a=this.nextStep())&&this.comesStatement(r.programEnd)&&(a=this.nextStep()))}l++}null!=a&&this.throwException(a),this.timerStopped&&(this.state!=Ka.paused&&this.state!=Ka.waitingForInput||this.showProgramPointerAndVariables(),null!=this.callbackAfterExecution&&(this.callbackAfterExecution(),this.callbackAfterExecution=null));var c=performance.now()-i;this.timeNetto+=c}},{key:"throwException",value:function(e){var t,n,i,r=this;this.timerStopped=!0,this.setState(Ka.error);var o=jQuery('<div class="jo_exception"></div>'),a=!0;if(this.main.isEmbedded()){var s=this.main.config;if(1!=s.withBottomPanel&&1!=s.withConsole){a=!1;var l="",u=this.currentProgram.statements[this.currentProgramPosition];if(null!=u){var c=null==u?void 0:u.position;l=" in Zeile "+c.line+", Spalte "+c.column,null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.showError(this.currentProgram.module,c)}alert("Fehler"+l+": "+e)}}if(a){o.append(jQuery("<span class='jo_error-caption'>Fehler:</span>&nbsp;"+e+"<br>")),this.pushCurrentProgram();for(var d=!0,h=function(e){var t=r.programStack[e],n=t.method instanceof S?t.method.identifier:t.method,i="<span class='jo_error-caption'>"+(d?"Ort":"aufgerufen von")+": </span>"+n;null!=t.textPosition&&(i+=" <span class='jo_runtimeErrorPosition'>(Z "+t.textPosition.line+", S "+t.textPosition.column+")</span>"),i+="<br>";var a=jQuery(i);if(null!=t.textPosition){var s=r;jQuery(a[2]).on("mousedown",(function(){var e,n;null===(n=null===(e=s.main.getBottomDiv())||void 0===e?void 0:e.console)||void 0===n||n.showError(t.program.module,t.textPosition)}))}if(o.append(a),d=!1,null!=t.isCalledFromOutside)return"break"},p=this.programStack.length-1;p>=0&&"break"!==h(p);p--);var f=null===(i=this.main.getBottomDiv())||void 0===i?void 0:i.console;null!=f&&(f.writeConsoleEntry(o,null,"rgba(255, 0, 0, 0.4"),f.showTab())}}},{key:"hideProgrampointerPosition",value:function(){this.state==Ka.running&&this.stepsPerSecond>this.showProgrampointerUptoStepsPerSecond&&this.main.hideProgramPointerPosition()}},{key:"comesStatement",value:function(e){return null!=this.currentProgram&&!(this.currentProgramPosition>this.currentProgram.statements.length-1)&&this.currentProgram.statements[this.currentProgramPosition].type==e}},{key:"resetRuntime",value:function(){var e,t,n;this.printManager.clear(),null===(e=this.worldHelper)||void 0===e||e.destroyWorld(),null===(t=this.processingHelper)||void 0===t||t.destroyWorld(),null===(n=this.gngEreignisbehandlungHelper)||void 0===n||n.detachEvents(),this.gngEreignisbehandlungHelper=null}},{key:"stop",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inputManager.hide(),this.setState(Ka.paused),this.timerStopped=!0,null!=this.worldHelper&&(this.worldHelper.spriteAnimations=[]),null===(e=this.gngEreignisbehandlungHelper)||void 0===e||e.detachEvents(),this.gngEreignisbehandlungHelper=null,this.main.hideProgramPointerPosition(),this.getTimerClass().stopTimer(),null!=this.worldHelper&&this.worldHelper.cacheAsBitmap(),this.heap={},this.programStack=[],this.stack=[],this.stackframes=[],setTimeout((function(){t.setState(Ka.done),t.main.hideProgramPointerPosition(),n&&t.start()}),500)}},{key:"pause",value:function(){this.setState(Ka.paused),this.showProgramPointerAndVariables(),this.timerStopped=!0}},{key:"showProgramPointerAndVariables",value:function(){if(null!=this.currentProgram){var e=this.currentProgram.statements[this.currentProgramPosition];if(null!=e){var t=e.position;null!=t&&(this.main.showProgramPointerPosition(this.currentProgram.module.file,t),this.debugger.showData(this.currentProgram,t,this.stack,this.currentStackframe,this.heap),null!=this.main.getBottomDiv().programPrinter&&(this.currentProgram.module!=this.lastPrintedModule&&(this.main.getBottomDiv().printModuleToBottomDiv(null,this.currentProgram.module),this.lastPrintedModule=this.currentProgram.module),this.main.getBottomDiv().programPrinter.showNode(e)))}}}},{key:"stepOut",value:function(){this.stepOverNestingLevel=0,this.start()}},{key:"oneStep",value:function(e){var t,n;if(null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.clearErrors(),this.isFirstStatement=!0,this.state!=Ka.paused){if(this.init(),this.state==Ka.not_initialized)return;this.resetRuntime(),this.showProgramPointerAndVariables(),this.setState(Ka.paused)}else{this.stepOverNestingLevel=1e4;var i=this.stepOverNestingLevel,r=this.currentProgram.statements[this.currentProgramPosition].position,o=this.nextStep();if(null!=o)return void this.throwException(o);!e&&this.stepOverNestingLevel>i?(this.stepOverNestingLevel=0,this.leaveLine=null!=r?r.line:-1,this.start()):this.state==Ka.done?this.main.hideProgramPointerPosition():(this.showProgramPointerAndVariables(),this.state!=Ka.waitingForInput&&this.setState(Ka.paused))}}},{key:"nextStep",value:function(){for(var e,t,n=!1;!n&&!this.additionalStepFinishedFlag&&null==t;){if(this.currentProgramPosition>this.currentProgram.statements.length-1){this.setState(Ka.done);break}null!=(e=this.currentProgram.statements[this.currentProgramPosition]).stepFinished&&(n=e.stepFinished),t=this.executeNode(e)}return this.additionalStepFinishedFlag=!1,this.steps++,t}},{key:"executeNode",value:function(e){var t,n,i=this;if(null!=e.breakpoint&&!this.isFirstStatement)return this.additionalStepFinishedFlag=!0,void this.pause();this.isFirstStatement=!1;var o,a=this.stack.length-1,s=this.currentStackframe,l=this.stack;switch(e.type){case r.castValue:var u=null==e.stackPosRelative?0:e.stackPosRelative;o=l[a+u],l[a+u]=o.type.castTo(o,e.newType);break;case r.checkCast:if(null==(o=l[a]).value)break;var c=o.value;if(e.newType instanceof G)if("object"==Ua(c)){if(!c.class.hasAncestorOrIs(e.newType))return"Das Objekt der Klasse "+c.class.identifier+" kann nicht nach "+e.newType.identifier+" gecastet werden."}else{if("number"==typeof c&&["Integer","Double","Float"].indexOf(e.newType.identifier)<0)return"Eine Zahl kann nicht nach "+e.newType.identifier+" gecastet werden.";if("string"==typeof c&&["String","Character"].indexOf(e.newType.identifier)<0)return"Eine Zeichenkette kann nicht nach "+e.newType.identifier+" gecastet werden.";if("boolean"==typeof c&&"Boolean"!=e.newType.identifier)return"Ein boolescher Wert kann nicht nach "+e.newType.identifier+" gecastet werden."}else if(e.newType instanceof V&&!c.class.implementsInterface(e.newType))return"Das Objekt der Klasse "+c.class.identifier+" implementiert nicht das Interface "+e.newType.identifier+".";break;case r.localVariableDeclaration:var d=e.variable,h=d.type;o={type:h,value:null},h instanceof w&&(o.value=h.initialValue),l[d.stackPos+s]=o,e.pushOnTopOfStackForInitialization&&l.push(o);break;case r.pushLocalVariableToStack:l.push(l[e.stackposOfVariable+s]);break;case r.popAndStoreIntoVariable:l[e.stackposOfVariable+s]=l.pop();break;case r.pushAttribute:var p=e.useThisObject?l[s].value:l.pop().value;if(null==p)return"Zugriff auf ein Attribut ("+e.attributeIdentifier+") des null-Objekts";var f=p.getValue(e.attributeIndex);null!=(null==f?void 0:f.updateValue)&&f.updateValue(f),l.push(f);break;case r.pushArrayLength:var y=l.pop().value;if(null==y)return"Zugriff auf das length-Attribut des null-Objekts";l.push({type:st,value:y.length});break;case r.assignment:o=l.pop(),l[a-1].value=o.value,l[a-1].type instanceof w||(l[a-1].type=o.type),e.leaveValueOnStack||l.pop();break;case r.plusAssignment:o=l.pop(),l[a-1].value+=o.value;break;case r.minusAssignment:o=l.pop(),l[a-1].value-=o.value;break;case r.multiplicationAssignment:o=l.pop(),l[a-1].value*=o.value;break;case r.divisionAssignment:o=l.pop(),l[a-1].value/=o.value;break;case r.moduloAssignment:o=l.pop(),l[a-1].value%=o.value;break;case r.ANDAssigment:o=l.pop(),l[a-1].value&=o.value;break;case r.ORAssigment:o=l.pop(),l[a-1].value|=o.value;break;case r.XORAssigment:o=l.pop(),l[a-1].value^=o.value;break;case r.shiftLeftAssigment:o=l.pop(),l[a-1].value<<=o.value;break;case r.shiftRightAssigment:o=l.pop(),l[a-1].value>>=o.value;break;case r.shiftRightUnsignedAssigment:o=l.pop(),l[a-1].value>>>=o.value;break;case r.binaryOp:var v=l.pop(),m=e.leftType.compute(e.operator,l[a-1],v),g=e.leftType.getResultType(e.operator,v.type);l[a-1]={type:g,value:m};break;case r.unaryOp:var b=l.pop();e.operator==r.minus?l.push({type:b.type,value:-b.value}):l.push({type:b.type,value:!b.value});break;case r.pushConstant:l.push({value:e.value,type:e.dataType});break;case r.pushStaticClassObject:e.klass instanceof G?l.push({type:e.klass.staticClass,value:e.klass.staticClass.classObject}):l.push({type:e.klass,value:e.klass});break;case r.pushStaticAttribute:null!=(o=e.klass.classObject.getValue(e.attributeIndex)).updateValue&&o.updateValue(o),l.push(o);break;case r.selectArrayElement:var k=l.pop(),S=l.pop();if(null==S.value)return"Zugriff auf ein Element eines null-Feldes";if(k.value>=S.value.length||k.value<0)return"Zugriff auf das Element mit Index "+k.value+" eines Feldes der L√§nge "+S.value.length;l.push(S.value[k.value]);break;case r.callMainMethod:this.stack.push({value:e.staticClass.classObject,type:e.staticClass});var P={value:[{value:"Test",type:ht}],type:new Y(ht)},x=a+2;this.stack.push(P),this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=x,this.currentProgram=e.method.program,this.currentMethod=e.method,this.currentProgramPosition=-1;for(var T=0;T<e.method.reserveStackForLocalVariables;T++)l.push(null);break;case r.makeEllipsisArray:var C=l.splice(l.length-e.parameterCount,e.parameterCount);l.push({value:C,type:e.arrayType});break;case r.callMethod:for(var j=e.method,O=a+1+e.stackframeBegin,E=j.parameterlist.parameters,A=O+1;A<=a;A++)null!=this.stack[A]&&this.stack[A].type instanceof w&&(l[A]={type:E[A-O-1].type,value:l[A].value});if(null==l[O].value&&!j.isStatic)return"Aufruf der Methode "+j.identifier+" des null-Objekts";if(j.isAbstract||j.isVirtual&&!e.isSuperCall){var D=l[O];j=D.value instanceof M?D.value.class.getMethodBySignature(j.signature):D.type.getMethodBySignature(j.signature)}if(null==j)break;if(null!=j.invoke){var F=j.getReturnType(),I=l.splice(O),_=j.invoke(I);null!=F&&"void"!=F.identifier&&l.push({value:_,type:F})}else{this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=O,this.currentProgram=j.program,this.currentMethod=j,this.currentProgramPosition=-1;for(var z=0;z<j.reserveStackForLocalVariables;z++)l.push(null);this.stepOverNestingLevel++,this.additionalStepFinishedFlag=!0}break;case r.callInputMethod:var L=e.method,B=a+1+e.stackframeBegin,R=l.splice(B);this.timerStopped=!0;var W=this.state;this.setState(Ka.waitingForInput),this.showProgramPointerAndVariables();var N=this;this.inputManager.readInput(L,R,(function(e){l.push(e),i.main.hideProgramPointerPosition(),N.setState(Ka.paused),W==Ka.running?N.start():N.showProgramPointerAndVariables()}));break;case r.return:this.return(e,l);break;case r.decreaseStackpointer:l.splice(a+1-e.popCount);break;case r.initStackframe:this.stackframes.push(this.currentStackframe),this.currentStackframe=a+1;for(var $=0;$<e.reserveForLocalVariables;$++)l.push(null);break;case r.closeStackframe:l.splice(s),this.currentStackframe=this.stackframes.pop();break;case r.newObject:o={value:new M(e.class),type:e.class},l.push(o),e.subsequentConstructorCall&&(l.push(o),a++);for(var H=e.class;null!=H;){var K=H.attributeInitializationProgram;K.statements.length>0&&(this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=a+1,this.currentProgram=K,this.currentProgramPosition=-1,this.currentMethod="Konstruktor von "+H.identifier,this.stepOverNestingLevel++,this.additionalStepFinishedFlag=!0),H=H.baseClass}break;case r.processPostConstructorCallbacks:var Q=(o=l[a]).type,U=!0,Z=!1,X=void 0;try{for(var q,J=Q.getPostConstructorCallbacks()[Symbol.iterator]();!(U=(q=J.next()).done);U=!0)(0,q.value)(o.value)}catch(e){Z=!0,X=e}finally{try{U||null==J.return||J.return()}finally{if(Z)throw X}}break;case r.extendedForLoopInit:l[e.stackPosOfCounter+s]={type:st,value:0};break;case r.extendedForLoopCheckCounterAndGetElement:var ee=l[e.stackPosOfCounter+s].value++,te=l[e.stackPosOfCollection+s].value;switch(e.kind){case"array":ee<te.length?(l[e.stackPosOfElement+s].value=te[ee].value,l[e.stackPosOfElement+s].type=te[ee].type):this.currentProgramPosition=e.destination-1;break;case"internalList":var ne=te.intrinsicData.ListHelper.valueArray;ee<ne.length?(l[e.stackPosOfElement+s].value=ne[ee].value,l[e.stackPosOfElement+s].type=ne[ee].type):this.currentProgramPosition=e.destination-1;break;case"group":var ie=te.intrinsicData.Actor.shapes;ee<ie.length?(l[e.stackPosOfElement+s].value=ie[ee],l[e.stackPosOfElement+s].type=ie[ee].klass):this.currentProgramPosition=e.destination-1}break;case r.incrementDecrementBefore:(o=l[a]).value+=e.incrementDecrementBy;break;case r.incrementDecrementAfter:o=l[a],l[a]={value:o.value,type:o.type},o.value+=e.incrementDecrementBy;break;case r.jumpAlways:this.currentProgramPosition=e.destination-1;break;case r.jumpIfTrue:(o=l.pop()).value&&(this.currentProgramPosition=e.destination-1);break;case r.jumpIfFalse:(o=l.pop()).value||(this.currentProgramPosition=e.destination-1);break;case r.jumpIfTrueAndLeaveOnStack:(o=l[a]).value&&(this.currentProgramPosition=e.destination-1);break;case r.jumpIfFalseAndLeaveOnStack:(o=l[a]).value||(this.currentProgramPosition=e.destination-1);break;case r.noOp:break;case r.programEnd:if(this.programStack.length>0){this.popProgram(),this.currentProgramPosition--,this.additionalStepFinishedFlag=!0,this.leaveLine=-1,e.pauseAfterProgramEnd&&(this.stepOverNestingLevel=-1);break}if(null!=this.worldHelper&&this.worldHelper.hasActors()||null!=this.processingHelper||null!=this.gngEreignisbehandlungHelper&&this.gngEreignisbehandlungHelper.hasAktionsEmpfaenger()){this.currentProgramPosition--;break}if(this.main.getCurrentWorkspace().moduleStore.getModule("Base Module").typeStore.getType("Timer").timerEntries.length>0){this.currentProgramPosition--;break}if(this.currentProgram=null,this.currentProgramPosition=-1,this.additionalStepFinishedFlag=!0,Na.showHelper("speedControlHelper",this.main),this.printManager.showProgramEnd(),this.steps>0){var re=performance.now()-this.timeWhenProgramStarted,oe="Executed "+this.steps+" steps in "+this.round(re)+" ms ("+this.round(this.steps/re*1e3)+" steps/s)";null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.writeConsoleEntry(oe,null),this.steps=-1}this.currentProgramPosition--,this.stop();break;case r.print:case r.println:var ae=null,se=null;e.withColor&&(se=l.pop().value),e.empty||(ae=l.pop().value),e.type==r.println?this.printManager.println(ae,se):this.printManager.print(ae,se);break;case r.pushEmptyArray:for(var le=[],ue=0;ue<e.dimension;ue++)le.push(l.pop().value);l.push(this.makeEmptyArray(le,e.arrayType));break;case r.beginArray:l.push({type:e.arrayType,value:[]});break;case r.addToArray:a-=e.numberOfElementsToAdd;var ce=l.splice(a+1,e.numberOfElementsToAdd).map((function(e){return{type:e.type,value:e.value}}));l[a].value=l[a].value.concat(ce);break;case r.pushEnumValue:var de=e.enumClass.identifierToInfoMap[e.valueIdentifier];l.push(e.enumClass.valueList.value[de.ordinal]);break;case r.keywordSwitch:var he=l.pop().value,pe=e.destinationMap[he];null!=pe?this.currentProgramPosition=pe-1:null!=e.defaultDestination&&(this.currentProgramPosition=e.defaultDestination-1);break;case r.heapVariableDeclaration:var fe=e.variable;this.heap[fe.identifier]=fe,fe.value={type:fe.type,value:fe.type instanceof w?fe.type.initialValue:null},e.pushOnTopOfStackForInitialization&&this.stack.push(fe.value);break;case r.pushFromHeapToStack:var ye=this.heap[e.identifier];if(null==ye)return"Die Variable "+e.identifier+" ist nicht bekannt.";this.stack.push(ye.value);break;case r.returnIfDestroyed:var ve=this.stack[s].value;null!=ve&&1==ve.intrinsicData.Actor.isDestroyed&&this.return(null,l)}this.currentProgramPosition++}},{key:"return",value:function(e,t){var n=this.currentCallbackAfterReturn;if(null!=e&&e.copyReturnValueToStackframePos0){var i=t.pop();t[this.currentStackframe]=i,t.splice(this.currentStackframe+1)}else t.splice(this.currentStackframe+(null!=e&&e.leaveThisObjectOnStack?1:0));this.currentStackframe=this.stackframes.pop(),this.popProgram(),null!=e&&1==e.methodWasInjected&&this.currentProgramPosition++,this.currentProgramPosition--,this.stepOverNestingLevel--,null!=n&&n(this)}},{key:"makeEmptyArray",value:function(e,t){var n=t.arrayOfType;if(1==e.length){for(var i=[],r=0;r<e[0];r++){var o={type:n,value:null};n instanceof w&&(o.value=n.initialValue),i.push(o)}return{type:t,value:i}}for(var a=[],s=e.pop(),l=0;l<s;l++)a.push(this.makeEmptyArray(e,n));return{type:t,value:a}}},{key:"round",value:function(e){return""+Math.round(1e4*e)/1e4}},{key:"setState",value:function(e){var t,n=this.state;this.state=e,e!=Ka.error&&e!=Ka.done||this.closeAllWebsockets();var i=this.main.getActionManager(),r=!0,o=!1,a=void 0;try{for(var s,l=this.actions[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i.setActive("interpreter."+u,this.buttonActiveMatrix[u][e])}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}this.buttonActiveMatrix.start[e]?(this.controlButtons.$buttonStart.show(),this.controlButtons.$buttonPause.hide()):(this.controlButtons.$buttonStart.hide(),this.controlButtons.$buttonPause.show()),this.buttonActiveMatrix.stop[e]||(null!=this.worldHelper&&this.worldHelper.clearActorLists(),null===(t=this.gngEreignisbehandlungHelper)||void 0===t||t.detachEvents(),this.gngEreignisbehandlungHelper=null),this.runningStates.indexOf(n)>=0&&this.runningStates.indexOf(e)<0&&(this.debugger.disable(),this.keyboardTool.unsubscribeAllListeners()),this.runningStates.indexOf(n)<0&&this.runningStates.indexOf(e)>=0&&this.debugger.enable()}},{key:"closeAllWebsockets",value:function(){this.webSocketsToCloseAfterProgramHalt.forEach((function(e){return e.close()})),this.webSocketsToCloseAfterProgramHalt=[]}},{key:"pushCurrentProgram",value:function(){if(null!=this.currentProgram){var e,t=this.currentProgram.statements[this.currentProgramPosition];null!=t&&(e=t.position),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition,textPosition:e,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:this.currentIsCalledFromOutside}),this.currentCallbackAfterReturn=null,this.currentIsCalledFromOutside=null}}},{key:"runTimer",value:function(e,t,n,i){if(this.state==Ka.running){var o=e.program.statements;i||0==this.programStack.length?(this.pushCurrentProgram(),this.currentProgram=e.program,this.currentMethod=e,this.currentProgramPosition=0,this.currentCallbackAfterReturn=n,this.currentIsCalledFromOutside="Timer",this.stackframes.push(this.currentStackframe),this.currentStackframe=this.stack.length,this.stack=this.stack.concat(t),o[o.length-1].type==r.return&&this.stepOverNestingLevel++):(this.programStack.splice(1,0,{program:e.program,programPosition:0,textPosition:{line:0,column:0,length:0},method:e,callbackAfterReturn:n,isCalledFromOutside:"Timer",stackElementsToPushBeforeFirstExecuting:t}),o[o.length-1].type==r.return&&this.stepOverNestingLevel++)}}},{key:"evaluate",value:function(e){this.pushCurrentProgram(),this.currentProgram=e,this.currentProgramPosition=0;var t,n,i=this.stack.length,r=this.state,o=this.stepOverNestingLevel,a=this.additionalStepFinishedFlag,s=(this.currentStackframe,0);try{for(;null==t&&(this.currentProgram!=e||this.currentProgramPosition<this.currentProgram.statements.length)&&s<1e5;)t=this.nextStep(),s++}catch(e){t="Fehler bei der Auswertung"}if(this.currentProgram==e&&this.programStack.length>0&&this.popProgram(),this.stack.length>i)for(n=this.stack.pop();this.stack.length>i;)this.stack.pop();return this.stepOverNestingLevel=o,this.additionalStepFinishedFlag=a,this.setState(r),{error:t,value:n}}},{key:"executeImmediatelyInNewStackframe",value:function(e,t){this.pushCurrentProgram(),this.currentProgram=e;var n=this.currentProgramPosition;this.currentProgramPosition=0;var i=this.stackframes.length;this.stackframes.push(this.currentStackframe);var r=this.stack.length;this.currentStackframe=r;var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this.stack.push(c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var d,h=this.state,p=this.stepOverNestingLevel,f=this.additionalStepFinishedFlag,y=0,v=null;try{for(;this.stackframes.length>i&&y<1e5&&null==v;){var m=this.currentProgram.statements[this.currentProgramPosition];v=this.executeNode(m),y++}}catch(e){v="Fehler bei der Auswertung"}if(1e5==y&&this.throwException("Die Ausf√ºhrung des Konstruktors dauerte zu lange."),this.stack.length>r)for(d=this.stack.pop();this.stack.length>r;)this.stack.pop();return this.stepOverNestingLevel=p,this.additionalStepFinishedFlag=f,this.currentProgramPosition=n,this.setState(h),{error:v,value:d}}},{key:"instantiateObjectImmediately",value:function(e){for(var t=new M(e),n={value:t,type:e},i=e;null!=i;){var r=i.attributeInitializationProgram;r.statements.length>0&&this.executeImmediatelyInNewStackframe(r,[n]),i=i.baseClass}var o=e.getMethodBySignature(e.identifier+"()");return null!=o&&null!=o.program&&this.executeImmediatelyInNewStackframe(o.program,[n]),t}}])&&Za(t.prototype,n),i&&Za(t,i),e}();function qa(e){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t,n){return(Ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=is(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function es(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ts(e,t,n){return t&&es(e.prototype,t),n&&es(e,n),e}function ns(e,t){return!t||"object"!==qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&os(e,t)}function os(e,t){return(os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var as=function(e){function t(e){var n;Ja(this,t),(n=ns(this,is(t).call(this,"World",e,"Grafische Zeichenfl√§che mit Koordinatensystem"))).module=e,n.setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("Group"),r=e.typeStore.getType("Shape"),o=e.typeStore.getType("MouseListener");return n.addMethod(new S("World",new P([{identifier:"breite",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"h√∂he",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,i=e[1].value,r=e[2].value,o=n.getWorldHelper(t,i,r);t.intrinsicData.World=o}),!1,!1,"Legt einen neuen Grafikbereich (='Welt') an",!0)),n.addMethod(new S("World",new P([]),null,(function(e){var t=e[0].value,i=n.getWorldHelper(t);t.intrinsicData.World=i}),!1,!1,"Legt einen neuen Grafikbereich (='Welt') an. Das Koordinatensystem geht von 0 bis 800 in x-Richtung und von 0 - 600 in y-Richtung.",!0)),n.addMethod(new S("setBackgroundColor",new P([{identifier:"colorAsRGBInt",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.setBackgroundColor(n)}),!1,!1,'Setzt die Hintergrundfarbe. Die Farbe wird als integer-Zahl erwartet. Am besten schreibt man sie als Hexadezimalzahl, also z.B. setBackgroundColor(0xff8080)."',!1)),n.addMethod(new S("setBackgroundColor",new P([{identifier:"colorAsRGBAString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.setBackgroundColor(n)}),!1,!1,'Setzt die Hintergrundfarbe. Die Farbe ist entweder eine vordefinierte Farbe ("schwarz", "rot", ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new S("move",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.World,o=(new PIXI.Matrix).copyFrom(r.stage.projectionTransform);r.stage.projectionTransform.identity(),r.stage.projectionTransform.translate(n,i),r.stage.projectionTransform.prepend(o),r.computeCurrentWorldBounds(),r.shapesNotAffectedByWorldTransforms.forEach((function(e){return e.move(-n,-i)}))}),!1,!1,"Verschiebt alle Objekte der Welt um x nach rechts und y nach unten.",!1)),n.addMethod(new S("follow",new P([{identifier:"shape",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"margin",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"xMin",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"xMax",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"yMin",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"yMax",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=e[5].value,s=e[6].value,l=t.intrinsicData.World,u=n.intrinsicData.Actor,c=0,d=0,h=u.getCenterX(),p=u.getCenterY(),f=h-(l.currentLeft+l.currentWidth-i);f>0&&l.currentLeft+l.currentWidth<o&&(c=-f);var y=l.currentLeft+i-h;y>0&&l.currentLeft>r&&(c=y);var v=p-(l.currentTop+l.currentHeight-i);v>0&&l.currentTop+l.currentHeight<=s&&(d=-v);var m=l.currentTop+i-p;if(m>0&&l.currentTop>=a&&(d=m),0!=c||0!=d){var g=(new PIXI.Matrix).copyFrom(l.stage.projectionTransform);l.stage.projectionTransform.identity(),l.stage.projectionTransform.translate(c,d),l.stage.projectionTransform.prepend(g),l.computeCurrentWorldBounds(),l.shapesNotAffectedByWorldTransforms.forEach((function(e){return e.move(-c,-d)}))}}),!1,!1,"Verschiebt die Welt so, dass das √ºbergebene graphische Objekt (shape) sichtbar wird. Verschoben wird nur, wenn das Objekt weniger als frameWidth vom Rand entfernt ist und die Welt nicht √ºber die gegebenen Koordinaten xMin, xMax, yMin und yMax hinausragt.",!1)),n.addMethod(new S("rotate",new P([{identifier:"angleInDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.World,a=-n/180*Math.PI,s=(new PIXI.Matrix).copyFrom(o.stage.projectionTransform);o.stage.projectionTransform.identity(),o.stage.projectionTransform.translate(-i,-r),o.stage.projectionTransform.rotate(a),o.stage.projectionTransform.translate(i,r),o.stage.projectionTransform.prepend(s),o.computeCurrentWorldBounds(),o.shapesNotAffectedByWorldTransforms.forEach((function(e){e.rotate(-n,i,r)}))}),!1,!1,"Rotiert die Welt um den angegebenen Winkel im Urzeigersinn. Drehpunkt ist der Punkt (x/y).",!1)),n.addMethod(new S("scale",new P([{identifier:"factor",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.World,a=(new PIXI.Matrix).copyFrom(o.stage.projectionTransform);o.stage.projectionTransform.identity(),o.stage.projectionTransform.translate(-i,-r),o.stage.projectionTransform.scale(n,n),o.stage.projectionTransform.translate(i,r),o.stage.projectionTransform.prepend(a),o.computeCurrentWorldBounds(),o.shapesNotAffectedByWorldTransforms.forEach((function(e){return e.scale(1/n,i,r)}))}),!1,!1,"Streckt die Welt um den angegebenen Faktor. Zentrum der Streckung ist (x/y).",!1)),n.addMethod(new S("setCoordinateSystem",new P([{identifier:"left",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.World;a.stage.projectionTransform.identity(),a.stage.projectionTransform.translate(-n,-i),a.stage.projectionTransform.scale(a.initialWidth/r,a.initialHeight/o),a.computeCurrentWorldBounds(),a.shapesNotAffectedByWorldTransforms.forEach((function(e){e.scale(r/a.initialWidth,n,i),e.move(n,i)}))}),!1,!1,"Streckt die Welt um den angegebenen Faktor. Zentrum der Streckung ist (x/y).",!1)),n.addMethod(new S("setDefaultGroup",new P([{identifier:"group",type:i,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.defaultGroup=null==n?null:n.intrinsicData.Actor}),!1,!1,"Legt eine Gruppe fest, zu der ab jetzt alle neuen Objekte automatisch hinzugef√ºgt werden. Falls null angegeben wird, werden neue Objekte zu keiner Gruppe automatisch hinzugef√ºgt.",!1)),n.addMethod(new S("addMouseListener",new P([{identifier:"listener",type:o,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.addMouseListener(n)}),!1,!1,"F√ºgt einen neuen MouseListener hinzu, dessen Methoden bei Mausereignissen aufgerufen werden.",!1)),n.addMethod(new S("getWidth",new P([]),st,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentWidth)}),!1,!1,'Gibt die "Breite" des Grafikbereichs zur√ºck, genauer: die x-Koordinate am rechten Rand.',!1)),n.addMethod(new S("getHeight",new P([]),st,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentHeight)}),!1,!1,'Gibt die "H√∂he" des Grafikbereichs zur√ºck, genauer: die y-Koordinate am unteren Rand.',!1)),n.addMethod(new S("getTop",new P([]),st,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentTop)}),!1,!1,"Gibt die y-Koordinate der linken oberen Ecke zur√ºck.",!1)),n.addMethod(new S("getLeft",new P([]),st,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentLeft)}),!1,!1,"Gibt die x-Koordinate der linken oberen Ecke zur√ºck.",!1)),n.addMethod(new S("setCursor",new P([{identifier:"cursor",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.World,n=e[1].value;t.setCursor(n)}),!1,!1,"√Ñndert die Form des Mauscursors im gesamten Grafikbereich. M√∂giche Werte: siehe https://developer.mozilla.org/de/docs/Web/CSS/cursor.",!1)),n}return rs(t,e),ts(t,[{key:"getWorldHelper",value:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,s=null===(i=null===(n=null===(t=this.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter())||void 0===i?void 0:i.worldHelper;if(null!=s){if(s.width!=o||s.height!=a){var l=Math.round(a/o*100);s.$containerOuter.css("padding-bottom",l+"%"),s.stage.projectionTransform.scale(s.width/o,s.width/a),null===(r=this.module.main.getRightDiv())||void 0===r||r.adjustWidthToWorld()}return s}return new ls(o,a,this.module,e)}}]),t}(G),ss=function(e){function t(e,n){var i;return Ja(this,t),(i=ns(this,is(t).call(this))).sourceFrame=e,i.destinationFrame=n,i.projectionTransform=new PIXI.Matrix,i}return rs(t,PIXI.Container),ts(t,[{key:"render",value:function(e){e.projection.projectionMatrix.identity(),e.projection.transform=this.projectionTransform,e.renderTexture.bind(e.renderTexture.current,this.sourceFrame,this.destinationFrame),Ya(is(t.prototype),"render",this).call(this,e),e.batch.flush(),e.batch.flush(),e.projection.projectionMatrix.identity(),e.projection.transform=null,e.renderTexture.bind(null)}}]),t}(),ls=function(){function e(t,n,i,r){var o,a,s,l=this;for(Ja(this,e),this.width=t,this.height=n,this.module=i,this.world=r,this.actActors=[],this.keyPressedActors=[],this.keyUpActors=[],this.keyDownActors=[],this.actorHelpersToDestroy=[],this.mouseListenerShapes=[],this.mouseListeners=[],this.actorsFinished=!0,this.summedDelta=0,this.scaledTextures={},this.shapes=[],this.shapesNotAffectedByWorldTransforms=[],this.actorsNotFinished=0,this.ticks=0,this.deltaSum=0,this.spriteAnimations=[],PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST,PIXI.settings.TARGET_FPMS=.03,this.globalScale=1;n>1e3||t>2e3;)this.globalScale*=2,n/=2,t/=2;this.initialHeight=this.height,this.initialWidth=this.width,this.currentLeft=0,this.currentTop=0,this.currentWidth=this.width,this.currentHeight=this.height,this.interpreter=null===(a=null===(o=this.module)||void 0===o?void 0:o.main)||void 0===a?void 0:a.getInterpreter(),null!=this.interpreter.processingHelper&&this.interpreter.throwException("Die herk√∂mmliche Grafikausgabe kann nicht zusammen mit Processing genutzt werden."),null!=this.interpreter.worldHelper&&this.interpreter.throwException("Es darf nur ein World-Objekt instanziert werden."),this.interpreter.worldHelper=this;var u=this.module.main.getInterpreter().printManager.getGraphicsDiv();this.$coordinateDiv=this.module.main.getRightDiv().$rightDiv.find(".jo_coordinates");var c=function(){var e=u.parents(".jo_tabs");0==e.length&&(e=u.parents(".joe_rightDivInner"));var i=e.width(),r=e.height();n/t>r/i?u.css({width:t/n*r+"px",height:r+"px"}):u.css({height:n/t*i+"px",width:i+"px"})};u.off("sizeChanged"),u.on("sizeChanged",c),c(),this.$containerOuter=jQuery("<div></div>"),this.$containerInner=jQuery("<div></div>"),this.$containerOuter.append(this.$containerInner),u.append(this.$containerOuter),u.show(),u[0].oncontextmenu=function(e){e.preventDefault()},this.module.main.pixiApp?(this.app=this.module.main.pixiApp,this.app.renderer.resize(t,n),this.app.renderer.backgroundColor=0):(this.app=new PIXI.Application({antialias:!0,width:t,height:n}),this.module.main.pixiApp=this.app);var d=this;this.tickerFunction=function(e){d.tick(PIXI.Ticker.shared.elapsedMS)},this.app.ticker.add(this.tickerFunction),this.app.ticker.maxFPS=30,this.interpreter.timerExtern=!0;var h=new PIXI.Rectangle(0,0,this.width,this.height),p=new PIXI.Rectangle(0,0,t,n);this.stage=new ss(h,p),this.stage.projectionTransform=new PIXI.Matrix,this.app.stage.addChild(this.stage),this.$containerInner.append(this.app.view),this.interpreter.keyboardTool.keyPressedCallbacks.push((function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=d.keyPressedActors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;d.runActorWhenKeyEvent(a,e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}})),this.interpreter.keyboardTool.keyUpCallbacks.push((function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=d.keyUpActors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;d.runActorWhenKeyEvent(a,e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}})),this.interpreter.keyboardTool.keyDownCallbacks.push((function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=d.keyDownActors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;d.runActorWhenKeyEvent(a,e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}));for(var f=function(){var e=v[y],i=e;window.PointerEvent&&(i=i.replace("mouse","pointer")),l.$containerInner.on(i,(function(i){var r=t*i.offsetX/l.$containerInner.width(),o=n*i.offsetY/l.$containerInner.height(),a=new PIXI.Point(r*l.globalScale,o*l.globalScale);l.stage.projectionTransform.applyInverse(a,a),r=a.x,o=a.y,d.onMouseEvent(e,r,o,i.button);var s=!0,u=!1,c=void 0;try{for(var h,p=l.mouseListeners[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var f=h.value;null!=f.types[e]&&l.invokeMouseListener(f,e,r,o,i.button)}}catch(e){u=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}if("mousedown"==e){var y=l.interpreter.gngEreignisbehandlungHelper;null!=y&&y.handleMouseClickedEvent(r,o)}}))},y=0,v=["mouseup","mousedown","mousemove","mouseenter","mouseleave"];y<v.length;y++)f();var m=this.$coordinateDiv,g=window.PointerEvent?"pointer":"mouse";this.$containerInner.on(g+"move",(function(e){var i=t*e.offsetX/l.$containerInner.width(),r=n*e.offsetY/l.$containerInner.height(),o=new PIXI.Point(i*l.globalScale,r*l.globalScale);l.stage.projectionTransform.applyInverse(o,o),i=Math.round(o.x),r=Math.round(o.y),m.text("(".concat(i,"/").concat(r,")"))})),this.$containerInner.on(g+"enter",(function(e){m.show()})),this.$containerInner.on(g+"leave",(function(e){m.hide()})),null===(s=this.module.main.getRightDiv())||void 0===s||s.adjustWidthToWorld()}return ts(e,[{key:"clearActorLists",value:function(){this.actActors=[],this.keyPressedActors=[],this.keyUpActors=[],this.keyDownActors=[]}},{key:"computeCurrentWorldBounds",value:function(){var e=new PIXI.Point(0,0);this.stage.projectionTransform.applyInverse(e,e);var t=new PIXI.Point(this.initialWidth,this.initialHeight);this.stage.projectionTransform.applyInverse(t,t),this.currentLeft=e.x,this.currentTop=e.y,this.currentWidth=Math.abs(t.x-e.x),this.currentHeight=Math.abs(t.y-e.y)}},{key:"hasActors",value:function(){return this.actActors.length>0||this.keyPressedActors.length>0||this.keyUpActors.length>0||this.keyDownActors.length>0||this.mouseListeners.length>0||this.mouseListenerShapes.length>0}},{key:"setAllHitpolygonsDirty",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.shapes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.setHitPolygonDirty(!0)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"setCursor",value:function(e){this.$containerInner.css("cursor",e)}},{key:"tick",value:function(e){var t;if(null!=this.interpreter){switch(this.interpreter.state){case Ka.running:this.summedDelta+=e;var n=!0,i=!1,r=void 0;try{for(var o,a=this.spriteAnimations[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.tick(e)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}if(!this.actorsFinished){this.actorsNotFinished++;break}var s=!0,l=!0,u=!1,c=void 0;try{for(var d,h=this.actActors[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=p.actorHelper;if(!f.timerPaused&&!f.isDestroyed){var y=null===(t=p.method)||void 0===t?void 0:t.program;this.runActor(s,p,this.summedDelta),null==y||p.actorHelper.isDestroyed||(s=!1,this.actorsFinished=!1)}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}break;case Ka.done:case Ka.error:case Ka.not_initialized:this.clearActorLists()}this.summedDelta=0,this.interpreter.state==Ka.running&&(this.actActors.length>0?(this.interpreter.timerFunction(33.33,!0,.5),this.interpreter.state==Ka.running&&(this.interpreter.timerStopped=!1,this.interpreter.timerFunction(33.33,!1,.08))):this.interpreter.timerFunction(33.33,!1,.7))}for(;this.actorHelpersToDestroy.length>0;){for(var v=this.actorHelpersToDestroy.pop(),m=0,g=[this.keyPressedActors,this.keyUpActors,this.keyDownActors];m<g.length;m++)for(var b=g[m],w=0;w<b.length;w++)b[w].actorHelper===v&&(b.splice(w,1),w--);for(var k=0;k<this.mouseListenerShapes.length;k++)this.mouseListenerShapes[k].shapeHelper===v&&(this.mouseListenerShapes.splice(k,1),k--);for(var S=0;S<this.actActors.length;S++)this.actActors[S].actorHelper===v&&(this.actActors.splice(S,1),S--);var P=v.displayObject;null!=P&&(P.destroy(),v.displayObject=null)}}},{key:"setBackgroundColor",value:function(e){if("string"==typeof e){var t=Mt.parseColorToOpenGL(e);this.app.renderer.backgroundColor=t.color}else this.app.renderer.backgroundColor=e}},{key:"runActorWhenKeyEvent",value:function(e,t){var n,i,r=null===(n=e.method)||void 0===n?void 0:n.program,o=null===(i=e.method)||void 0===i?void 0:i.invoke,a=e.actorHelper.runtimeObject,s=[{type:a.class,value:a},{type:ht,value:t}];null!=r?this.interpreter.runTimer(e.method,s,null,!1):null!=o&&o([])}},{key:"runActor",value:function(e,t,n){var i,r,o=null===(i=t.method)||void 0===i?void 0:i.program,a=null===(r=t.method)||void 0===r?void 0:r.invoke,s=t.actorHelper.runtimeObject,l=[{type:s.class,value:s}];t.method.getParameterCount()>0&&l.push({type:ut,value:n});var u=this;null!=o?this.interpreter.runTimer(t.method,l,e?function(e){u.actorsFinished=!0,e.timerStopped=!0}:null,!0):null!=a&&a([])}},{key:"cacheAsBitmap",value:function(){var e=this,t=1;this.currentWidth*this.currentHeight>25e5&&(t=Math.sqrt(25e5/(this.currentWidth*this.currentHeight))),this.currentWidth*this.currentHeight<1048576&&(t=Math.sqrt(1048576/(this.currentWidth*this.currentHeight)));var n=new PIXI.BaseRenderTexture({scaleMode:PIXI.SCALE_MODES.LINEAR,width:Math.round(this.currentWidth*t),height:Math.round(this.currentHeight*t)}),i=new PIXI.RenderTexture(n),r=(new PIXI.Matrix).scale(t,t);setTimeout((function(){e.app.renderer.render(e.stage,{renderTexture:i,transform:r})}),150),setTimeout((function(){e.stage.children.forEach((function(e){return e.destroy()})),e.stage.removeChildren();var t=new PIXI.Sprite(i);t.localTransform.scale(e.globalScale,e.globalScale),t.transform.onChange(),e.stage.projectionTransform=new PIXI.Matrix,e.stage.addChild(t)}),300)}},{key:"destroyWorld",value:function(){for(var e=0,t=["mouseup","mousedown","mousemove","mouseenter","mouseleave"];e<t.length;e++){var n=t[e];this.$containerInner.off(n)}this.spriteAnimations=[],this.app.ticker.remove(this.tickerFunction),this.app.stage.children.forEach((function(e){return e.destroy()})),this.app.stage.removeChildren(),jQuery(this.app.view).detach(),this.$containerOuter.remove(),this.module.main.getInterpreter().printManager.getGraphicsDiv().hide(),this.interpreter.timerExtern=!1,this.interpreter.worldHelper=null,this.$coordinateDiv.hide()}},{key:"onMouseEvent",value:function(e,t,n,i){var r=this;switch(e){case"mousedown":case"mouseup":var o=!0,a=!1,s=void 0;try{for(var l,u=this.mouseListenerShapes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=c.shapeHelper;null!=c.types[e]&&(d.containsPoint(t,n)||d.trackMouseMove)&&this.invokeShapeMouseListener(c,e,t,n,i)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}break;case"mouseenter":var h=!0,p=!1,f=void 0;try{for(var y,v=function(){var o=y.value,a=o.shapeHelper;null!=o.types[e]&&a.containsPoint(t,n)&&!a.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(o,e,t,n,i,(function(){a.mouseLastSeenInsideObject=!0}))},m=this.mouseListenerShapes[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)v()}catch(e){p=!0,f=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw f}}break;case"mouseleave":var g=!0,b=!1,w=void 0;try{for(var k,S=function(){var o=k.value,a=o.shapeHelper;null!=o.types[e]&&a.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(o,e,t,n,i,(function(){a.mouseLastSeenInsideObject=!1}))},P=this.mouseListenerShapes[Symbol.iterator]();!(g=(k=P.next()).done);g=!0)S()}catch(e){b=!0,w=e}finally{try{g||null==P.return||P.return()}finally{if(b)throw w}}break;case"mousemove":var x=!0,T=!1,M=void 0;try{for(var C,j=function(){var e=C.value,o=e.shapeHelper;if(null!=e.types.mousemove||null!=e.types.mouseenter&&!o.mouseLastSeenInsideObject||null!=e.types.mouseleave&&o.mouseLastSeenInsideObject){var a=o.containsPoint(t,n);(o.trackMouseMove||a)&&null!=e.types.mousemove&&r.invokeShapeMouseListener(e,"mousemove",t,n,i),a&&null!=e.types.mouseenter&&!o.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(e,"mouseenter",t,n,i,(function(){o.mouseLastSeenInsideObject=!0})),!a&&null!=e.types.mouseleave&&o.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(e,"mouseleave",t,n,i,(function(){o.mouseLastSeenInsideObject=!1}))}},O=this.mouseListenerShapes[Symbol.iterator]();!(x=(C=O.next()).done);x=!0)j()}catch(e){T=!0,M=e}finally{try{x||null==O.return||O.return()}finally{if(T)throw M}}}}},{key:"invokeShapeMouseListener",value:function(e,t,n,i,r,o){if(e.shapeHelper.reactToMouseEventsWhenInvisible||e.shapeHelper.displayObject.visible){var a=e.methods[t],s=a.program,l=a.invoke,u=e.shapeHelper.runtimeObject,c=[{type:u.class,value:u},{type:ut,value:n},{type:ut,value:i}];"mousemove"!=t&&"mouseenter"!=t&&"mouseleave"!=t&&c.push({type:st,value:r}),null!=s?this.interpreter.runTimer(a,c,o,!1):null!=l&&l([])}}},{key:"addMouseListener",value:function(e){var t=this.mouseListenerShapes.findIndex((function(t){return t.shapeHelper.runtimeObject==e}));t>=0&&this.mouseListenerShapes.splice(t,1);for(var n=null,i=0,r=[{identifier:"MouseUp",signature:"(double, double, int)"},{identifier:"MouseDown",signature:"(double, double, int)"},{identifier:"MouseMove",signature:"(double, double)"},{identifier:"MouseEnter",signature:"(double, double)"},{identifier:"MouseLeave",signature:"(double, double)"}];i<r.length;i++){var o=r[i],a=e.class.getMethodBySignature("on"+o.identifier+o.signature);(null!=(null==a?void 0:a.program)&&a.program.statements.length>2||null!=(null==a?void 0:a.invoke))&&(null==n&&(n={listener:e,types:{},methods:{}},this.mouseListeners.push(n)),n.types[o.identifier.toLowerCase()]=!0,n.methods[o.identifier.toLowerCase()]=a)}}},{key:"invokeMouseListener",value:function(e,t,n,i,r,o){var a=e.methods[t],s=a.program,l=a.invoke,u=e.listener,c=[{type:u.class,value:u},{type:ut,value:n},{type:ut,value:i}];"mousemove"!=t&&"mouseenter"!=t&&"mouseleave"!=t&&c.push({type:st,value:r}),null!=s?this.interpreter.runTimer(a,c,o,!1):null!=l&&l([])}}]),e}();function us(e){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hs(e,t,n){return t&&ds(e.prototype,t),n&&ds(e,n),e}function ps(e,t){return!t||"object"!==us(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fs(e){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t){return(ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vs=function(e){function t(e){var n;cs(this,t),(n=ps(this,fs(t).call(this,"Actor",e,"Abstrakte Klasse mit √ºberschreibbaren Methoden act (zur Implemntierung eines Timers) und onKeyTyped, onKeyUp usw. zur entgegennahme von Tastaturereignissen"))).setBaseClass(e.typeStore.getType("Object")),n.isAbstract=!0;var i=[{signature:"onKeyTyped(String)",actorListIdentifier:"keyPressedActors"},{signature:"onKeyUp(String)",actorListIdentifier:"keyUpActors"},{signature:"onKeyDown(String)",actorListIdentifier:"keyDownActors"},{signature:"act()",actorListIdentifier:"actActors"},{signature:"act(double)",actorListIdentifier:"actActors"}];return n.postConstructorCallbacks=[function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=e.class.getMethodBySignature(s.signature);if(null!=(null==l?void 0:l.program)||null!=(null==l?void 0:l.invoke)){var u=e.intrinsicData.Actor;u.worldHelper[s.actorListIdentifier].push({actorHelper:u,method:l})}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}],n.addMethod(new S("Actor",new P([]),null,(function(t){var n=t[0].value,i=new ms(e.main.getInterpreter(),n);n.intrinsicData.Actor=i}),!1,!1,"Der Konstruktor registriert den Actor beim Grafikfenster",!0)),n.addMethod(new S("destroy",new P([]),null,(function(e){e[0].value.intrinsicData.Actor.destroy()}),!1,!1,"Vernichtet das Grafikobjekt. Falls es in einem Group-Objekt enthalten ist, wird es vor dem Vernichten automatisch aus diesem entfernt.",!1)),n.addMethod(new S("isKeyUp",new P([{identifier:"key",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return!t.intrinsicData.Actor.isKeyDown(n)}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Benutzer die gegebenen Taste gerade NICHT dr√ºckt. Als Taste kann auch bsw. [shift]+m angegeben werden. Die Angabe von Sondertasten (Enter, ArrowUp, ArrowLeft, ...) ist auch m√∂glich.",!1)),n.addMethod(new S("isKeyDown",new P([{identifier:"key",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Actor.isKeyDown(n)}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Benutzer die gegebenen Taste gerade dr√ºckt. Als Taste kann auch bsw. [shift]+m angegeben werden. Die Angabe von Sondertasten (Enter, ArrowUp, ArrowLeft, ...) ist auch m√∂glich.",!1)),n.addMethod(new S("isGamepadButtonDown",new P([{identifier:"gamepadIndex",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"buttonIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.isGamepadButtonPressed(n,i)}),!1,!1,"Gibt genau dann true zur√ºck, wenn der Button buttonIndex des Gamepads GamepadIndex gedr√ºckt ist.",!1)),n.addMethod(new S("isGamepadConnected",new P([{identifier:"gamepadIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(t){t[0].value;var n=t[1].value;return e.main.getInterpreter().gamepadTool.isGamepadConnected(n)}),!1,!1,"Gibt true zur√ºck, falls das Gamepad mit dem √ºbergebenen Index angeschlossen ist. VORSICHT: Das erste Gamepad hat Index 0.",!1)),n.addMethod(new S("getGamepadAxisValue",new P([{identifier:"gamepadIndex",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"axisIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.getGamepadAxisValue(n,i)}),!1,!1,"Gibt den Wert des Gamepad-Steuerkn√ºppels mit Index axisIndex zur√ºck.",!1)),n.addMethod(new S("isDestroyed",new P([]),ct,(function(e){return e[0].value.intrinsicData.Actor.isDestroyed}),!1,!1,"Gibt true zur√ºck, falls das Objekt bereits durch die Methode destroy() zerst√∂rt wurde.",!1)),n.addMethod(new S("getWorld",new P([]),e.typeStore.getType("World"),(function(t){t[0].value.intrinsicData.Actor;var n=e.main.getInterpreter(),i=n.worldHelper;if(null==i){var r=new M(n.moduleStore.getType("World").type);i=new ls(800,600,n.moduleStore.getModule("Base Module"),r)}return i.world}),!1,!1,"Gibt das Welt-Objekt zur√ºck.",!1)),n.addMethod(new S("stopActing",new P([]),at,(function(e){e[0].value.intrinsicData.Actor.setTimerPaused(!0)}),!1,!1,"Stoppt den 30-mal pro Sekunde erfolgenden Aufruf der Methode act f√ºr dieses Objekt.",!1)),n.addMethod(new S("restartActing",new P([]),at,(function(e){e[0].value.intrinsicData.Actor.setTimerPaused(!1)}),!1,!1,"Startet den 30-mal pro Sekunde erfolgenden Aufruf der Methode act f√ºr dieses Objekt erneut.",!1)),n.addMethod(new S("isActing",new P([]),ct,(function(e){return!e[0].value.intrinsicData.Actor.timerPaused}),!1,!1,"Gibt true zur√ºck, wenn der periodische Aufruf der Methode act weiterhin erfolgt.",!1)),n.addMethod(new S("act",new P([{identifier:"deltaTime",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird ca. 30-mal pro Sekunde aufgerufen",!1)),n.addMethod(new S("act",new P([]),null,null,!1,!1,"Wird ca. 30-mal pro Sekunde aufgerufen",!1)),n.addMethod(new S("onKeyTyped",new P([{identifier:"key",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste gedr√ºckt und wieder losgelassen hat.",!1)),n.addMethod(new S("onKeyDown",new P([{identifier:"key",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste gedr√ºckt hat.",!1)),n.addMethod(new S("onKeyUp",new P([{identifier:"key",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste losgelassen hat.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(t,e),hs(t,[{key:"registerWorldType",value:function(){this.methods.filter((function(e){return"getWorld"==e.identifier}))[0].returnType=this.module.typeStore.getType("World")}}]),t}(G),ms=function(){function e(t,n){cs(this,e),this.runtimeObject=n,this.isDestroyed=!1,this.timerPaused=!1;var i=t.worldHelper;if(null==i){var r=new M(t.moduleStore.getType("World").type);i=new ls(800,600,t.moduleStore.getModule("Base Module"),r),r.intrinsicData.World=i,n.intrinsicData.isGNG&&i.setBackgroundColor("#e6e6e6")}this.worldHelper=i}return hs(e,[{key:"setTimerPaused",value:function(e){this.timerPaused=e}},{key:"isKeyDown",value:function(e){return this.worldHelper.interpreter.keyboardTool.isPressed(e)}},{key:"destroy",value:function(){this.isDestroyed=!0,this.worldHelper.actorHelpersToDestroy.push(this)}},{key:"testdestroyed",value:function(e){return!!this.isDestroyed&&(this.worldHelper.interpreter.throwException("Es wurde die Methode "+e+" eines bereits mit destroy() zerst√∂rten Grafikobjekts aufgerufen."),!0)}}]),e}();function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){return!t||"object"!==gs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t){return(ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ss=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=bs(this,ws(t).call(this,"Alignment",e,[{type:r.pushEnumValue,position:null,identifier:"left"},{type:r.pushEnumValue,position:null,identifier:"center"},{type:r.pushEnumValue,position:null,identifier:"right"},{type:r.pushEnumValue,position:null,identifier:"top"},{type:r.pushEnumValue,position:null,identifier:"bottom"}]))).documentation="M√∂gliche Ausrichtungen",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ks(e,t)}(t,e),t}(Ht);function Ps(e,t,n,i,r){var o=t.x-e.x,a=t.y-e.y,s=n.x-i.x,l=n.y-i.y,u=n.x-e.x,c=n.y-e.y,d=o*l-a*s;if(d*d<1e-6)return!1;var h=(u*l-c*s)/d,p=(o*c-a*u)/d,f=h>=0&&h<=1&&p>=0&&p<=1;return f&&null!=r&&(r.x=e.x+h*(t.x-e.x),r.y=e.y+h*(t.y-e.y)),f}function xs(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}function Ts(e,t){for(var n=!1,i=e.length,r=0;r<=i-1;r++){var o=r%i,a=(r-1)%i;a<0&&(a+=i),e[o].y>t.y!=e[a].y>t.y&&t.x<(e[a].x-e[o].x)*(t.y-e[o].y)/(e[a].y-e[o].y)+e[o].x&&(n=!n)}return n}function Ms(e,t,n,i,r){var o=n.x,a=n.y,s=i.x,l=i.y,u=(s-o)*(s-o)+(l-a)*(l-a),c=2*(o-e.x)*(s-o)+2*(a-e.y)*(l-a),d=c*c-4*u*((o-e.x)*(o-e.x)+(a-e.y)*(a-e.y)-t*t);if(!(d<0)){var h=Math.sqrt(d),p=(-c+h)/(2*u),f=(-c-h)/(2*u);p>=0&&p<=1&&r.push({x:o+p*(s-o),y:a+p*(l-a)}),f>=0&&f<=1&&r.push({x:o+f*(s-o),y:a+f*(l-a)})}}function Cs(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=i*i+r*r,a=((-e.x+n.x)*i+(-e.y+n.y)*r)/o;if(a<0)return xs(e,n);if(a>1)return xs(t,n);var s=e.x+a*(t.x-e.x),l=e.y+a*(t.y-e.y),u=n.x-s,c=n.y-l;return Math.sqrt(u*u+c*c)}function js(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(r*r+i*i);return o<1e-9?xs(e,n):Math.abs(r*n.x-i*n.y+t.x*e.y-t.y*e.x)/o}function Os(e){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function As(e,t,n){return(As="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Is(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fs(e,t){return!t||"object"!==Os(t)&&"function"!=typeof t?_s(e):t}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ls(e,t)}function Ls(e,t){return(Ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bs=function(e){function t(e){var n;Ds(this,t),(n=Fs(this,Is(t).call(this,"Shape",e,"Basisklasse f√ºr alle graphischen Objekte die verschoben, skaliert und gedreht werden k√∂nnen"))).setBaseClass(e.typeStore.getType("Actor")),n.isAbstract=!0;var i=e.typeStore.getType("Shape"),r=e.typeStore.getType("Direction"),o=(new Y(i),e.typeStore.getType("Vector2"));return n.addAttribute(new k("angle",ut,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.angle}),!1,j.protected,!0,"Richtung")),n.addAttribute(new k("centerX",ut,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.getCenterX()}),!1,j.protected,!0,"X-Koordinate des Diagonalenschnittpunkts der BoundingBox des Objekts")),n.addAttribute(new k("centerY",ut,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.getCenterY()}),!1,j.protected,!0,"Y-Koordinate des Diagonalenschnittpunkts der BoundingBox des Objekts")),n.setupAttributeIndicesRecursive(),n.addMethod(new S("move",new P([{identifier:"dx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dy",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("move")||r.move(n,i)}),!1,!1,"Verschiebt das Grafikobjekt um dx Pixel nach rechts und um dy Pixel nach unten.",!1)),n.addMethod(new S("rotate",new P([{identifier:"angleInDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerX",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerY",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("rotate")||o.rotate(n,i,r)}),!1,!1,"Dreht das Grafikobjekt um den angegebenen Winkel. Drehpunkt ist (centerX, centerY).",!1)),n.addMethod(new S("rotate",new P([{identifier:"angleInDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("rotate")||i.rotate(n)}),!1,!1,"Dreht das Grafikobjekt um den angegebenen Winkel. Drehpunkt ist der 'Mittelpunkt' des Objekts",!1)),n.addMethod(new S("scale",new P([{identifier:"factor",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerX",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerY",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("scale")||o.scale(n,i,r)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der Punkt (centerX, centerY)",!1)),n.addMethod(new S("scale",new P([{identifier:"factor",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("scale")||i.scale(n)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der 'Mittelpunkt' des Objekts.",!1)),n.addMethod(new S("mirrorX",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.mirrorXY(-1,1)}),!1,!1,"Spiegelt das Objekt in X-Richtung.",!1)),n.addMethod(new S("mirrorY",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.mirrorXY(1,-1)}),!1,!1,"Spiegelt das Objekt in Y-Richtung.",!1)),n.addMethod(new S("isOutsideView",new P([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("isOutsideView"))return t.isOutsideView()}),!1,!1,"Gibt genau dann true zur√ºck, wenn sich die Bounding Box des Objekts au√üerhalb des sichtbaren Bereichs befindet. ",!1)),n.addMethod(new S("getCenterX",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getCenterX"))return t.getCenterX()}),!1,!1,"Gibt die x-Koordinate des 'Mittelpunkts' zur√ºck. Der 'Mittelpunkt' des Grafikobjekts ist der Diagonalenschnittpunkt seiner achsenparallelen Bounding-Box.",!1)),n.addMethod(new S("getCenterY",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getCenterY"))return t.getCenterY()}),!1,!1,"Gibt die y-Koordinate des 'Mittelpunkts' zur√ºck. Der 'Mittelpunkt' des Grafikobjekts ist der Diagonalenschnittpunkt seiner achsenparallelen Bounding-Box.",!1)),n.addMethod(new S("getAngle",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getAngle"))return t.angle}),!1,!1,"Gibt den Winkel des Grafikobjekts in Grad zur√ºck. Winkel == 0 bedeutet: dieselbe Richtung wie zum Zeipunkt der Instanzierung des Objekts. Positive Winkelzunahme bedeutet Rechtsdrehung.",!1)),n.addMethod(new S("containsPoint",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;if(!r.testdestroyed("containsPoint"))return r.containsPoint(n,i)}),!1,!1,"Gibt genau dann true zur√ºck, wenn das Grafikobjekt den Punkt (x, y) enth√§lt.",!1)),n.addMethod(new S("collidesWith",new P([{identifier:"object",type:_s(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(t){var n=t[0].value,i=t[1].value;null==i&&e.main.getInterpreter().throwException("Der Parameter der Methode collidesWith darf nicht null sein.");var r=n.intrinsicData.Actor,o=i.intrinsicData.Actor;if(!r.testdestroyed("collidesWith")){if(!o.isDestroyed)return r.collidesWith(o);r.worldHelper.interpreter.throwException("Die der Methode collidesWith als Parameter √ºbergebene Figur ist bereits zerst√∂rt.")}}),!1,!1,"Gibt genau dann true zur√ºck, wenn das Grafikobjekt und das andere Grafikobjekt kollidieren.",!1)),n.addMethod(new S("moveBackFrom",new P([{identifier:"otherShape",type:_s(n),declaration:null,usagePositions:null,isFinal:!0},{identifier:"keepColliding",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value;null==i&&e.main.getInterpreter().throwException("Der erste Parameter der Methode moveBackFrom darf nicht null sein.");var o=n.intrinsicData.Actor,a=i.intrinsicData.Actor;o.testdestroyed("moveBackFrom")||(a.isDestroyed?o.worldHelper.interpreter.throwException("Die der Methode moveBackFrom als Parameter √ºbergebene Figur ist bereits zerst√∂rt."):o.moveBackFrom(a,r))}),!1,!1,"R√ºckt das Objekt entlang der letzten durch move vorgegebenen Richtung zur√ºck, bis es das √ºbergebene Objekt gerade noch (keepColliding == true) bzw. gerade nicht mehr (keepColliding == false) ber√ºhrt.",!1)),n.addMethod(new S("directionRelativeTo",new P([{identifier:"otherShape",type:_s(n),declaration:null,usagePositions:null,isFinal:!0}]),r,(function(t){var n=t[0].value,i=t[1].value;null==i&&e.main.getInterpreter().throwException("Der erste Parameter der Methode directionRelativeTo darf nicht null sein.");var o=n.intrinsicData.Actor,a=i.intrinsicData.Actor;if(!o.testdestroyed("directionRelativeTo")){if(!a.isDestroyed)return o.directionRelativeTo(a,r);o.worldHelper.interpreter.throwException("Die der Methode directionRelativeTo als Parameter √ºbergebene Figur ist bereits zerst√∂rt.")}}),!1,!1,"Gibt die Richtung (top, right, bottom oder left) zur√ºck, in der das graphische Objekt relativ zum √ºbergebenen graphischen Objekt steht.",!1)),n.addMethod(new S("moveTo",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("moveTo")||t.move(n-t.getCenterX(),i-t.getCenterY())}),!1,!1,"Verschiebt das Grafikobjekt so, dass sich sein 'Mittelpunkt' an den angegebenen Koordinaten befindet.",!1)),n.addMethod(new S("defineCenter",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("defineCenter")||t.defineCenter(n,i)}),!1,!1,"Setzt fest, wo der 'Mittelpunkt' des Objekts liegen soll. Dieser Punkt wird als Drehpunkt der Methode rotate, als Zentrum der Methode Scale und als Referenzpunkt der Methode moveTo benutzt.",!1)),n.addMethod(new S("defineCenterRelative",new P([{identifier:"xRel",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"yRel",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("defineCenterRelative")||t.defineCenterRelative(n,i)}),!1,!1,"Setzt fest, wo der 'Mittelpunkt' des Objekts liegen soll. Dabei bedeutet (XRel/YRel) = (0/0) die linke obere Ecke der Bounding Box des Objekts, (XRel/YRel) = (1/1) die rechte untere Ecke. Defaultwert ist (XRel/YRel) = (0.5/0.5), also der Diagonalenschnittpunkt der Bounding Box. Dieser Punkt wird als Drehpunkt der Methode rotate, als Zentrum der Methode Scale und als Referenzpunkt der Methode moveTo benutzt.\n\nVORSICHT: Diese Methode arbeitet nicht mehr korrekt, wenn das Objekt schon gedreht wurde!",!1)),n.addMethod(new S("setAngle",new P([{identifier:"angleDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setAngle")||t.rotate(n-t.angle)}),!1,!1,"Dreht das Objekt zur angegebenen Richtung.",!1)),n.addMethod(new S("setVisible",new P([{identifier:"visible",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setVisible")||t.setVisible(n)}),!1,!1,"Macht das Grafikobjekt sichtbar (visible == true) bzw. unsichtbar (visible == false).",!1)),n.addMethod(new S("setStatic",new P([{identifier:"isStatic",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setStatic")||t.setStatic(n)}),!1,!1,"setStatic(true) hat zur Folge, dass die Ansicht des Objekts durch Transformationen des World-Objekts nicht ver√§ndert wird.",!1)),n.addMethod(new S("onMouseEnter",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil in das Objekt hineinbewegt.",!1)),n.addMethod(new S("onMouseLeave",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil in das Objekt hineinbewegt.",!1)),n.addMethod(new S("onMouseDown",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"key",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil √ºber dem Objekt befindet und der Benutzer eine Maustaste nach unten dr√ºckt.",!1)),n.addMethod(new S("onMouseUp",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"key",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil √ºber dem Objekt befindet und der Benutzer eine Maustaste losl√§sst.",!1)),n.addMethod(new S("onMouseMove",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil √ºber dem Objekt befindet und bewegt.",!1)),n.addMethod(new S("tint",new P([{identifier:"colorAsRGBAString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"√úberzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht.",!1)),n.addMethod(new S("tint",new P([{identifier:"colorAsInt",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"√úberzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht. Die Farbe wird als int-Wert angegeben, praktischerweise hexadezimal, also z.B. tint(0x303030).",!1)),n.addMethod(new S("startTrackingEveryMouseMovement",new P([]),at,(function(e){e[0].value.intrinsicData.Actor.trackMouseMove=!0}),!1,!1,'Sorgt daf√ºr, dass ab jetzt JEDE Bewegung des Mauszeigers (auch wenn sich dieser au√üerhalb des Objekts befindet) ein MouseMove-Ereignis f√ºr dieses Objekt ausl√∂st. -> Praktisch zur Umsetzung des "Ziehens" von Objekten mit der Maus!',!1)),n.addMethod(new S("stopTrackingEveryMouseMovement",new P([]),at,(function(e){e[0].value.intrinsicData.Actor.trackMouseMove=!1}),!1,!1,'Sorgt daf√ºr, dass ab jetzt nur noch dann Bewegungen des Mauszeigers ein MouseMove-Ereignis f√ºr dieses Objekt ausl√∂sen, wenn sich der Mauszeiger √ºber dem Objekt befindet. -> Praktisch zur Umsetzung des "Ziehens" von Objekten mit der Maus!',!1)),n.addMethod(new S("reactToMouseEventsWhenInvisible",new P([{identifier:"react",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.reactToMouseEventsWhenInvisible=n}),!1,!1,"Legt fest, ob das Objekt auf Mausevents (buttondown, mouse move, ...) reagiert, wenn es unsichtbar ist.",!1)),n.addMethod(new S("tint",new P([{identifier:"colorAsRGBAString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"√úberzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht.",!1)),n.addMethod(new S("defineDirection",new P([{identifier:"angleInDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("defineDirection")||(i.directionRad=n/180*Math.PI)}),!1,!1,"Setzt die Blickrichtung des graphischen Objekts. Dies ist die Richtung, in die es durch Aufruf der Methode forward bewegt wird. \nBemerkung: die Methode rotate √§ndert auch die Blickrichtung!",!1)),n.addMethod(new S("forward",new P([{identifier:"distance",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("forward")||i.forward(n)}),!1,!1,"Bewegt das Objekt um die angegebene L√§nge in Richtung seiner Blickrichtung.\nBemerkung: Die Blickrichtung kann mit defineDirection gesetzt werden.",!1)),n.addMethod(new S("copy",new P([]),_s(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!0,!1,"Erstellt eine Kopie des Grafikobjekts und git sie zur√ºck.",!1)),n.addMethod(new S("bringToFront",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("bringToFront"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),n.addMethod(new S("sendToBack",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("sendToBack"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),n.addMethod(new S("getHitPolygon",new P([]),new Y(o),(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHitPolygon"))return t.getHitPolygon(o)}),!1,!1,"Gibt ein Array zur√ºck, das die vier Eckpunkte des Hit-Polygons in Form von Vector2-Ortsvektoren enth√§lt. Bei den Klassen Rectangle, Triangle und Polygon sind dies die Eckpunkte.",!1)),n}return zs(t,e),t}(G),Rs=function(e){function t(e,n){var i;Ds(this,t),(i=Fs(this,Is(t).call(this,e,n))).angle=0,i.hitPolygonInitial=null,i.hitPolygonTransformed=null,i.hitPolygonDirty=!0,i.reactToMouseEventsWhenInvisible=!1,i.mouseLastSeenInsideObject=!1,i.trackMouseMove=!1,i.scaleFactor=1,i.directionRad=0,i.lastMoveDx=0,i.lastMoveDy=0;for(var r=null,o=0,a=[{identifier:"MouseUp",signature:"(double, double, int)"},{identifier:"MouseDown",signature:"(double, double, int)"},{identifier:"MouseMove",signature:"(double, double)"},{identifier:"MouseEnter",signature:"(double, double)"},{identifier:"MouseLeave",signature:"(double, double)"}];o<a.length;o++){var s=a[o],l=n.class.getMethodBySignature("on"+s.identifier+s.signature);null==(null==l?void 0:l.program)&&null==(null==l?void 0:l.invoke)||(null==r&&(r={shapeHelper:_s(i),types:{},methods:{}},i.worldHelper.mouseListenerShapes.push(r)),r.types[s.identifier.toLowerCase()]=!0,r.methods[s.identifier.toLowerCase()]=l)}return null==i.worldHelper.defaultGroup&&i.worldHelper.shapes.push(_s(i)),i}var n,i,r;return zs(t,e),n=t,(i=[{key:"copyFrom",value:function(e){if(this.centerXInitial=e.centerXInitial,this.centerYInitial=e.centerYInitial,null!=e.hitPolygonInitial){this.hitPolygonInitial=[];var t=!0,n=!1,i=void 0;try{for(var r,o=e.hitPolygonInitial[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.hitPolygonInitial.push(Object.assign({},a))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}this.setHitPolygonDirty(!0),this.hitPolygonDirty=e.hitPolygonDirty,this.reactToMouseEventsWhenInvisible=e.reactToMouseEventsWhenInvisible,this.mouseLastSeenInsideObject=e.mouseLastSeenInsideObject,this.displayObject.localTransform.copyFrom(e.displayObject.transform.localTransform),this.displayObject.updateTransform()}},{key:"setHitPolygonDirty",value:function(e){this.hitPolygonDirty=e}},{key:"bringOnePlaneFurtherToFront",value:function(){var e=this.displayObject.parent,t=e.children.length-1,n=e.getChildIndex(this.displayObject);n<t&&e.setChildIndex(this.displayObject,n+1)}},{key:"bringOnePlaneFurtherToBack",value:function(){var e=this.displayObject.parent,t=e.getChildIndex(this.displayObject);t>0&&e.setChildIndex(this.displayObject,t-1)}},{key:"bringToFront",value:function(){var e=this.displayObject.parent,t=e.children.length-1;e.setChildIndex(this.displayObject,t)}},{key:"sendToBack",value:function(){this.displayObject.parent.setChildIndex(this.displayObject,0)}},{key:"addToDefaultGroup",value:function(){null!=this.worldHelper.defaultGroup&&(this.runtimeObject.intrinsicData.Actor=this,this.worldHelper.defaultGroup.add(this.runtimeObject))}},{key:"tint",value:function(e){var t;t="string"==typeof e?Mt.parseColorToOpenGL(e).color:e,this.displayObject.tint&&(this.displayObject.tint=t),this.render()}},{key:"setVisible",value:function(e){this.displayObject.visible=e}},{key:"collidesWith",value:function(e){if(null==this.lineElements&&null!=e.lineElements)return e.collidesWith(this);if(e.shapes)return e.collidesWith(this);if(null!=this.displayObject&&null!=e.displayObject){this.displayObject.updateTransform(),e.displayObject.updateTransform();var t=this.displayObject.getBounds(),n=e.displayObject.getBounds();return!(t.left>n.right||n.left>t.right)&&!(t.top>n.bottom||n.top>t.bottom)&&(null==this.hitPolygonInitial||null==e.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),e.hitPolygonDirty&&e.transformHitPolygon(),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(0==e.length||0==t.length)return!1;var o=e.length+(n?0:-1),a=t.length+(i?0:-1);if(n&&Ts(e,t[0])){if(null!=r){for(var s=1e5,l=0,u=0;u<e.length-1;u++){var c=(u+1)%e.length,d=Cs(e[u],e[c],t[0]);d<s&&(s=d,l=0)}var h=(l+1)%e.length;r.y=e[h].x-e[l].x,r.x=-(e[h].y-e[l].y)}return!0}if(n&&Ts(t,e[0]))return!0;for(var p=0;p<o;p++)for(var f=e[p],y=e[(p+1)%e.length],v=0;v<a;v++){var m=t[v],g=t[(v+1)%t.length];if(Ps(f,y,m,g))return!0}return!1}(this.hitPolygonTransformed,e.hitPolygonTransformed,!0,!0)))}}},{key:"directionRelativeTo",value:function(e,t){this.displayObject.updateTransform(),e.displayObject.updateTransform();var n=this.displayObject.getBounds(),i=e.displayObject.getBounds(),r=i.left-n.right,o=n.left-i.right,a=i.top-n.bottom,s=n.top-i.bottom,l=t.enumInfoList,u=[];this.lastMoveDx>0?u.push({distance:r,ei:l[3]}):this.lastMoveDx<0&&u.push({distance:o,ei:l[1]}),this.lastMoveDy>0?u.push({distance:a,ei:l[0]}):this.lastMoveDy<0&&u.push({distance:s,ei:l[2]}),0==u.length&&(u=[{distance:r,ei:l[3]},{distance:o,ei:l[1]},{distance:a,ei:l[0]},{distance:s,ei:l[2]}]);for(var c=u[0].distance,d=u[0].ei,h=1;h<u.length;h++)u[h].distance>c&&(c=u[h].distance,d=u[h].ei);return d.object}},{key:"moveBackFrom",value:function(e,t){var n=this.lastMoveDx,i=this.lastMoveDy,r=Math.sqrt(n*n+i*i);if(!(r<.001)&&this.collidesWith(e)){var o=0;this.move(-n,-i);for(var a=-1;this.collidesWith(e);){o=a;var s=2*a;if(this.move(n*(s-a),i*(s-a)),((a=s)+1)*r<-100)return void this.move(n*(-1-a),i*(-1-a))}for(var l=a,u=!1;(o-l)*r>1;){var c=(o+l)/2;this.move(n*(c-a),i*(c-a)),(u=this.collidesWith(e))?o=c:l=c,a=c}t&&!u?this.move(n*(o-a),i*(o-a)):u&&!t&&this.move(n*(l-a),i*(l-a)),this.lastMoveDx=n,this.lastMoveDy=i}}},{key:"containsPoint",value:function(e,t){return!!this.displayObject.getBounds().contains(e,t)&&(null==this.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),Ts(this.hitPolygonTransformed,{x:e,y:t})))}},{key:"transformHitPolygon",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),this.hitPolygonTransformed=[];var t=this.displayObject.transform.worldTransform,n=!0,i=!1,r=void 0;try{for(var o,a=this.hitPolygonInitial[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.hitPolygonTransformed.push({x:t.a*s.x+t.c*s.y+t.tx,y:t.b*s.x+t.d*s.y+t.ty})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}this.setHitPolygonDirty(!1)}},{key:"isOutsideView",value:function(){var e=this.displayObject.getBounds(!0),t=this.worldHelper;return e.right<t.currentLeft||e.left>t.currentLeft+t.currentWidth||e.bottom<t.currentTop||e.top>t.currentTop+t.currentHeight}},{key:"defineCenter",value:function(e,t){var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n),this.centerXInitial=n.x,this.centerYInitial=n.y}},{key:"defineCenterRelative",value:function(e,t){var n=this.displayObject.getBounds(!1);this.defineCenter(n.left+n.width*e,n.top+n.height*t)}},{key:"move",value:function(e,t){0==e&&0==t||(this.lastMoveDx=e,this.lastMoveDy=t),this.displayObject.localTransform.translate(e,t),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0)}},{key:"forward",value:function(e){var t=e*Math.cos(this.directionRad),n=-e*Math.sin(this.directionRad);this.move(t,n)}},{key:"rotate",value:function(e,t,n){if(null==t){var i=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(i,i),t=i.x,n=i.y}else{var r=new PIXI.Point(t,n);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.applyInverse(r,r),this.displayObject.localTransform.apply(r,r),t=r.x,n=r.y}this.displayObject.localTransform.translate(-t,-n),this.displayObject.localTransform.rotate(-e/180*Math.PI),this.displayObject.localTransform.translate(t,n),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0),this.angle+=e,this.directionRad+=e/180*Math.PI}},{key:"mirrorXY",value:function(e,t){var n,i,r=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(r,r),n=r.x,i=r.y,this.displayObject.localTransform.translate(-n,-i),this.displayObject.localTransform.scale(e,t),this.displayObject.localTransform.translate(n,i),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0)}},{key:"scale",value:function(e,t,n){if(null==t){var i=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(i,i),t=i.x,n=i.y}else{var r=new PIXI.Point(t,n);this.displayObject.transform.worldTransform.applyInverse(r,r),this.displayObject.localTransform.apply(r,r),t=r.x,n=r.y}this.displayObject.localTransform.translate(-t,-n),this.displayObject.localTransform.scale(e,e),this.displayObject.localTransform.translate(t,n),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0),this.scaleFactor*=e}},{key:"getCenterX",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);return this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),e.x}},{key:"getCenterY",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);return this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),e.y}},{key:"destroy",value:function(){if(As(Is(t.prototype),"destroy",this).call(this),null!=this.belongsToGroup)this.belongsToGroup.remove(this.runtimeObject);else{var e=this.worldHelper.shapes.indexOf(this);e>=0&&this.worldHelper.shapes.splice(e,1)}var n=this.worldHelper.shapesNotAffectedByWorldTransforms.indexOf(this);n>=0&&this.worldHelper.shapesNotAffectedByWorldTransforms.splice(n,1)}},{key:"getCollidingShapes",value:function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.intrinsicData.Actor.collidesWith(this)&&n.push({type:t,value:l})}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},{key:"getHitPolygon",value:function(e){this.hitPolygonDirty&&this.transformHitPolygon();var t=[],n=!0,i=!1,r=void 0;try{for(var o,a=this.hitPolygonTransformed[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=new M(e);l.attributes=[{type:ut,value:s.x},{type:ut,value:s.y}],t.push({type:e,value:l})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}},{key:"setStatic",value:function(e){var t=this.worldHelper.shapesNotAffectedByWorldTransforms;if(e)t.push(this);else{var n=t.indexOf(this);n>=0&&t.splice(n,1)}}}])&&Es(n.prototype,i),r&&Es(n,r),t}(ms);function Ws(e){return(Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){return!t||"object"!==Ws(t)&&"function"!=typeof t?Hs(e):t}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ks(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}function Qs(e,t){return(Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Us=function(e){function t(e){var n;Ns(this,t),(n=$s(this,Vs(t).call(this,"Bitmap",e,"Rechteckige Bitmap mit beliebiger Aufl√∂sung und Positionierung in der Grafikausgabe"))).setBaseClass(e.typeStore.getType("Shape"));var i=n.module.typeStore.getType("Color");return n.addMethod(new S("Bitmap",new P([{identifier:"pointsX",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"pointsY",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"left",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"displayWidth",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"displayHeight",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=t[6].value,u=new Zs(i,r,o,a,s,l,e.main.getInterpreter(),n);n.intrinsicData.Actor=u}),!1,!1,"Instanziert eine neue Bitmap. pointsX bzw. pointsY bezeichnet Anzahl der Bildpunkte in x bzw. y-Richtung, (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),n.addMethod(new S("getColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value;return t.intrinsicData.Actor.getFarbeAsObject(n,r,i)}),!1,!1,"Gibt die Farbe des Punkts (x, y) zur√ºck.",!1)),n.addMethod(new S("setColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t.intrinsicData.Actor.setzeFarbe(n,i,r,o)}),!1,!1,"Setzt die Farbe des Pixels bei (x, y). Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau und 0.0 <= alpha <= 1.0.",!1)),n.addMethod(new S("setColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;t.intrinsicData.Actor.setzeFarbe(n,i,r)}),!1,!1,"Setzt die Farbe des Pixels bei (x, y). Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau.",!1)),n.addMethod(new S("setColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;t.intrinsicData.Actor.setzeFarbe(n,i,r)}),!1,!1,'Setzt die Farbe des Pixels bei (x, y). Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new S("setColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t.intrinsicData.Actor.setzeFarbe(n,i,r,o)}),!1,!1,'Setzt die Farbe des Pixels bei (x, y). Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)". 0.0 <= alpha <= 1.0.',!1)),n.addMethod(new S("isColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"colorAsRGBAString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;return t.intrinsicData.Actor.istFarbe(n,i,r)}),!1,!1,'Gibt genau dann true zur√ºck, wenn das Pixel bei (x, y) die angegebene Farbe besitzt. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new S("isColor",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;return t.intrinsicData.Actor.istFarbe(n,i,r,1)}),!1,!1,"Gibt genau dann true zur√ºck, wenn das Pixel bei (x, y) die angegebene Farbe besitzt. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau und 0.0 <= alpha <= 1.0",!1)),n.addMethod(new S("fillAll",new P([{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value;t.intrinsicData.Actor.fillAll(n,i)}),!1,!1,"F√ºllt die ganze Bitmap mit einer Farbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau und 0.0 <= alpha <= 1.0",!1)),n.addMethod(new S("fillAll",new P([{identifier:"colorAsRGBAString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.fillAll(n)}),!1,!1,'F√ºllt die ganze Bitmap mit einer Farbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new S("copy",new P([]),Hs(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Bitmap-Objekts und git sie zur√ºck.",!1)),n.addMethod(new S("clone",new P([]),Hs(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("clone"))return n.getCopyOrClone(t.class,!0)}),!1,!1,"Erstellt ein weiteres Bitmap-Objekt, das auf dieselben Pixeldaten zur√ºckgreift.",!1)),n}return Ks(t,e),t}(G),Zs=function(e){function t(e,n,i,r,o,a,s,l,u){var c,d=arguments.length>9&&void 0!==arguments[9]&&arguments[9];Ns(this,t),(c=$s(this,Vs(t).call(this,s,l))).anzahlX=e,c.anzahlY=n,c.left=i,c.top=r,c.width=o,c.height=a,c.isBigEndian=!0;var h=new Uint32Array([287454020]),p=new Uint8Array(h.buffer);68===p[0]?c.isBigEndian=!1:17===p[0]&&(c.isBigEndian=!0),c.centerXInitial=i+o/2,c.centerYInitial=r+a/2,c.hitPolygonInitial=[{x:i,y:r},{x:i,y:r+a},{x:i+o,y:r+a},{x:i+o,y:r}],c.initGraphics(u,d);var f=c.displayObject;f.localTransform.scale(o/n,a/n),f.localTransform.translate(i,r),f.transform.onChange();var y=new PIXI.Point(c.centerXInitial,c.centerYInitial);return f.localTransform.applyInverse(y,y),c.centerXInitial=y.x,c.centerYInitial=y.y,c.addToDefaultGroup(),c}var n,i,r;return Ks(t,e),n=t,(i=[{key:"getCopy",value:function(e){return this.getCopyOrClone(e,!1)}},{key:"getCopyOrClone",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new M(e),r=new t(this.anzahlX,this.anzahlY,this.left,this.top,this.width,this.height,this.worldHelper.interpreter,i,this,n);return i.intrinsicData.Actor=r,r.copyFrom(this),r.render(),i}},{key:"render",value:function(){}},{key:"initGraphics",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.data=null==e?new Uint32Array(this.anzahlX*this.anzahlY):t?e.data:new Uint32Array(e.data);var n=new Uint8Array(this.data.buffer);if(t)this.texture=e.texture;else{var i=new PIXI.BufferResource(n,{width:this.anzahlX,height:this.anzahlY}),r=new PIXI.BaseTexture(i,{scaleMode:PIXI.SCALE_MODES.NEAREST});this.texture=new PIXI.Texture(r)}this.displayObject=new PIXI.Sprite(this.texture),this.worldHelper.stage.addChild(this.displayObject)}},{key:"uploadData",value:function(){this.texture.baseTexture.update()}},{key:"getFarbeAsObject",value:function(e,t,n){var i=e+t*this.anzahlX,r=new M(n),o=this.data[i],a={red:255&o,green:(65280&o)>>8,blue:(16711680&o)>>16,hex:Mt.intColorToHexRGB(o>>8)};return r.intrinsicData=a,r}},{key:"istFarbe",value:function(e,t,n,i){var r,o=e+t*this.anzahlX;if("string"==typeof n){var a=Mt.parseColorToOpenGL(n);r=a.color,a.alpha}else r=n;var s=this.data[o];return r==65536*(255&s)+256*((65280&s)>>8)+((16711680&s)>>16)}},{key:"setzeFarbe",value:function(e,t,n,i){var r,o=e+t*this.anzahlX;if("string"==typeof n){var a=Mt.parseColorToOpenGL(n);r=a.color,null==i&&(i=a.alpha)}else r=n,null==i&&(i=1);this.data[o]=16777216*Math.round(255*i)+((255&r)<<16)+(65280&r)+((16711680&r)>>16),this.uploadData()}},{key:"fillAll",value:function(e,t){var n;if("string"==typeof e){var i=Mt.parseColorToOpenGL(e);n=i.color,t=i.alpha}else n=e;this.data.fill(16777216*Math.round(255*t)+((255&n)<<16)+(65280&n)+((16711680&n)>>16)),this.uploadData()}},{key:"setzeFarbeRGBA",value:function(e,t,n,i,r,o){var a=4278190080*o+65536*r+256*i+n,s=e+t*this.anzahlX;this.data[s]=a,this.uploadData()}},{key:"getFarbe",value:function(e,t){var n=16777215&this.data[e+t*this.anzahlX];return(255&n)<<16+(65280&n)+(16711680&n)>>16}},{key:"getAlpha",value:function(e,t){return(4278190080&this.data[e+t*this.anzahlX])>>24/255}}])&&Gs(n.prototype,i),r&&Gs(n,r),t}(Rs);function Xs(e){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t,n){return(qs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Js(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function el(e,t,n){return t&&Js(e.prototype,t),n&&Js(e,n),e}function tl(e,t){return!t||"object"!==Xs(t)&&"function"!=typeof t?il(e):t}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ol(e,t)}function ol(e,t){return(ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var al=function(e){function t(e){var n;Ys(this,t),(n=tl(this,nl(t).call(this,"FilledShape",e,"Basisklasse f√ºr grafische Objekte mit F√ºllfarbe und Randfarbe, beide wahlweise auch transparent"))).setBaseClass(e.typeStore.getType("Shape")),n.isAbstract=!0;il(n);var i=n.module.typeStore.getType("Color");return n.addMethod(new S("getFillColor",new P([]),i,(function(e){var t=e[0].value.intrinsicData.Actor;return t.getFarbeAsObject(t.fillColor,t.fillColor,i)}),!1,!1,"Gibt die F√ºllfarbe des Objekts zur√ºck.",!1)),n.addMethod(new S("getBorderColor",new P([]),i,(function(e){var t=e[0].value.intrinsicData.Actor;return t.getFarbeAsObject(t.borderColor,t.borderColor,i)}),!1,!1,"Gibt die Randfarbe des Objekts zur√ºck.",!1)),n.addAttribute(new k("borderWidth",ut,(function(e){var t=e.object.intrinsicData.Actor;e.value=null!=t?t.borderWidth:Number.NaN}),!1,j.protected,!0,"Randbreite in Pixeln")),n.addMethod(new S("setAlpha",new P([{identifier:"alphaValue",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setAlpha")||i.setAlpha(n)}),!1,!1,'Setzt die Durchsichtigkeit von F√ºllung und Rand. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig."',!1)),n.addMethod(new S("getAlpha",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getAlpha"))return t.fillAlpha}),!1,!1,'Setzt die Durchsichtigkeit von F√ºllung und Rand. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig."',!1)),n.addMethod(new S("setFillColor",new P([{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setFillColor")||i.setFillColor(n)}),!1,!1,"Setzt die F√ºllfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau",!1)),n.addMethod(new S("setFillColor",new P([{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setFillColor")||r.setFillColor(n,i)}),!1,!1,"Setzt die F√ºllfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau und 0.0 <= alpha <= 1.0",!1)),n.addMethod(new S("setFillColor",new P([{identifier:"color",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setFillColor")||i.setFillColor(n)}),!1,!1,'Setzt die F√ºllfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new S("setFillColor",new P([{identifier:"color",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setFillColor")||r.setFillColor(n,i)}),!1,!1,'Setzt die F√ºllfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" oder "rgb(172, 22, 18)" und 0.0 <= alpha <= 1.0"',!1)),n.addMethod(new S("setBorderColor",new P([{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderColor")||i.setBorderColor(n)}),!1,!1,'Setzt die Randfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau"',!1)),n.addMethod(new S("setBorderColor",new P([{identifier:"color",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setBorderColor")||r.setBorderColor(n,i)}),!1,!1,'Setzt die Randfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*gr√ºn + blau und 0.0 <= alpha <= 1.0"',!1)),n.addMethod(new S("setBorderColor",new P([{identifier:"color",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setBorderColor")||r.setBorderColor(n,i)}),!1,!1,'Setzt die Randfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" oder "rgb(172, 22, 18)" und 0.0 <= alpha <= 1.0"',!1)),n.addMethod(new S("setBorderColor",new P([{identifier:"colorAsRGBAString",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderColor")||i.setBorderColor(n)}),!1,!1,'Setzt die Randfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),n.addMethod(new S("setBorderWidth",new P([{identifier:"widthInPixel",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderWidth")||i.setBorderWidth(n)}),!1,!1,'Setzt die Linienbreite des Randes (Einheit: Pixel)"',!1)),n.setupAttributeIndicesRecursive(),n}return rl(t,e),el(t,[{key:"rgbaToHex",value:function(e,t){for(var n=null==e?"---":e.toString(16);n.length<6;)n="0"+n;var i=Math.round(255*t).toString(16);return i.length<2&&(i="0"+i),"#"+n+i}}]),t}(G),sl=function(e){function t(e,n){var i;return Ys(this,t),(i=tl(this,nl(t).call(this,e,n))).fillColor=8421631,i.fillAlpha=1,i.borderColor=null,i.borderAlpha=1,i.borderWidth=10,i}return rl(t,e),el(t,[{key:"copyFrom",value:function(e){qs(nl(t.prototype),"copyFrom",this).call(this,e),this.fillColor=e.fillColor,this.fillAlpha=e.fillAlpha,this.borderColor=e.borderColor,this.borderAlpha=e.borderAlpha,this.borderWidth=e.borderWidth}},{key:"setAlpha",value:function(e){this.fillAlpha=e,this.borderAlpha=e,this.render()}},{key:"setBorderColor",value:function(e,t){if("string"==typeof e){var n=Mt.parseColorToOpenGL(e);this.borderColor=n.color,this.borderAlpha=null==t?n.alpha:t}else this.borderColor=e,this.borderAlpha=t;this.render()}},{key:"setFillColor",value:function(e,t){if("string"==typeof e){var n=Mt.parseColorToOpenGL(e);this.fillColor=n.color,this.fillAlpha=null==t?n.alpha:t}else this.fillColor=e,null!=t&&(this.fillAlpha=t);this.render()}},{key:"setBorderWidth",value:function(e){this.borderWidth=e,this.render()}},{key:"getFarbeAsObject",value:function(e,t,n){if(null==e)return null;var i=(16711680&e)>>16,r=(65280&e)>>8,o=255&e,a=new M(n),s={red:i,green:r,blue:o,hex:Mt.intColorToHexRGB(e)};return a.intrinsicData=s,a}}]),t}(Rs);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cl(e,t,n){return(cl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?fl(e):t}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vl(e,t)}function vl(e,t){return(vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ml=function(e){function t(e){var n;return dl(this,t),(n=hl(this,pl(t).call(this,"Circle",e,"Kreis"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Circle",new P([{identifier:"mx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new gl(i,r,o,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert einen neuen Kreis. (mx, my) ist der Mittelpunt, r sein Radius.",!0)),n.addMethod(new S("setRadius",new P([{identifier:"radius",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||i.setRadius(n)}),!1,!1,'Setzt den Radius des Kreises."',!1)),n.addMethod(new S("getRadius",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.r*t.displayObject.scale.x}),!1,!1,"Gibt den Radius zur√ºck.",!1)),n.addMethod(new S("copy",new P([]),fl(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Circle-Objekts und git sie zur√ºck.",!1)),n}return yl(t,e),t}(G),gl=function(e){function t(e,n,i,r,o){var a;return dl(this,t),(a=hl(this,pl(t).call(this,r,o))).mx=e,a.my=n,a.r=i,a.centerXInitial=e,a.centerYInitial=n,a.render(),a.addToDefaultGroup(),a}var n,i,r;return yl(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.mx,this.my,this.r,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){this.hitPolygonInitial=[];for(var e=Math.PI/8,t=0;t<16;t++){var n=e*t;this.hitPolygonInitial.push({x:this.mx+this.r*Math.cos(n),y:this.my+this.r*Math.sin(n)})}this.hitPolygonDirty=!0;var i=this.displayObject;null==this.displayObject?(i=new PIXI.Graphics,this.displayObject=i,this.worldHelper.stage.addChild(i)):i.clear(),null!=this.fillColor&&i.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&i.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),i.drawCircle(this.mx,this.my,this.r),i.closePath(),null!=this.fillColor&&i.endFill()}},{key:"setRadius",value:function(e){this.r=e,this.render()}},{key:"isOutsideView",value:function(){return cl(pl(t.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my;return i*i+r*r<=this.r*this.r}},{key:"collidesWith",value:function(e){if(e instanceof t){var n=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(n,n);var i=this.r*this.displayObject.scale.x,r=new PIXI.Point(e.centerXInitial,e.centerYInitial);e.displayObject.updateTransform(),e.displayObject.transform.worldTransform.apply(r,r);var o=e.r*e.displayObject.scale.x,a=n.x-r.x,s=n.y-r.y;return a*a+s*s<=(i+o)*(i+o)}return cl(pl(t.prototype),"collidesWith",this).call(this,e)}}])&&ul(n.prototype,i),r&&ul(n,r),t}(sl);function bl(e){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kl(e,t,n){return(kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pl(e,t){return!t||"object"!==bl(t)&&"function"!=typeof t?Tl(e):t}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ml(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jl=function(e){function t(e){var n;return Sl(this,t),(n=Pl(this,xl(t).call(this,"Sector",e,"Kreisbogen/Kreissektor"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Sector",new P([{identifier:"mx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startAngle",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"endAngle",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new Ol(i,r,o,a/180*Math.PI,s/180*Math.PI,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=l}),!1,!1,"Instanziert einen neuen Kreisbogen bzw. (falls die F√ºllfarbe nicht null ist) Kreissektor. (mx, my) ist der Mittelpunt, r sein Radius. Der Kreisbogen wird von startAngle bis endAngle (beides in Grad) gegen den Uhrzeigersinn gezogen.",!0)),n.addMethod(new S("drawRadii",new P([{identifier:"radiiZeichnen",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("drawRadii")||(i.drawRadii=n,i.render())}),!1,!1,"Legt fest, ob beim Zeichnen des Umrisses auch die beiden Radii ( = Strecken vom Mittelpunkt zur Kreislinie) mitgezeichnet werden sollen.",!1)),n.addMethod(new S("setRadius",new P([{identifier:"radius",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||i.setRadius(n)}),!1,!1,'Setzt den Radius des Kreisbogens/Kreissektors."',!1)),n.addMethod(new S("setStartAngle",new P([{identifier:"startWinkelInGrad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setStartAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.startAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Startwinkel des Kreisbogens/Kreissektors."',!1)),n.addMethod(new S("setEndAngle",new P([{identifier:"endWinkelInGrad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setEndAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.endAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Endwinkel des Kreisbogens/Kreissektors."',!1)),n.addMethod(new S("getRadius",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.r*t.displayObject.scale.x}),!1,!1,"Gibt den Radius zur√ºck.",!1)),n.addMethod(new S("getStartAngle",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getStartAngle"))return t.startAngleRad/Math.PI*180}),!1,!1,"Gibt den Startwinkel in Grad zur√ºck.",!1)),n.addMethod(new S("getEndAngle",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getEndAngle"))return t.endAngleRad/Math.PI*180}),!1,!1,"Gibt den Endwinkel in Grad zur√ºck.",!1)),n.addMethod(new S("copy",new P([]),Tl(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Sector-Objekts und git sie zur√ºck.",!1)),n}return Ml(t,e),t}(G),Ol=function(e){function t(e,n,i,r,o,a,s,l){var u;return Sl(this,t),(u=Pl(this,xl(t).call(this,s,l))).mx=e,u.my=n,u.r=i,u.startAngleRad=r,u.endAngleRad=o,u.drawRadii=a,u.centerXInitial=e,u.centerYInitial=n,u.render(),u.addToDefaultGroup(),u}var n,i,r;return Ml(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.mx,this.my,this.r,this.startAngleRad,this.endAngleRad,this.drawRadii,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){this.hitPolygonInitial=[];var e=this.endAngleRad-this.startAngleRad;this.hitPolygonInitial.push({x:this.mx,y:this.my});for(var t=0;t<16;t++){var n=this.startAngleRad+e*t;this.hitPolygonInitial.push({x:this.mx+this.r*Math.cos(n),y:this.my+this.r*Math.sin(n)})}this.hitPolygonInitial.push({x:this.mx,y:this.my}),this.hitPolygonDirty=!0;var i=this.displayObject;null==this.displayObject?(i=new PIXI.Graphics,this.displayObject=i,this.worldHelper.stage.addChild(i)):i.clear(),null!=this.fillColor&&i.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&i.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),Math.abs(this.startAngleRad-this.endAngleRad)<1e-8?i.drawCircle(this.mx,this.my,this.r):(this.drawRadii&&i.moveTo(this.mx,this.my),i.arc(this.mx,this.my,this.r,-this.startAngleRad,-this.endAngleRad,!0),this.drawRadii&&i.lineTo(this.mx,this.my)),this.drawRadii&&i.closePath(),null!=this.fillColor&&i.endFill()}},{key:"setRadius",value:function(e){this.r=e,this.render()}},{key:"isOutsideView",value:function(){return kl(xl(t.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my,o=Math.atan2(-r,i);if(i*i+r*r<=this.r*this.r){var a=2*Math.PI,s=this.startAngleRad<0?a+this.startAngleRad:this.startAngleRad,l=this.endAngleRad<0?a+this.endAngleRad:this.endAngleRad,u=(o<0?a+o:o)>=s&&s<=l;return s<=l?u:!u}return!1}}])&&wl(n.prototype,i),r&&wl(n,r),t}(sl);function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Al(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Dl(e,t,n){return(Dl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){return!t||"object"!==El(t)&&"function"!=typeof t?zl(e):t}function _l(e){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ll(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bl(e,t)}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rl=function(e){function t(e){var n;return Fl(this,t),(n=Il(this,_l(t).call(this,"Arc",e,"Kreisbogenumriss (wahlweise gef√ºllt)"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Arc",new P([{identifier:"mx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"innerRadius",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"outerRadius",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startAngle",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"endAngle",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=t[6].value,u=new Wl(i,r,o,a,s/180*Math.PI,l/180*Math.PI,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=u}),!1,!1,"Instanziert einen neuen Kreisbogen. (mx, my) ist der Mittelpunt, ri sein Innenradius, ra sein Au√üenradius. Der Kreisbogen wird von startAngle bis endAngle (beides in Grad) gegen den Uhrzeigersinn gezogen.",!0)),n.addMethod(new S("setInnerRadius",new P([{identifier:"innerRadius",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||(i.ri=n,i.render())}),!1,!1,'Setzt den inneren Radius des Kreisbogens"',!1)),n.addMethod(new S("setOuterRadius",new P([{identifier:"outerRadius",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||(i.ra=n,i.render())}),!1,!1,'Setzt den √§u√üeren Radius des Kreisbogens"',!1)),n.addMethod(new S("setStartAngle",new P([{identifier:"startWinkelInGrad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setStartAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.startAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Startwinkel des Kreisbogens/Kreissektors."',!1)),n.addMethod(new S("setEndAngle",new P([{identifier:"endWinkelInGrad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setEndAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.endAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Endwinkel des Kreisbogens/Kreissektors."',!1)),n.addMethod(new S("getInnerRadius",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.ri*t.displayObject.scale.x}),!1,!1,"Gibt den inneren Radius zur√ºck.",!1)),n.addMethod(new S("getOuterRadius",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getOuterRadius"))return t.ra*t.displayObject.scale.x}),!1,!1,"Gibt den √§u√üeren Radius zur√ºck.",!1)),n.addMethod(new S("getStartAngle",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getStartAngle"))return t.startAngleRad/Math.PI*180}),!1,!1,"Gibt den Startwinkel in Grad zur√ºck.",!1)),n.addMethod(new S("getEndAngle",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getEndAngle"))return t.endAngleRad/Math.PI*180}),!1,!1,"Gibt den Endwinkel in Grad zur√ºck.",!1)),n.addMethod(new S("copy",new P([]),zl(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Arc-Objekts und git sie zur√ºck.",!1)),n}return Ll(t,e),t}(G),Wl=function(e){function t(e,n,i,r,o,a,s,l,u){var c;return Fl(this,t),(c=Il(this,_l(t).call(this,l,u))).mx=e,c.my=n,c.ri=i,c.ra=r,c.startAngleRad=o,c.endAngleRad=a,c.drawRadii=s,c.centerXInitial=e,c.centerYInitial=n,c.render(),c.addToDefaultGroup(),c}var n,i,r;return Ll(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.mx,this.my,this.ri,this.ra,this.startAngleRad,this.endAngleRad,this.drawRadii,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){this.hitPolygonInitial=[];for(var e=this.endAngleRad-this.startAngleRad,t=0;t<16;t++){var n=this.startAngleRad+e*t;this.hitPolygonInitial.push({x:this.mx+this.ra*Math.cos(n),y:this.my+this.ra*Math.sin(n)})}for(var i=0;i<16;i++){var r=this.endAngleRad-e*i;this.hitPolygonInitial.push({x:this.mx+this.ri*Math.cos(r),y:this.my+this.ri*Math.sin(r)})}this.hitPolygonDirty=!0;var o=this.displayObject;null==this.displayObject?(o=new PIXI.Graphics,this.displayObject=o,this.worldHelper.stage.addChild(o)):o.clear(),null!=this.fillColor&&o.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&o.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),void 0===this.startAngleRad&&(this.startAngleRad=0),void 0===this.endAngleRad&&(this.endAngleRad=2*Math.PI),Math.abs(this.endAngleRad-this.startAngleRad)>=2*Math.PI?o.drawCircle(this.mx,this.my,this.ra).beginHole().drawCircle(this.mx,this.my,this.ri).endHole():(o.moveTo(this.mx+this.ra*Math.cos(this.startAngleRad),this.my-this.ra*Math.sin(this.startAngleRad)),o.lineTo(this.mx+this.ri*Math.cos(this.startAngleRad),this.my-this.ri*Math.sin(this.startAngleRad)),o.arc(this.mx,this.my,this.ri,-this.startAngleRad,-this.endAngleRad,!0).arc(this.mx,this.my,this.ra,-this.endAngleRad,-this.startAngleRad,!1)),o.closePath(),null!=this.fillColor&&o.endFill()}},{key:"isOutsideView",value:function(){return Dl(_l(t.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my,o=Math.atan2(-r,i),a=i*i+r*r;if(a<=this.ra*this.ra&&a>=this.ri*this.ri){var s=2*Math.PI,l=this.startAngleRad<0?s+this.startAngleRad:this.startAngleRad,u=this.endAngleRad<0?s+this.endAngleRad:this.endAngleRad,c=(o<0?s+o:o)>=l&&l<=u;return l<=u?c:!c}return!1}}])&&Al(n.prototype,i),r&&Al(n,r),t}(sl);function Gl(e){return(Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hl(e,t){return(Hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kl=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,r=$l(t).call(this,"Color",e,"Farbe"),(n=!r||"object"!==Gl(r)&&"function"!=typeof r?Vl(i):r).setBaseClass(e.typeStore.getType("Object"));var o=function(e){var t=Mt.predefinedColors[e],i=new M(Vl(n)),r={red:(16711680&t)>>16,green:(65280&t)>>8,blue:255&t,hex:Mt.intColorToHexRGB(t)};i.intrinsicData=r;var o=new k(e,Vl(n),(function(e){e.value=i}),!0,j.public,!0,"Die Farbe "+e+" ("+Mt.intColorToHexRGB(t)+") oder "+Mt.intColorToRGB(t));o.color=Mt.intColorToHexRGB(t),n.addAttribute(o)};for(var a in Mt.predefinedColors)o(a);return n.setupAttributeIndicesRecursive(),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("Color",new P([{identifier:"red",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=Math.trunc(e[1].value),i=Math.trunc(e[2].value),r=Math.trunc(e[3].value),o={red:n,green:i,blue:r,hex:"rgb("+n+", "+i+", "+r+")"};t.intrinsicData=o}),!1,!1,"Instanziert eine neue Farbe. Red, green und blue sind die Farbanteile, jeweils als integer-Zahlen im Bereich von 0 bis 255.",!0)),n.addMethod(new S("randomColor",new P([]),st,(function(e){e[0].value;return Math.floor(16777215*Math.random())}),!1,!0,"Gibt eine zuf√§llige Farbe (ohne Transparenz) zur√ºck.",!1)),n.addMethod(new S("randomColor",new P([{identifier:"minimumRGBValue",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){e[0].value;var t=e[1].value;return t<0&&(t=0),t>255&&(t=255),65536*(Math.floor(Math.random()*(256-t))+t)+256*(Math.floor(Math.random()*(256-t))+t)+(Math.floor(Math.random()*(256-t))+t)}),!1,!0,"Gibt eine zuf√§llige Farbe (ohne Transparenz) zur√ºck. Min ist der Mindestwert f√ºr den Rot-, Gr√ºn- und Blauanteil, wobei jeder der Anteile und daher auch min zwischen 0 und 255 (jeweils einschlie√ülich) liegen muss.",!1)),n.addMethod(new S("randomColor",new P([{identifier:"minimumRGBValue",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"maximumRGBValue",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){e[0].value;var t=e[1].value,n=e[1].value;if(t<0&&(t=0),t>255&&(t=255),n<0&&(n=0),n>255&&(n=255),n<t){var i=n;n=t,t=i}return 65536*(Math.floor(Math.random()*(n-t+1))+t)+256*(Math.floor(Math.random()*(n-t+1))+t)+(Math.floor(Math.random()*(n-t+1))+t)}),!1,!0,"Gibt eine zuf√§llige Farbe (ohne Transparenz) zur√ºck. Min ist der Mindestwert f√ºr den Rot-, Gr√ºn- und Blauanteil, max der H√∂chstwert, wobei jeder der Anteile und daher auch min zwischen 0 und 255 (jeweils einschlie√ülich) liegen muss.",!1)),n.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.intrinsicData.hex}),!1,!1,"Verwandelt die Farbe in einen String.",!1)),n.addMethod(new S("toInt",new P([]),st,(function(e){var t=e[0].value.intrinsicData;return 65536*t.red+256*t.green+t.blue}),!1,!1,"Verwandelt die Farbe in einen int-Wert um, genauer: gibt 0x10000 * red + 0x100 * green + blue zur√ºck.",!1)),n.addMethod(new S("equals",new P([{identifier:"otherColor",type:Vl(n),declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData,r=n.intrinsicData;return i.red==r.red&&i.green==r.green&&i.blue==r.blue}),!1,!1,"Vergleicht zwei Farben",!1)),n.addMethod(new S("getRed",new P([]),st,(function(e){return e[0].value.intrinsicData.red}),!1,!1,"Gibt den Rotanteil der Farbe zur√ºck (0 - 255).",!1)),n.addMethod(new S("getGreen",new P([]),st,(function(e){return e[0].value.intrinsicData.green}),!1,!1,"Gibt den Gr√ºnanteil der Farbe zur√ºck (0 - 255).",!1)),n.addMethod(new S("getBlue",new P([]),st,(function(e){return e[0].value.intrinsicData.blue}),!1,!1,"Gibt den Blauanteil der Farbe zur√ºck (0 - 255).",!1)),n.addMethod(new S("fromRGB",new P([{identifier:"red",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){e[0].value;var t=e[1].value,n=e[2].value,i=e[3].value;return t=Math.min(t,255),t=Math.max(0,t),n=Math.min(n,255),n=Math.max(0,n),i=Math.min(i,255),65536*t+256*n+(i=Math.max(0,i))}),!1,!0,"Berechnet aus Rot-, Gr√ºn- und Blauwert (alle zwischen 0 und 255) die Farbe.",!1)),n.addMethod(new S("fromRGBA",new P([{identifier:"red",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){e[0].value;var t=e[1].value,n=e[2].value,i=e[3].value,r=e[4].value;t=Math.min(t,255),t=Math.max(0,t),n=Math.min(n,255),n=Math.max(0,n),i=Math.min(i,255),i=Math.max(0,i),r=Math.min(r,1),r=Math.max(0,r);for(var o=(16777216*t+65536*n+256*i+Math.floor(255*r)).toString(16);o.length<8;)o="0"+o;return"#"+o}),!1,!0,"Berechnet aus Rot-, Gr√ºn- und Blauwert (alle zwischen 0 und 255) sowie Alpha-Wert (zwischen 0 und 1) die Farbe.",!1)),n.addMethod(new S("fromHSLA",new P([{identifier:"hue",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"saturation",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"luminance",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ht,(function(e){e[0].value;var t=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t=Math.min(t,360),t=Math.max(0,t),i=Math.min(i,100),i=Math.max(0,i),r=Math.min(r,100),r=Math.max(0,r),o=Math.min(o,1),o=Math.max(0,o);for(var a=n.hslToRgb(t,i,r),s=(16777216*a.r+65536*a.g+256*a.b+Math.floor(255*o)).toString(16);s.length<8;)s="0"+s;return"#"+s}),!1,!0,"Berechnet Hue (0 - 360), Saturation (0 - 100) und Luminance (0 - 100) sowie Alpha-Wert (zwischen 0 und 1) die Farbe.",!1)),n.addMethod(new S("fromHSL",new P([{identifier:"hue",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"saturation",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"luminance",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){e[0].value;var t=e[1].value,i=e[2].value,r=e[3].value;t=Math.min(t,360),t=Math.max(0,t),i=Math.min(i,100),i=Math.max(0,i),r=Math.min(r,100),r=Math.max(0,r);var o=n.hslToRgb(t,i,r);return 65536*o.r+256*o.g+o.b}),!1,!0,"Berechnet Hue (0 - 360), Saturation (0 - 100) und Luminance (0 - 100)die Farbe.",!1)),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hl(e,t)}(t,e),n=t,(i=[{key:"hslToRgb",value:function(e,t,n){t/=100,n/=100;var i=(1-Math.abs(2*n-1))*t,r=i*(1-Math.abs(e/60%2-1)),o=n-i/2,a=0,s=0,l=0;return 0<=e&&e<60?(a=i,s=r,l=0):60<=e&&e<120?(a=r,s=i,l=0):120<=e&&e<180?(a=0,s=i,l=r):180<=e&&e<240?(a=0,s=r,l=i):240<=e&&e<300?(a=r,s=0,l=i):300<=e&&e<360&&(a=i,s=0,l=r),{r:a=Math.round(255*(a+o)),g:s=Math.round(255*(s+o)),b:l=Math.round(255*(l+o))}}}])&&Nl(n.prototype,i),r&&Nl(n,r),t}(G);function Ql(e){return(Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ul(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Zl(e,t,n){return(Zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ql(e,t){return!t||"object"!==Ql(t)&&"function"!=typeof t?Jl(e):t}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nu=function(e){function t(e){var n;return Xl(this,t),(n=ql(this,Yl(t).call(this,"Ellipse",e,"Ellipse"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Ellipse",new P([{identifier:"mx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"rx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"ry",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new iu(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert eine neue Ellipse. (mx, my) ist der Mittelpunt, rx und ry sind ihre Radien.",!0)),n.addMethod(new S("setRadiusX",new P([{identifier:"rx",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setRadiusX(n)}),!1,!1,'Setzt den x-Radius der Ellipse"',!1)),n.addMethod(new S("setRadiusY",new P([{identifier:"ry",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setRadiusY(n)}),!1,!1,'Setzt den y-Radius der Ellipse"',!1)),n.addMethod(new S("copy",new P([]),Jl(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Ellipse-Objekts und git sie zur√ºck.",!1)),n}return eu(t,e),t}(G),iu=function(e){function t(e,n,i,r,o,a){var s;return Xl(this,t),(s=ql(this,Yl(t).call(this,o,a))).mx=e,s.my=n,s.rx=i,s.ry=r,s.centerXInitial=e,s.centerYInitial=n,s.render(),s.addToDefaultGroup(),s}var n,i,r;return eu(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.mx,this.my,this.rx,this.ry,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){this.hitPolygonInitial=[];for(var e=Math.PI/8,t=0;t<16;t++){var n=e*t;this.hitPolygonInitial.push({x:this.mx+this.rx*Math.cos(n),y:this.my+this.ry*Math.sin(n)})}var i=this.displayObject;null==this.displayObject?(i=new PIXI.Graphics,this.displayObject=i,this.worldHelper.stage.addChild(i)):i.clear(),null!=this.fillColor&&i.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&i.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),i.drawEllipse(this.mx,this.my,this.rx,this.ry),i.closePath(),null!=this.fillColor&&i.endFill()}},{key:"setRadiusX",value:function(e){this.rx=e,this.render()}},{key:"setRadiusY",value:function(e){this.rx=e,this.render()}},{key:"isOutsideView",value:function(){return Zl(Yl(t.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my;return i*i/(this.rx*this.rx)+r*r/(this.ry*this.ry)<=1}}])&&Ul(n.prototype,i),r&&Ul(n,r),t}(sl);function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function au(e,t,n){return(au="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cu(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lu(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?uu(e):t}function uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cu(e){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function du(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}function hu(e,t){return(hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pu=function(e){function t(e){var n;su(this,t),(n=lu(this,cu(t).call(this,"CollisionPair",e,"Speichert die Referenzen auf zwei Figuren, die gerade kollidiert sind. Diese Klasse von den Kollisionsmethden der Klasse Group benutzt."))).setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("Shape");return n.addAttribute(new k("shapeA",i,(function(e){var t=e.object;e.value=t.intrinsicData.ShapeA}),!1,j.public,!0,"Erstes an der Kollision beteiligtes Shape")),n.addAttribute(new k("shapeB",i,(function(e){var t=e.object;e.value=t.intrinsicData.ShapeB}),!1,j.public,!0,"Zweites an der Kollision beteiligtes Shape")),n.setupAttributeIndicesRecursive(),n}return du(t,e),t}(G),fu=function(e){function t(e){var n;su(this,t),(n=lu(this,cu(t).call(this,"Group",e,"Klasse zum Gruppieren grafischer Elemente. Die gruppierten Elemente k√∂nnen miteinander verschoben, gedreht, gestreckt sowie ein- und ausgeblendet werden. Zudem besitzt die Klasse Methoden zur schnellen Erkennung von Kollision mit Elementen au√üerhalb der Gruppe."))).setBaseClass(e.typeStore.getType("Shape"));var i=e.typeStore.getType("CollisionPair"),r=new Y(i),o=e.typeStore.getType("Shape");n.addMethod(new S("Group",new P([]),null,(function(t){var n=t[0].value,i=new yu(e.main.getInterpreter(),n);n.intrinsicData.Actor=i}),!1,!1,"Instanziert eine neue Gruppe. Ihr k√∂nnen mit der Methode add Elemente hinzugef√ºgt werden, die dann mit der Gruppe verschoben, gedreht, ... werden.",!0)),n.addMethod(new S("Group",new P([{identifier:"shapes",type:new Y(e.typeStore.getType("Shape")),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=new yu(e.main.getInterpreter(),n);n.intrinsicData.Actor=r;var o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.add(c.value)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}),!1,!1,"Instanziert eine neue Gruppe und f√ºgt die √ºbergebenen Grafikobjekte der Gruppe hinzu. Der Gruppe k√∂nnen mit der Methode add weitere Grafikobjekte hinzugef√ºgt werden, die dann mit der Gruppe verschoben, gedreht, ... werden.",!0)),n.addMethod(new S("add",new P([{identifier:"shapes",type:new Y(o),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("add")){var r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i.add(u.value)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}}),!1,!1,"F√ºgt die Grafikobjekte der Gruppe hinzu.",!1)),n.addMethod(new S("get",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),o,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("get"))return i.getElement(n)}),!1,!1,"Gibt das Grafikelement der Gruppe mit dem entsprechenden Index zur√ºck. VORSICHT: Das erste Element hat Index 0!",!1)),n.addMethod(new S("remove",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.removeElementAt(n)}),!1,!1,"Entfernt das Grafikelement aus der Gruppe mit dem entsprechenden Index, zerst√∂rt es jedoch nicht. VORSICHT: Das erste Element hat Index 0!",!1)),n.addMethod(new S("remove",new P([{identifier:"shape",type:o,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("remove")||(i.remove(n),i.worldHelper.shapes.push(n.intrinsicData.Actor))}),!1,!1,"Entfernt das √ºbergebene Grafikelement aus der Gruppe, zerst√∂rt es jedoch nicht.",!1));var a=new Y(o);return n.addMethod(new S("getCollidingShapes",new P([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(i.testdestroyed("getCollidingShapes")||null==n)return[];var r=i.getCollidingObjects(n),a=[],s=!0,l=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.push({type:o,value:h})}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return a}),!1,!1,"Gibt die Objekte der Gruppe zur√ºck, die mit dem √ºbergebenen Shape kollidieren.",!1)),n.addMethod(new S("getCollisionPairs",new P([{identifier:"group",type:uu(n),declaration:null,usagePositions:null,isFinal:!0},{identifier:"maxOneCollisionPerShape",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value,o=t.intrinsicData.Actor,a=n.intrinsicData.Actor;if(!o.testdestroyed("getCollidingShapes"))return o.getCollidingObjects2(a,i,r)}),!1,!1,"√úberpr√ºft, welche Objekte der Gruppe mit welchen der anderen kollidieren. Gibt f√ºr jede Kollision ein Collisionpair-Objekt zur√ºck, das die beiden kollidierenden Objekte enth√§lt. Falls maxOneCollisionPerShape == true ist jedes Objekt dabei aber nur in max. einem Collisionpair-Objekt enthalten.",!1)),n.addMethod(new S("size",new P([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("size"))return t.shapes.length}),!1,!1,"Gibt zur√ºck, wie viele Elemente in der Gruppe enthalten sind.",!1)),n.addMethod(new S("empty",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("empty")||t.removeAllChidren()}),!1,!1,"Entfernt alle Elemente aus der Gruppe, l√∂scht die Elemente aber nicht.",!1)),n.addMethod(new S("destroyAllChildren",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("destroyAllChildren")||t.destroyChildren()}),!1,!1,"L√∂scht alle Elemente der Gruppe, nicht aber die Gruppe selbst.",!1)),o.addMethod(new S("getCollidingShapes",new P([{identifier:"group",type:uu(n),declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value.intrinsicData.Actor,i=t.intrinsicData.Actor;if(!i.testdestroyed("getCollidingShapes"))return i.getCollidingShapes(n,o)}),!1,!1,"Gibt alle Shapes der Gruppe group zur√ºck, die mit dem Shape kollidieren.",!1)),n.addMethod(new S("copy",new P([]),uu(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Group-Objekts (und aller seiner enthaltenen Grafikobjekte!) und git sie zur√ºck.",!1)),n.addMethod(new S("renderAsStaticBitmap",new P([{identifier:"renderAsStaticBitmap",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),uu(n),(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("renderAsStaticBitmap")||t.cacheAsBitmap(n)}),!1,!1,"Zeichnet alle Objekte dieser Group in ein Bild und verwendet fortan nur noch dieses Bild, ohne die Kindelemente der Group erneut zu zeichnen. Mit dieser Methode k√∂nnen komplexe Bilder (z.B. ein Sternenhimmel) aufgebaut und dann statisch gemacht werden. Nach dem Aufbau brauchen sie daher kaum mehr Rechenzeit.",!1)),n}return du(t,e),t}(G),yu=function(e){function t(e,n){var i;return su(this,t),(i=lu(this,cu(t).call(this,e,n))).shapes=[],i.displayObject=new PIXI.Container,i.worldHelper.stage.addChild(i.displayObject),i.addToDefaultGroup(),i}var n,i,r;return du(t,e),n=t,(i=[{key:"cacheAsBitmap",value:function(e){var t=this.displayObject;e?setTimeout((function(){t.cacheAsBitmap=!0}),300):t.cacheAsBitmap=e}},{key:"removeElementAt",value:function(e){if(e<0||e>=this.shapes.length)this.worldHelper.interpreter.throwException("In der Gruppe gibt es kein Element mit Index "+e+".");else{var t=this.shapes[e];this.remove(t)}}},{key:"getElement",value:function(e){if(!(e<0||e>=this.shapes.length))return this.shapes[e];this.worldHelper.interpreter.throwException("In der Gruppe gibt es kein Element mit Index "+e+".")}},{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.worldHelper.interpreter,n);n.intrinsicData.Actor=i;var r=!0,o=!1,a=void 0;try{for(var s,l=this.shapes[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=u.intrinsicData.Actor.getCopy(u.class),d=c.intrinsicData.Actor;i.shapes.push(c),d.belongsToGroup=i,i.displayObject.addChild(d.displayObject)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i.copyFrom(this),i.render(),n}},{key:"setTimerPaused",value:function(e){this.timerPaused=e;var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.intrinsicData.Actor.timerPaused=e}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"add",value:function(e){if(null!=e){var t=e.intrinsicData.Actor;if(t.isDestroyed)this.worldHelper.interpreter.throwException("Ein schon zerst√∂rtes Objekt kann keiner Gruppe hinzugef√ºgt werden.");else if(!this.hasCircularReference(e)){if(this.shapes.push(e),null!=t.belongsToGroup)t.belongsToGroup.remove(e);else{var n=this.worldHelper.shapes.indexOf(t);n>=0&&this.worldHelper.shapes.splice(n,1)}t.belongsToGroup=this,this.displayObject.parent.updateTransform();var i=(new PIXI.Matrix).copyFrom(this.displayObject.transform.worldTransform);i.invert(),t.displayObject.localTransform.prepend(i.prepend(this.worldHelper.stage.localTransform)),t.displayObject.transform.onChange(),this.displayObject.addChild(t.displayObject),t.displayObject.updateTransform();var r=0,o=0,a=!0,s=!1,l=void 0;try{for(var u,c=this.shapes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value.intrinsicData.Actor;r+=d.getCenterX(),o+=d.getCenterY()}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=r/this.shapes.length,p=o/this.shapes.length;this.displayObject.updateTransform();var f=this.displayObject.worldTransform.applyInverse(new PIXI.Point(h,p));this.centerXInitial=f.x,this.centerYInitial=f.y}}}},{key:"removeAllChidren",value:function(){var e=0,t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.deregister(a,e++)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.shapes=[]}},{key:"remove",value:function(e){var t=this.shapes.indexOf(e);t>=0&&(this.shapes.splice(t,1),this.deregister(e,t))}},{key:"deregister",value:function(e,t){var n=e.intrinsicData.Actor,i=(new PIXI.Matrix).copyFrom(n.displayObject.transform.worldTransform);this.displayObject.removeChildAt(t);var r=(new PIXI.Matrix).copyFrom(this.worldHelper.stage.localTransform);r.invert(),n.displayObject.localTransform.identity(),n.displayObject.localTransform.append(i.prepend(r)),n.displayObject.transform.onChange(),this.worldHelper.stage.addChild(n.displayObject),n.displayObject.updateTransform(),n.belongsToGroup=null}},{key:"render",value:function(){}},{key:"destroy",value:function(){this.destroyChildren(),au(cu(t.prototype),"destroy",this).call(this)}},{key:"destroyChildren",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.shapes.slice(0)[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.intrinsicData.Actor.destroy()}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.shapes=[]}},{key:"hasOverlappingBoundingBoxWith",value:function(e){this.displayObject.updateTransform(),e.displayObject.updateTransform();var t=this.displayObject.getBounds(),n=e.displayObject.getBounds();return!(t.left>n.right||n.left>t.right||t.top>n.bottom||n.top>t.bottom)}},{key:"collidesWith",value:function(e){if(!this.hasOverlappingBoundingBoxWith(e))return!1;var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)if(r.value.intrinsicData.Actor.collidesWith(e))return!0}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return!1}},{key:"setHitPolygonDirty",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.intrinsicData.Actor.setHitPolygonDirty(e)}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"containsPoint",value:function(e,t){this.displayObject.updateTransform();var n=this.displayObject.getBounds();if(e<n.left||e>n.left+n.width||t<n.top||t>n.top+n.height)return!1;var i=!0,r=!1,o=void 0;try{for(var a,s=this.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(a.value.intrinsicData.Actor.containsPoint(e,t))return!0}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return!1}},{key:"getCollidingObjects",value:function(e){var t=[],n=e.intrinsicData.Actor,i=!0,r=!1,o=void 0;try{for(var a,s=this.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.intrinsicData.Actor.collidesWith(n)&&t.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t}},{key:"getCollidingObjects2",value:function(e,t,n){var i=[],r=new Map,o=!0,a=!1,s=void 0;try{for(var l,u=this.shapes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value.intrinsicData.Actor,d=!0,h=!1,p=void 0;try{for(var f,y=e.shapes[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value.intrinsicData.Actor;if(c.collidesWith(v)){if(!n||null==r.get(v)){r.set(v,!0);var m=new M(t);m.intrinsicData.ShapeA=c.runtimeObject,m.intrinsicData.ShapeB=v.runtimeObject,i.push({type:t,value:m})}if(n)break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return i}},{key:"hasCircularReference",value:function(e){var n=e.intrinsicData.Actor;if(n instanceof t){if(n==this)return this.worldHelper.interpreter.throwException("Eine Group darf sich nicht selbst enthalten!"),!0;var i=!0,r=!1,o=void 0;try{for(var a,s=n.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(this.hasCircularReference(l))return!0}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}return!1}},{key:"tint",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shapes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.intrinsicData.Actor.tint(e)}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}])&&ou(n.prototype,i),r&&ou(n,r),t}(Rs);function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t){return!t||"object"!==vu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gu(e){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bu(e,t){return(bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wu,ku=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mu(this,gu(t).call(this,"Key",e,"Aufz√§hlung von Sondertasten zur Benutzung in den Methoden Actor.onKeyUp, Actor.onKeyTyped und Actor.onKeyDown"))).setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new k("ArrowUp",ht,(function(e){e.value="ArrowUp"}),!0,j.public,!0,"")),n.addAttribute(new k("ArrowDown",ht,(function(e){e.value="ArrowDown"}),!0,j.public,!0,"")),n.addAttribute(new k("ArrowLeft",ht,(function(e){e.value="ArrowLeft"}),!0,j.public,!0,"")),n.addAttribute(new k("ArrowRight",ht,(function(e){e.value="ArrowRight"}),!0,j.public,!0,"")),n.addAttribute(new k("Enter",ht,(function(e){e.value="Enter"}),!0,j.public,!0,"")),n.addAttribute(new k("Space",ht,(function(e){e.value=" "}),!0,j.public,!0,"")),n.addAttribute(new k("Shift",ht,(function(e){e.value="Shift"}),!0,j.public,!0,"")),n.addAttribute(new k("Alt",ht,(function(e){e.value="Alt"}),!0,j.public,!0,"")),n.addAttribute(new k("Strg",ht,(function(e){e.value="Control"}),!0,j.public,!0,"")),n.addAttribute(new k("PageUp",ht,(function(e){e.value="PageUp"}),!0,j.public,!0,"")),n.addAttribute(new k("PageDown",ht,(function(e){e.value="PageDown"}),!0,j.public,!0,"")),n.addAttribute(new k("Backspace",ht,(function(e){e.value="Backspace"}),!0,j.public,!0,"")),n.addAttribute(new k("Escape",ht,(function(e){e.value="Escape"}),!0,j.public,!0,"")),n.addAttribute(new k("Entf",ht,(function(e){e.value="Delete"}),!0,j.public,!0,"")),n.addAttribute(new k("Einf",ht,(function(e){e.value="Insert"}),!0,j.public,!0,"")),n.addAttribute(new k("Ende",ht,(function(e){e.value="End"}),!0,j.public,!0,"")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bu(e,t)}(t,e),t}(G);function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Tu(e,t,n){return t&&xu(e.prototype,t),n&&xu(e,n),e}function Mu(e,t){return!t||"object"!==Su(t)&&"function"!=typeof t?ju(e):t}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ou(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}function Eu(e,t){return(Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.makeHull=function(t){var n=t.slice();return n.sort(e.POINT_COMPARATOR),e.makeHullPresorted(n)},e.makeHullPresorted=function(e){if(e.length<=1)return e.slice();for(var t=[],n=0;n<e.length;n++){for(var i=e[n];t.length>=2;){var r=t[t.length-1],o=t[t.length-2];if(!((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x)))break;t.pop()}t.push(i)}t.pop();for(var a=[],s=e.length-1;s>=0;s--){for(var l=e[s];a.length>=2;){var u=a[a.length-1],c=a[a.length-2];if(!((u.x-c.x)*(l.y-c.y)>=(u.y-c.y)*(l.x-c.x)))break;a.pop()}a.push(l)}return a.pop(),1==t.length&&1==a.length&&t[0].x==a[0].x&&t[0].y==a[0].y?t:t.concat(a)},e.POINT_COMPARATOR=function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}(wu||(wu={}));var Au=function(e){function t(e){var n;Pu(this,t),(n=Mu(this,Cu(t).call(this,"Polygon",e,"Wahlweise geschlossenes Polygon (mit F√ºllung und Rand) oder offener Streckenzug"))).setBaseClass(e.typeStore.getType("FilledShape"));var i=e.typeStore.getType("Shape");return n.addMethod(new S("Polygon",new P([{identifier:"closeAndFill",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:new Y(ut),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=[];r.forEach((function(e){return o.push(e.value)}));var a=new Du(o,i,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Polygon. Die Punkte werden als Array von double-Werten der Form {x1, y1, x2, y2, ...} √ºbergeben.",!0)),n.addMethod(new S("Polygon",new P([{identifier:"closeAndFill",type:ct,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:new Y(ut),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=[];r.forEach((function(e){return o.push(e.value)}));var a=new Du(o,i,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Polygon. Die Punkte werden als double-Werte der Form x1, y1, x2, y2, ... √ºbergeben.",!0)),n.addMethod(new S("Polygon",new P([{identifier:"closeAndFill",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=new Du([],i,e.main.getInterpreter(),n);n.intrinsicData.Actor=r}),!1,!1,"Instanziert ein neues Polygon ohne Punkte.",!0)),n.addMethod(new S("Polygon",new P([{identifier:"shape",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var i=t[0].value,r=t[1].value;if(null!=r){var o=r.intrinsicData.Actor;o.displayObject.getBounds();var a=[];a=n.extractPoints(o,a),a=wu.makeHull(a);var s=[],l=!0,u=!1,c=void 0;try{for(var d,h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s.push(p.x),s.push(p.y)}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}s.length>0&&(s=s.concat(s.slice(0,2)));var f=new Du(s,!1,e.main.getInterpreter(),i,!0);i.intrinsicData.Actor=f}else e.main.getInterpreter().throwException("Die √ºbergebene Figur ist null.")}),!1,!1,"Instanziert ein neues Polygon. Seine Punkte sind die Punkte des Hitpolygons der √ºbergebenen Figur.",!0)),n.addMethod(new S("addPoint",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("addPoint")||r.addPoint(n,i)}),!1,!1,'F√ºgt dem Polygon einen Punkt hinzu."',!1)),n.addMethod(new S("addPoints",new P([{identifier:"points",type:new Y(ut),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("addPoints"))for(var r=0;r<n.length-1;r+=2)i.addPoint(n[r].value,n[r+1].value,r>=n.length-2)}),!1,!1,'F√ºgt dem Polygon mehrere Punkte hinzu. Diese werden in einem double[] √ºbergeben, das abwechselnd die x- und y-Koordinaten enth√§lt."',!1)),n.addMethod(new S("insertPoint",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("insertPoint")||o.insertPoint(n,i,r)}),!1,!1,'F√ºgt dem Polygon einen Punkt als "index-ter" Punkt hinzu. index == 0 => ganz am Anfang; index == Anzahl der bisherigen Punkte => ganz am Ende;"',!1)),n.addMethod(new S("movePointTo",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("insertPoint")||o.movePointTo(n,i,r)}),!1,!1,"schiebt den index-ten Punkt nach (x, y). index == 0 => erster Punkt, index == 1 => zweiter Punkt usw.",!1)),n.addMethod(new S("close",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("close")||(t.isClosed=!0,t.render())}),!1,!1,"Schlie√üt das Polygon. Diese Methode hat bei gef√ºllten Polygonen keinen Effekt.",!1)),n.addMethod(new S("open",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("open")||(t.isClosed=!1,t.render())}),!1,!1,"√ñffnet das Polygon. Diese Methode hat bei gef√ºllten Polygonen keinen Effekt.",!1)),n.addMethod(new S("copy",new P([]),ju(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Polygon-Objekts und git sie zur√ºck.",!1)),n}return Ou(t,e),Tu(t,[{key:"extractPoints",value:function(e,t){if(e instanceof yu){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n=this.extractPoints(l.intrinsicData.Actor,n)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t.concat(n)}return e.hitPolygonDirty&&e.transformHitPolygon(),t.concat(e.hitPolygonTransformed.map((function(e){return{x:e.x,y:e.y}})))}}]),t}(G),Du=function(e){function t(e,n,i,r){var o,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Pu(this,t),(o=Mu(this,Cu(t).call(this,i,r))).closeAndFill=n,o.isClosed=!1,o.isClosed=a;var s=0,l=0;o.hitPolygonInitial=[];for(var u=0;u<e.length;){var c=e[u++],d=e[u++];s+=c,l+=d,o.hitPolygonInitial.push({x:c,y:d})}return e.length>1&&(o.centerXInitial=s/o.hitPolygonInitial.length,o.centerYInitial=l/o.hitPolygonInitial.length),n||(o.borderColor=255),o.render(),o.addToDefaultGroup(),o}return Ou(t,e),Tu(t,[{key:"getCopy",value:function(e){var n=new M(e),i=new t([],this.closeAndFill,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;if(null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&this.closeAndFill&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),this.hitPolygonInitial.length>0){e.moveTo(this.hitPolygonInitial[0].x,this.hitPolygonInitial[0].y);for(var t=1;t<this.hitPolygonInitial.length;t++)e.lineTo(this.hitPolygonInitial[t].x,this.hitPolygonInitial[t].y)}(this.closeAndFill||this.isClosed)&&e.closePath(),null!=this.fillColor&&this.closeAndFill&&e.endFill()}},{key:"addPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial.push({x:i.x,y:i.y}),this.hitPolygonDirty=!0,n&&this.render()}},{key:"insertPoint",value:function(e,t,n){n<0&&(n=0),n>this.hitPolygonInitial.length&&(n=this.hitPolygonInitial.length);var i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial.splice(n,0,{x:i.x,y:i.y}),this.hitPolygonDirty=!0,this.render()}},{key:"movePointTo",value:function(e,t,n){if(n<0&&(n=0),n>this.hitPolygonInitial.length&&(n=this.hitPolygonInitial.length),0!=this.hitPolygonInitial.length){var i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial[n].x=i.x,this.hitPolygonInitial[n].y=i.y,this.hitPolygonDirty=!0,this.render()}}},{key:"setPoint",value:function(e,t,n){0!=n&&1!=n||(this.hitPolygonInitial[n]={x:e,y:t},this.hitPolygonDirty=!0,this.render())}},{key:"setPoints",value:function(e,t,n,i){this.hitPolygonInitial=[{x:e,y:t},{x:n,y:i}],this.hitPolygonDirty=!0,this.render()}},{key:"setAllPointsUntransformed",value:function(e){this.hitPolygonInitial=[];for(var t=0;t<e.length;t+=2)this.hitPolygonInitial.push({x:e[t],y:e[t+1]});this.hitPolygonDirty=!0,this.render()}}]),t}(sl);function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zu(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?Bu(e):t}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ru(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wu(e,t)}function Wu(e,t){return(Wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gu=function(e){function t(e){var n;return _u(this,t),(n=zu(this,Lu(t).call(this,"Rectangle",e,"Rechteck"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Rectangle",new P([{identifier:"left",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Nu(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues, achsenparalleles Rechteck-Objekt. (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),n.addMethod(new S("setWidth",new P([{identifier:"width",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setWidth")||(t.width=n/t.displayObject.scale.x,t.centerXInitial=t.left+t.width/2,t.render())}),!1,!1,"Setzt die Breite des Rechtecks.",!1)),n.addMethod(new S("setHeight",new P([{identifier:"height",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setHeight")||(t.height=n/t.displayObject.scale.y,t.centerYInitial=t.top+t.height/2,t.render())}),!1,!1,"Setzt die H√∂he des Rechtecks.",!1)),n.addMethod(new S("getWidth",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.width*t.scaleFactor}),!1,!1,"Gibt die Breite zur√ºck.",!1)),n.addMethod(new S("getHeight",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.height*t.scaleFactor}),!1,!1,"Gibt die H√∂he zur√ºck.",!1)),n.addMethod(new S("copy",new P([]),Bu(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Rectangle-Objekts und git sie zur√ºck.",!1)),n}return Ru(t,e),t}(G),Nu=function(e){function t(e,n,i,r,o,a){var s;return _u(this,t),(s=zu(this,Lu(t).call(this,o,a))).left=e,s.top=n,s.width=i,s.height=r,s.centerXInitial=e+i/2,s.centerYInitial=n+r/2,s.render(),s.addToDefaultGroup(),s}var n,i,r;return Ru(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.left,this.top,this.width,this.height,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){this.hitPolygonInitial=[{x:this.left,y:this.top},{x:this.left,y:this.top+this.height},{x:this.left+this.width,y:this.top+this.height},{x:this.left+this.width,y:this.top}];var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.moveTo(this.left,this.top),e.lineTo(this.left+this.width,this.top),e.lineTo(this.left+this.width,this.top+this.height),e.lineTo(this.left,this.top+this.height),e.closePath(),null!=this.fillColor&&e.endFill()}}])&&Iu(n.prototype,i),r&&Iu(n,r),t}(sl);function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vu(e,t){return!t||"object"!==$u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ku(e,t){return(Ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Vu(this,Hu(t).call(this,"RepeatType",e,[{type:r.pushEnumValue,position:null,identifier:"once"},{type:r.pushEnumValue,position:null,identifier:"loop"},{type:r.pushEnumValue,position:null,identifier:"backAndForth"}]))).documentation="Gibt an, auf welche Art eine Sprite-Animation abgespielt werden soll.",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ku(e,t)}(t,e),t}(Ht);function Uu(e){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qu(e,t){return!t||"object"!==Uu(t)&&"function"!=typeof t?Ju(e):t}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nc=function(e){function t(e){var n;return Xu(this,t),(n=qu(this,Yu(t).call(this,"RoundedRectangle",e,"Rechteck mit abgerundeten Ecken"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("RoundedRectangle",new P([{identifier:"left",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radius",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new ic(i,r,o,a,s,e.main.getInterpreter(),n);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues, achsenparalleles abgerundetes Rechteck-Objekt. (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),n.addMethod(new S("getWidth",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.width*t.displayObject.scale.x}),!1,!1,"Gibt die Breite zur√ºck.",!1)),n.addMethod(new S("getHeight",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.height*t.displayObject.scale.y}),!1,!1,"Gibt die H√∂he zur√ºck.",!1)),n.addMethod(new S("getRadius",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.radius*t.displayObject.scale.y}),!1,!1,"Gibt den Eckradius zur√ºck.",!1)),n.addMethod(new S("copy",new P([]),Ju(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des RoundedRectangle-Objekts und git sie zur√ºck.",!1)),n}return ec(t,e),t}(G),ic=function(e){function t(e,n,i,r,o,a,s){var l;return Xu(this,t),(l=qu(this,Yu(t).call(this,a,s))).left=e,l.top=n,l.width=i,l.height=r,l.radius=o,l.centerXInitial=e+i/2,l.centerYInitial=n+r/2,l.hitPolygonInitial=[],l.addCenterCircle(e+o,n+o,Math.PI/2),l.addCenterCircle(e+o,n+r-o,Math.PI),l.addCenterCircle(e+i-o,n+r-o,3*Math.PI/2),l.addCenterCircle(e+i-o,n+o,0),l.hitPolygonInitial.push({x:e+o,y:n}),l.render(),l.addToDefaultGroup(),l}var n,i,r;return ec(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.left,this.top,this.width,this.height,this.radius,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"addCenterCircle",value:function(e,t,n){for(var i=Math.PI/2/8,r=0;r<=8;r++)this.hitPolygonInitial.push({x:e+this.radius*Math.cos(n+i*r),y:t-this.radius*Math.sin(n+i*r)})}},{key:"render",value:function(){var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.drawRoundedRect(this.left,this.top,this.width,this.height,this.radius),null!=this.fillColor&&e.endFill()}}])&&Zu(n.prototype,i),r&&Zu(n,r),t}(sl);function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){return!t||"object"!==rc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=oc(this,ac(t).call(this,"ScaleMode",e,[{type:r.pushEnumValue,position:null,identifier:"linear"},{type:r.pushEnumValue,position:null,identifier:"nearest_neighbour"}]))).documentation="Art der Interpolation der Pixelfarben beim Skalieren von grafischen Objekten",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(t,e),t}(Ht);function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e,t){return!t||"object"!==uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hc(e,t){return(hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pc=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=cc(this,dc(t).call(this,"Sound",e,"Aufz√§hlung aller Ger√§usche"))).setBaseClass(e.typeStore.getType("Object"));var i=!0,r=!1,o=void 0;try{for(var a,s=function(){var e=a.value;n.addAttribute(new k(e.name,ht,(function(t){t.value=e.name}),!0,j.public,!0,e.description))},l=Nr.sounds[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)s()}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("playSound",new P([{identifier:"sound",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[1].value;Nr.play(t)}),!1,!0,"Spielt einen Sound ab. Die M√∂glichen Sounds sind als statische Variablen der Klasse Sound hinterlegt. Tippe als Parameter also Sound gefolgt von einem Punkt ein, um eine Auswahl zu sehen!")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hc(e,t)}(t,e),t}(G);function fc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var yc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getPolygonForTexture",value:function(t,n,i,r){null==n&&(n=0),t+="#"+n;var o=e.polygonStore[t];return null==o&&(o=e.getPolygon(r,i.worldHelper),e.polygonStore[t]=o),o}},{key:"getPolygon",value:function(t,n){var i=n.app.renderer.plugins.extract.pixels(t),r=t.width,o=t.height;if(i.length!==4*r*o)return[{x:0,y:0},{x:r,y:0},{x:r,y:o},{x:0,y:o}];var a=[],s=[];e.addPointsOnLine({x:0,y:0},{x:r-1,y:0},9,s),e.addPointsOnLine({x:r-1,y:0},{x:r-1,y:o-1},9,s),e.addPointsOnLine({x:r-1,y:o-1},{x:0,y:o-1},9,s),e.addPointsOnLine({x:0,y:o-1},{x:0,y:0},9,s);for(var l={x:r/2,y:o/2},u=0,c=s;u<c.length;u++){var d=c[u];e.probe(a,d,l,r,o,i)}for(var h=!1;!h;){h=!0;for(var p=0;p<a.length-1;p++)js(a[p],a[(p+2)%a.length],a[p+1])<2&&(a.splice(p+1,1),h=!1)}return a}},{key:"addPointsOnLine",value:function(e,t,n,i){for(var r=(t.x-e.x)/(n-1),o=(t.y-e.y)/(n-1),a=1;a<=n-1+.1;a++)i.push({x:e.x+r*a,y:e.y+o*a})}},{key:"probe",value:function(t,n,i,r,o,a){for(var s,l,u=xs(n,i),c=(i.x-n.x)/u,d=(i.y-n.y)/u,h=0;h<=u-2&&(s=n.x+h*c,l=n.y+h*d,e.isTransparent(s,l,r,o,a));h++);t.push({x:s,y:l})}},{key:"isTransparent",value:function(e,t,n,i,r){return e<0||t<0||e>n||t>i||0==r[4*Math.round(e)+4*n*Math.round(t)+3]}}],(n=null)&&fc(t.prototype,n),i&&fc(t,i),e}();function vc(e){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gc(e,t,n){return t&&mc(e.prototype,t),n&&mc(e,n),e}function bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wc(e,t){return!t||"object"!==vc(t)&&"function"!=typeof t?Sc(e):t}function kc(e){return(kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xc(e,t)}function xc(e,t){return(xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}yc.polygonStore={};var Tc=function(e){function t(e){var n;bc(this,t),(n=wc(this,kc(t).call(this,"Sprite",e,"Ein Sprite ist eine kleine Pixelgrafik, die verschoben, gedreht und skaliert werden kann. Zudem besitzt es Methoden zum Erkennen von Kollisionen mit anderen grafischen Objekten."))).setBaseClass(e.typeStore.getType("Shape"));var i=e.typeStore.getType("ScaleMode");return n.addMethod(new S("Sprite",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"scalemode",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new Mc(i,r,o.enumValue.identifier,a,e.main.getInterpreter(),n,null,s.enumValue.identifier);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein Auz√§hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erh√§ltst Du ein Auswahl von Bildern. Einen √úberblick √ºber die Bilder bekommst Du auch √ºber den Men√ºpunkt Hilfe->Sprite-Bilder√ºbersicht.",!0)),n.addMethod(new S("Sprite",new P([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"scalemode",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value;if(null!=i){var o=new Mc(0,0,"",0,e.main.getInterpreter(),n,i.intrinsicData.Actor,r.enumValue.identifier);n.intrinsicData.Actor=o}else e.main.getInterpreter().throwException("Die √ºbergebene Figur ist null.")}),!1,!1,"Zeichnet das graphische Objekt (shape) in eine Bitmap und macht daraus ein Sprite. Dieses wird an der Position (x, y) dargestellt.",!0)),n.addMethod(new S("Sprite",new P([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value;if(null!=i){var r=new Mc(0,0,"",0,e.main.getInterpreter(),n,i.intrinsicData.Actor,"linear");n.intrinsicData.Actor=r}else e.main.getInterpreter().throwException("Die √ºbergebene Figur ist null.")}),!1,!1,"Zeichnet das graphische Objekt (shape) in eine Bitmap und macht daraus ein Sprite. Dieses wird an der Position (x, y) dargestellt.",!0)),n.addMethod(new S("Sprite",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Mc(i,r,o.enumValue.identifier,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein Aufz√§hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erh√§ltst Du ein Auswahl von Bildern. Einen √úberblick √ºber die Bilder bekommst Du auch √ºber den Men√ºpunkt Hilfe->Sprite-Bilder√ºbersicht.",!0)),n.addMethod(new S("Sprite",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new Mc(i,r,o.enumValue.identifier,null,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein Auz√§hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erh√§ltst Du ein Auswahl von Bildern. Einen √úberblick √ºber die Bilder bekommst Du auch √ºber den Men√ºpunkt Hilfe->Sprite-Bilder√ºbersicht.",!0)),n.addMethod(new S("setImage",new P([{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.isDestroyed||i.setTexture(n.enumValue.identifier)}),!1,!1,"√Ñndert das Bild des Sprites. SpriteLibraryEntry ist ein Auz√§hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erh√§ltst Du ein Auswahl von Bildern. Einen √úberblick √ºber die Bilder bekommst Du auch √ºber den Men√ºpunkt Hilfe->Sprite-Bilder√ºbersicht.",!1)),n.addMethod(new S("setImage",new P([{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.isDestroyed||r.setTexture(n.enumValue.identifier,i)}),!1,!1,"√Ñndert das Bild des Sprites. SpriteLibraryEntry ist ein Auz√§hlungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erh√§ltst Du ein Auswahl von Bildern. Einen √úberblick √ºber die Bilder bekommst Du auch √ºber den Men√ºpunkt Hilfe->Sprite-Bilder√ºbersicht.",!1)),n.addMethod(new S("setImageIndex",new P([{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.isDestroyed||i.setTexture(i.textureName,n)}),!1,!1,"√Ñndert den Bildindex des Sprites.",!1)),n.addMethod(new S("playAnimation",new P([{identifier:"indexArray",type:new Y(st),declaration:null,usagePositions:null,isFinal:!0},{identifier:"repeatType",type:e.typeStore.getType("RepeatType"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"imagesPerSecond",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor,a=[],s=!0,l=!1,u=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;a.push(h.value)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}o.testdestroyed("playAnimation")||o.playAnimation(a,i.enumValue.identifier,r)}),!1,!1,"Spielt eine Animation ab.",!1)),n.addMethod(new S("playAnimation",new P([{identifier:"fromIndex",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"toIndex",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"repeatType",type:e.typeStore.getType("RepeatType"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"imagesPerSecond",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.Actor;if(!a.testdestroyed("playAnimation")){var s=[];if(n<i&&i-n<1e4)for(var l=n;l<=i;l++)s.push(l);a.playAnimation(s,r.enumValue.identifier,o)}}),!1,!1,"Spielt eine Animation ab.",!1)),n.addMethod(new S("stopAnimation",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.isDestroyed||t.stopAnimation(!1)}),!1,!1,"Stoppt die gerade laufende Animation",!1)),n.addMethod(new S("pauseAnimation",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("pauseAnimation")||t.pauseAnimation()}),!1,!1,"Pausiert die laufende Animation.",!1)),n.addMethod(new S("resumeAnimation",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("resumeAnimation")||t.resumeAnimation()}),!1,!1,"F√§hrt mit einer pausierten Animation wieder fort.",!1)),n.addMethod(new S("setAlpha",new P([{identifier:"alphaValue",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setAlpha")||i.setAlpha(n)}),!1,!1,"Setzt die Durchsichtigkeit. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig.",!1)),n.addMethod(new S("copy",new P([]),Sc(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Sprite-Objekts und git sie zur√ºck.",!1)),n.addMethod(new S("getWidth",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.getWidth()}),!1,!1,"Gibt die Breite zur√ºck.",!1)),n.addMethod(new S("getHeight",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.getHeight()}),!1,!1,"Gibt die H√∂he zur√ºck.",!1)),n.addMethod(new S("makeTiling",new P([{identifier:"width",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("makeTiling")||r.makeTiling(n,i)}),!1,!1,"F√ºgt das identische Bild nach rechts und unten kachelartig ('tile'!) so oft hinzu, bis die angegebene Breite erreicht ist. \nTIPP: Mit der Methode getTileImage() erh√§lt man ein Tile-Objekt, dessen Methoden move, scale, mirrorX und mirrorY sich gleichzeitig auf jede einzelne Kachel auswirken.",!1)),n.addMethod(new S("getTileImage",new P([]),e.typeStore.getType("Tile"),(function(t){var n=t[0].value.intrinsicData.Actor;if(!n.testdestroyed("getTileImage")){if(n.isTileSprite){var i=new M(e.typeStore.getType("Tile"));return i.intrinsicData.Actor=new jc(n),i}n.worldHelper.interpreter.throwException("Das Sprite hat kein TileImage. Sie m√ºssen es zuerst mit der Methode makeTiling in ein Kachel-Sprite umwandeln.")}}),!1,!1,"Nachdem das Sprite mittels der Methode 'makeTiling' zum TileSprite gemacht wurde, kann wirken die Methoden move, scale und rotate immer auf den ganzen gekachelten Bereich. Will man das verfielfachte Bild √§ndern, so bekommt man √ºber diese Methode das Sprite-Objekt, das diesem Bild entspricht. Ruft man f√ºr dieses Objekt die Methoden move, rotate oder scale auf, so wirken sie auf jede der einzelnen Kacheln.",!1)),n}return Pc(t,e),t}(G),Mc=function(e){function t(e,n,i,r,o,a,s){var l,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"nearest_neighbour";if(bc(this,t),(l=wc(this,kc(t).call(this,o,a))).x=e,l.y=n,l.name=i,l.index=r,l.scaleMode=u,l.animationIndices=[],l.animationRuns=!1,l.imagesPerMillisecond=1,l.animationTime=0,l.animationPaused=!1,l.repeatType="once",l.textureName="",l.isTileSprite=!1,null==s)l.setTexture(null,r);else{l.copyBitmapFromShape(s);var c=s.displayObject.getBounds();l.x=c.left+c.width/2,l.y=c.top+c.height/2}var d=l.displayObject;return l.displayObject.localTransform.translate(l.x-d.width/2,l.y-d.height/2),l.displayObject.transform.onChange(),l.worldHelper.stage.addChild(d),l.centerXInitial=d.width/2,l.centerYInitial=d.height/2,l.addToDefaultGroup(),l}return Pc(t,e),gc(t,[{key:"makeTiling",value:function(e,t){e/=this.scaleFactor,t/=this.scaleFactor;var n=this.displayObject,i=new PIXI.TilingSprite(n.texture,e,t);n.texture.baseTexture.mipmap=PIXI.MIPMAP_MODES.OFF,i.setParent(n.parent),i.transform.localTransform.copyFrom(n.transform.localTransform),i.transform.onChange(),i.updateTransform(),this.displayObject=i,this.centerXInitial+=-n.width/2+e/2,this.centerYInitial+=-n.height/2+t/2;var r=this.centerXInitial-e/2,o=this.centerYInitial-t/2,a=r+e,s=o+t;this.hitPolygonInitial=[{x:r,y:o},{x:a,y:o},{x:a,y:s},{x:r,y:s}],this.setHitPolygonDirty(!0),n.destroy(),this.isTileSprite=!0}},{key:"setTileOffset",value:function(e,t){this.isTileSprite&&this.displayObject.tilePosition.set(e,t)}},{key:"copyBitmapFromShape",value:function(e){var t=e.displayObject.getBounds(),n=t.width,i=t.height,r=new PIXI.BaseRenderTexture({scaleMode:"nearest_neighbour"==this.scaleMode?PIXI.SCALE_MODES.NEAREST:PIXI.SCALE_MODES.LINEAR,width:n,height:i}),o=new PIXI.RenderTexture(r),a=e.displayObject;this.worldHelper.app.renderer.render(a,{renderTexture:o,transform:(new PIXI.Matrix).translate(-t.left,-t.top)});var s=[];s=this.extractPoints(e,s);var l=!0,u=!1,c=void 0;try{for(var d,h=s[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;p.x-=t.left,p.y-=t.top}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}this.hitPolygonInitial=s,this.hitPolygonInitial=wu.makeHull(s),this.hitPolygonDirty=!0,this.displayObject=new PIXI.Sprite(o),e.setHitPolygonDirty(!0)}},{key:"extractPoints",value:function(e,t){if(e instanceof yu){var n=!0,i=!1,r=void 0;try{for(var o,a=e.shapes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t=this.extractPoints(s.intrinsicData.Actor,t)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}return e.hitPolygonDirty&&e.transformHitPolygon(),t.concat(e.hitPolygonTransformed.map((function(e){return{x:e.x,y:e.y}})))}},{key:"getWidth",value:function(){return this.displayObject.width*this.scaleFactor}},{key:"getHeight",value:function(){return this.displayObject.height*this.scaleFactor}},{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.x,this.y,this.name,this.index,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.copyFrom(this),i.render(),n}},{key:"setAlpha",value:function(e){this.displayObject.alpha=e}},{key:"setTexture",value:function(e,t){if(e!=this.name||t!=this.index){null==e&&(e=this.name),null==t&&(t=0),this.index=t,this.textureName=e;var n="";null!=window.javaOnlineDir&&(n=window.javaOnlineDir);var i=PIXI.Loader.shared.resources[n+"assets/graphics/spritesheet.json"].spritesheet,r=e+"#"+t,o=i.textures[r];if(null!=o){if("linear"==this.scaleMode){var a=this.worldHelper.scaledTextures[r];if(null==a){var s=new PIXI.Sprite(o),l=PIXI.RenderTexture.create({width:s.width,height:s.height,scaleMode:PIXI.SCALE_MODES.LINEAR});this.worldHelper.app.renderer.render(s,{renderTexture:l}),this.worldHelper.scaledTextures[r]=l,a=l}null==(o=a)&&(o=i.textures[r])}var u=this.displayObject;null==u?(u=new PIXI.Sprite(o),this.displayObject=u):u.texture=o,this.hitPolygonInitial=yc.getPolygonForTexture(e,t,this,new PIXI.Sprite(i.textures[r])),this.hitPolygonDirty=!0}else null==this.displayObject&&(this.displayObject=new PIXI.Sprite)}}},{key:"render",value:function(){}},{key:"playAnimation",value:function(e,t,n){this.stopAnimation(!1),this.animationIndices=e,this.repeatType=t,this.imagesPerMillisecond=n/1e3,this.animationTime=0,this.animationRuns=!0,this.worldHelper.spriteAnimations.push(this)}},{key:"stopAnimation",value:function(e){if(this.animationRuns){var t=this.worldHelper.spriteAnimations,n=t.indexOf(this);n>=0&&t.splice(n,1)}this.animationRuns=!1,e&&this.setVisible(!1)}},{key:"pauseAnimation",value:function(){this.animationPaused=!0}},{key:"resumeAnimation",value:function(){this.animationPaused=!1}},{key:"tick",value:function(e){if(!this.animationPaused){var t;if("backAndForth"==this.repeatType){var n=2*this.animationIndices.length/this.imagesPerMillisecond,i=Math.trunc(this.animationTime/n),r=this.animationTime-i*n;(t=this.imagesPerMillisecond*r)>=this.animationIndices.length&&(t=Math.max(2*this.animationIndices.length-.1-t,0)),t=Math.trunc(t)}else if("loop"==this.repeatType){var o=this.animationIndices.length/this.imagesPerMillisecond,a=Math.trunc(this.animationTime/o),s=this.animationTime-a*o;t=this.imagesPerMillisecond*s,t=Math.trunc(t)}else if((t=Math.trunc(this.imagesPerMillisecond*this.animationTime))>=this.animationIndices.length)return void this.stopAnimation(!0);this.animationTime+=e,this.setTexture(null,this.animationIndices[t])}}}]),t}(Rs),Cc=function(e){function t(e){var n;return bc(this,t),(n=wc(this,kc(t).call(this,"Tile",e,"Eine Kachel in einem Sprite, das mithilfe der Methode makeTiling zu einer Kachelfl√§che gemacht wurde."))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new S("move",new P([{identifier:"dx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dy",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("move")||r.move(n,i)}),!1,!1,"Verschiebt das Grafikobjekt um dx Pixel nach rechts und um dy Pixel nach unten.",!1)),n.addMethod(new S("scale",new P([{identifier:"factor",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("scale")||i.scale(n,n)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der 'Mittelpunkt' des Objekts.",!1)),n.addMethod(new S("mirrorX",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.scale(-1,1)}),!1,!1,"Spiegelt das Objekt in X-Richtung.",!1)),n.addMethod(new S("mirrorY",new P([]),at,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.scale(1,-1)}),!1,!1,"Spiegelt das Objekt in Y-Richtung.",!1)),n}return Pc(t,e),t}(G),jc=function(){function e(t){bc(this,e),this.spriteHelper=t}return gc(e,[{key:"move",value:function(e,t){var n=this.spriteHelper.displayObject;n.tilePosition.x+=e,n.tilePosition.y+=t}},{key:"scale",value:function(e,t){var n=this.spriteHelper.displayObject;n.tileScale.x*=e,n.tileScale.y*=t}},{key:"testdestroyed",value:function(e){return this.spriteHelper.testdestroyed(e)}}]),e}();function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ec(e,t){return!t||"object"!==Oc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dc(e,t){return(Dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ec(this,Ac(t).call(this,"SpriteLibrary",e,SpriteLibrary.filter((function(e){return null==e.index||0==e.index})).map((function(e){return{type:r.pushEnumValue,position:null,identifier:e.name}}))))).documentation="Aufz√§hlung der Sprite-Grafiken",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dc(e,t)}(t,e),t}(Ht);function Ic(e){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lc(e,t){return!t||"object"!==Ic(t)&&"function"!=typeof t?Rc(e):t}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nc=function(e){function t(e){var n;return zc(this,t),(n=Lc(this,Bc(t).call(this,"Text",e,"Text, der innerhalb der Grafikausgabe dargestellt werden kann"))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Text",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"fontsize",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new $c(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues Textobjekt. (x, y) sind die Koordinaten des Textankers (default: links oben), fontsize die H√∂he des Textes in Pixeln.",!0)),n.addMethod(new S("Text",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"fontsize",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"font-family",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new $c(i,r,o,a,e.main.getInterpreter(),n,s);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues Textobjekt. (x, y) sind die Koordinaten des Textankers (default: links oben), fontsize die H√∂he des Textes in Pixeln.",!0)),n.addMethod(new S("setFontsize",new P([{identifier:"fontsize",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setFontsize(n)}),!1,!1,"Setzt die Schriftgr√∂√üe des Textes (Einheit: Pixel).",!1)),n.addMethod(new S("setAlignment",new P([{identifier:"alignment",type:e.typeStore.getType("Alignment"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setAlignment(n.enumValue.identifier)}),!1,!1,'Setzt die Ausrichtung in X-Richtung. Zul√§ssige Werte sind "Alignment.left", "Alignment.right" und "Alignment.center".',!1)),n.addMethod(new S("setText",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setText(n)}),!1,!1,"Setzt den Text.",!1)),n.addMethod(new S("copy",new P([]),Rc(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Text-Objekts und git sie zur√ºck.",!1)),n.addMethod(new S("getWidth",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.getWidth()}),!1,!1,"Gibt die Breite des Textes zur√ºck.",!1)),n.addMethod(new S("getHeight",new P([]),ut,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.getHeight()}),!1,!1,"Gibt die H√∂he des Textes zur√ºck.",!1)),n}return Wc(t,e),t}(G),$c=function(e){function t(e,n,i,r,o,a,s){var l;return zc(this,t),(l=Lc(this,Bc(t).call(this,o,a))).x=e,l.y=n,l.fontsize=i,l.text=r,l.fontFamily=s,l.alignment="left",l.textStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:l.fontsize,fontStyle:"normal",fontWeight:"normal",fill:[l.fillColor],stroke:l.borderColor,strokeThickness:l.borderWidth,dropShadow:!1,wordWrap:!1,align:"left"}),l.centerXInitial=e,l.centerYInitial=n,0==l.fontsize&&(l.fontsize=10),l.borderColor=null,l.textStyle.stroke=null,null!=s&&(l.textStyle.fontFamily=s),l.hitPolygonInitial=[],l.render(),l.addToDefaultGroup(),l}var n,i,r;return Wc(t,e),n=t,(i=[{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.x,this.y,this.fontsize,this.text,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.alignment=this.alignment,i.copyFrom(this),i.render(),n}},{key:"render",value:function(){var e=this.displayObject;if(this.textStyle.fill=this.fillColor,this.textStyle.stroke=this.borderColor,this.textStyle.strokeThickness=this.borderWidth,this.textStyle.fontSize=this.fontsize,null==this.displayObject)e=new PIXI.Text(this.text,this.textStyle),this.displayObject=e,this.displayObject.localTransform.translate(this.x,this.y),this.displayObject.transform.onChange(),this.worldHelper.stage.addChild(e);else{switch(e.text=this.text,e.alpha=this.fillAlpha,this.alignment){case"left":e.anchor.x=0;break;case"center":e.anchor.x=.5;break;case"right":e.anchor.x=1}e.style=this.textStyle}if(this.centerXInitial=0,this.centerYInitial=0,null!=this.text){var t=PIXI.TextMetrics.measureText(this.text,this.textStyle);this.centerXInitial=t.width/2,this.centerYInitial=t.height/2}}},{key:"setFontsize",value:function(e){this.fontsize=e,0==this.fontsize&&(this.fontsize=10),this.render()}},{key:"setText",value:function(e){this.text=e,this.render()}},{key:"setAlignment",value:function(e){this.alignment=e,this.render()}},{key:"getWidth",value:function(){return this.displayObject.width}},{key:"getHeight",value:function(){return this.displayObject.height}}])&&_c(n.prototype,i),r&&_c(n,r),t}(sl);function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hc(e,t){return!t||"object"!==Vc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kc(e){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Uc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Hc(this,Kc(t).call(this,"Gamepad",e,"Klasse mit statischen Methoden zur Abfrage der Gamepads"))).setBaseClass(e.typeStore.getType("Object")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("isButtonDown",new P([{identifier:"gamepadIndex",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"buttonIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.isGamepadButtonPressed(n,i)}),!1,!0,"Gibt genau dann true zur√ºck, wenn der Button buttonIndex des Gamepads GamepadIndex gedr√ºckt ist.",!1)),n.addMethod(new S("isConnected",new P([{identifier:"gamepadIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(t){t[0].value;var n=t[1].value;return e.main.getInterpreter().gamepadTool.isGamepadConnected(n)}),!1,!0,"Gibt true zur√ºck, falls das Gamepad mit dem √ºbergebenen Index angeschlossen ist. VORSICHT: Das erste Gamepad hat Index 0.",!1)),n.addMethod(new S("getAxisValue",new P([{identifier:"gamepadIndex",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"axisIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.getGamepadAxisValue(n,i)}),!1,!0,"Gibt den Wert des Gamepad-Steuerkn√ºppels mit Index axisIndex zur√ºck.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}(t,e),t}(G);function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qc(e){return(qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yc(e,t){return(Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Xc(this,qc(t).call(this,"Math",e,"Klasse mit statischen Methoden zur Berechnung mathematischer Funktionen (sin, cos, abs, ...) und zur Ermittlung von Zufallszahlen."))).setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new k("PI",ut,(function(e){e.value=Math.PI}),!0,j.public,!0,"Die Kreiszahl Pi (3.1415...)")),n.addAttribute(new k("E",ut,(function(e){e.value=Math.E}),!0,j.public,!0,"Die Eulersche Zahl e")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("round",new P([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.round(e[1].value)}),!1,!0,"**Rundet** den Wert")),n.addMethod(new S("floor",new P([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.floor(e[1].value)}),!1,!0,"Rundet den Wert ab, sucht also die **n√§chstkleinere** ganze Zahl")),n.addMethod(new S("ceil",new P([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.ceil(e[1].value)}),!1,!0,"Rundet den Wert auf, sucht also die **n√§chstgr√∂√üere** Zahl.")),n.addMethod(new S("signum",new P([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.sign(e[1].value)}),!1,!0,"Gibt das Vorzeichen der Zahl zur√ºck, d.h. \n  - -1, falls die Zahl **negativ** ist,\n  - 0, falls die Zahl **0** ist und\n  - +1, falls die Zahl **positiv** ist.")),n.addMethod(new S("sqrt",new P([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.sqrt(e[1].value)}),!1,!0,"Gibt die **Quadratwurzel** der Zahl zur√ºck. F√ºr andere Wurzeln benutze Math.pow(a, b), z.B. Math.pow(10, 1.0/3.0) f√ºr die Kubikwurzel aus 10.")),n.addMethod(new S("random",new P([]),ut,(function(e){return Math.random()}),!1,!0,"Gibt eine Zufallszahl aus dem Intervall [0;1[ zur√ºck.")),n.addMethod(new S("pow",new P([{identifier:"Basis",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Exponent",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.pow(e[1].value,e[2].value)}),!1,!0,'Math.pow(a, b) gibt "a hoch b" zur√ºck.')),n.addMethod(new S("toDegrees",new P([{identifier:"WinkelInRad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return e[1].value/Math.PI*180}),!1,!0,"Wandelt einen Winkel von Rad in Grad um, d.h. berechnet Winkel/Pi*180.")),n.addMethod(new S("toRadians",new P([{identifier:"WinkelInGrad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return e[1].value/180*Math.PI}),!1,!0,"Wandelt einen Winkel von Grad in Rad um, d.h. berechnet Winkel/180*Pi.")),n.addMethod(new S("exp",new P([{identifier:"Zahl",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.exp(e[1].value)}),!1,!0,'Berechnet "e hoch die Zahl".')),n.addMethod(new S("log",new P([{identifier:"Zahl",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.log(e[1].value)}),!1,!0,"Berechnet den nat√ºrlichen Logarithmus der Zahl.")),n.addMethod(new S("log10",new P([{identifier:"Zahl",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.log10(e[1].value)}),!1,!0,"Berechnet den Zehnerlogarithmus der Zahl.")),n.addMethod(new S("sin",new P([{identifier:"WinkelInRad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.sin(e[1].value)}),!1,!0,"Berechnet den Sinus des Winkels.")),n.addMethod(new S("cos",new P([{identifier:"WinkelInRad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.cos(e[1].value)}),!1,!0,"Berechnet den Cosinus des Winkels.")),n.addMethod(new S("tan",new P([{identifier:"WinkelInRad",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.tan(e[1].value)}),!1,!0,"Berechnet den Tangens des Winkels.")),n.addMethod(new S("asin",new P([{identifier:"WertDesSinus",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.asin(e[1].value)}),!1,!0,"Berechnet den Arcus-Sinus des Wertes in Rad.")),n.addMethod(new S("acos",new P([{identifier:"WertDesCosinus",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.acos(e[1].value)}),!1,!0,"Berechnet den Arcus-Cosinus des Wertes in Rad.")),n.addMethod(new S("atan",new P([{identifier:"WertDesTangens",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.atan(e[1].value)}),!1,!0,"Berechnet den Arcus-Tangens des Wertes in Rad.")),n.addMethod(new S("atan2",new P([{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.atan2(e[1].value,e[2].value)}),!1,!0,"Sind (x, y) die kartesischen Koordinaten eines Punktes, so ist Math.atan2(x, y) der Winkel alpha der Polarkoordinaten (alpha, r) des Punktes. \n**Bem.: **Alpha wird in Rad berechnet.")),n.addMethod(new S("abs",new P([{identifier:"Wert",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),n.addMethod(new S("abs",new P([{identifier:"Wert",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),n.addMethod(new S("abs",new P([{identifier:"Wert",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),n.addMethod(new S("max",new P([{identifier:"a",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die gr√∂√üere der beiden Zahlen zur√ºck.")),n.addMethod(new S("max",new P([{identifier:"a",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die gr√∂√üere der beiden Zahlen zur√ºck.")),n.addMethod(new S("max",new P([{identifier:"a",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die gr√∂√üere der beiden Zahlen zur√ºck.")),n.addMethod(new S("min",new P([{identifier:"a",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:st,declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zur√ºck.")),n.addMethod(new S("min",new P([{identifier:"a",type:lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:lt,declaration:null,usagePositions:null,isFinal:!0}]),lt,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zur√ºck.")),n.addMethod(new S("min",new P([{identifier:"a",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zur√ºck.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}(t,e),t}(G);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){return!t||"object"!==ed(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nd(e){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function id(e,t){return(id=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rd=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=td(this,nd(t).call(this,"MathTools",e,"Klasse mit mathematischen Hilfsfunktionen als statische Methoden"))).setBaseClass(e.typeStore.getType("Object")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass);var i=e.typeStore.getType("Vector2"),r=new Y(i),o=i.attributeMap.get("x").index,a=i.attributeMap.get("y").index;return n.addMethod(new S("intersectCircleWithPolygon",new P([{identifier:"mx",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:r,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[1].value,n=e[2].value,r=e[3].value,s=e[4].value,l=[],u=!0,c=!1,d=void 0;try{for(var h,p=s[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;l.push({x:f.value.attributes[o].value,y:f.value.attributes[a].value})}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}for(var y=[],v={x:t,y:n},m=0;m<l.length;m++){Ms(v,r,l[m],l[(m+1)%l.length],y)}for(var g=[],b=0,w=y;b<w.length;b++){var k=w[b],S=new M(i);S.attributes[o]={type:ut,value:k.x},S.attributes[a]={type:ut,value:k.y},g.push({type:i,value:S})}return g}),!1,!0,"Zu einem gegebenen Kreis werden die Punkte berechnet, die auf den Seiten eines gegebenen Polygons liegen.")),n.addMethod(new S("intersectLineSegments",new P([{identifier:"p0",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p1",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p2",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p3",type:i,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){for(var t=[],n=0;n<4;n++){var r=e[n].value.attributes;t.push({x:r[o].value,y:r[a].value})}var s={x:0,y:0};if(Ps(t[0],t[1],t[2],t[3],s)){var l=new M(i);return l.attributes[o]={type:ut,value:s.x},l.attributes[a]={type:ut,value:s.y},l}return null}),!1,!0,"Berechnet den Schnittpunkt der Strecken [p0, p1] und [p2, p3]. Gibt null zur√ºck, wenn sich die Strecken nicht schneiden oder wenn sie parallel sind und teilweise aufeinander liegen.")),n.addMethod(new S("polygonContainsPoint",new P([{identifier:"polygonPoints",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p",type:i,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[1].value,n=[],i=!0,r=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;n.push({x:c.value.attributes[o].value,y:c.value.attributes[a].value})}}catch(e){r=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(r)throw s}}var d=e[2].value.attributes;return Ts(n,{x:d[o].value,y:d[a].value})}),!1,!0,"Gibt genau dann true zur√ºck, wenn das Polygon den Punkt enth√§lt.")),n.addMethod(new S("distancePointToLine",new P([{identifier:"p",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"a",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:i,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){for(var t=[],n=0;n<3;n++){var i=e[n].value.attributes;t.push({x:i[o].value,y:i[a].value})}return js(t[1],t[2],t[0])}),!1,!0,"Berechnet den Abstand des Punktes P zur Gerade AB.")),n.addMethod(new S("distancePointToLineSegment",new P([{identifier:"p",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"a",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:i,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){for(var t=[],n=0;n<3;n++){var i=e[n].value.attributes;t.push({x:i[o].value,y:i[a].value})}return Cs(t[1],t[2],t[0])}),!1,!0,"Berechnet den Abstand des Punktes P zur Strecke [AB].")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&id(e,t)}(t,e),t}(G);function od(e){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sd(e,t){return!t||"object"!==od(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ld(e){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ud(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cd(e,t)}function cd(e,t){return(cd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dd=function(e){function t(e){var n;return ad(this,t),(n=sd(this,ld(t).call(this,"System",e,"Klasse mit statischen Methoden f√ºr Systemfunktionen, z.B. Sound, L√∂schen der Ausgabe usw."))).deltaTimeMillis=0,n.printStream=new M(e.typeStore.getType("PrintStream")),n.setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new k("out",e.typeStore.getType("PrintStream"),(function(e){e.value=n.printStream}),!0,j.public,!0,"PrintStream-Objekt, mit dem Text ausgegeben werden kann.")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("currentTimeMillis",new P([]),st,(function(e){return Date.now()+n.deltaTimeMillis}),!1,!0,"Gibt die Anzahl der Millisekunden, die seit dem 01.01.1970 00:00:00 UTC vergangen sind, zur√ºck.")),n.addMethod(new S("exit",new P([{identifier:"status",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(t){var n,i=null===(n=e.main.getBottomDiv())||void 0===n?void 0:n.console;null!=i&&(i.writeConsoleEntry("Das Programm wurde angehalten mit Statuswert: "+t[1].value,null,"#0000ff"),i.showTab()),e.main.getInterpreter().stop()}),!1,!0,"Beendet das Programm und gibt den √ºbergebenen Wert in der Konsole aus.")),n}return ud(t,e),t}(G),hd=function(e){function t(e){var n;return ad(this,t),(n=sd(this,ld(t).call(this,"PrintStream",e,"Interne Hilfsklasse, um System.out.println zu erm√∂glichen. Das Objekt System.out ist von der Klasse PrintStream."))).setBaseClass(e.typeStore.getType("Object")),n.addMethod(new S("print",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){e.main.getInterpreter().printManager.print(t[1].value)}),!1,!0,"Gibt den Text aus.")),n.addMethod(new S("println",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){e.main.getInterpreter().printManager.println(t[1].value)}),!1,!0,"Gibt den Text aus, gefolgt von einem Zeilensprung.")),n.addMethod(new S("println",new P([]),null,(function(t){e.main.getInterpreter().printManager.println("")}),!1,!0,"Setzt den Cursor in die n√§chste Zeile.")),n}return ud(t,e),t}(G);function pd(e){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){return!t||"object"!==pd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vd(e){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function md(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gd(e,t)}function gd(e,t){return(gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bd=function(e){function t(e){var n;return fd(this,t),(n=yd(this,vd(t).call(this,"SystemTools",e,"Klasse mit statischen Methoden f√ºr Systemfunktionen, z.B. L√∂schen der Ausgabe, Registrieren eines Tastaturlisteners usw."))).setBaseClass(e.typeStore.getType("Object")),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("clearScreen",new P([]),null,(function(t){e.main.getInterpreter().printManager.clear()}),!1,!0,"L√∂scht den Bildschirm")),n.addMethod(new S("setSpeed",new P([{identifier:"speed",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[1].value;e.main.getInterpreter().controlButtons.speedControl.setSpeedInStepsPerSecond(n>=1?n:"max")}),!1,!0,"Setzt die Ausf√ºhrungsgeschwindigkeit. Der Parameter speed wir in Steps/Sekunde angegeben. Eine negative Zahl bedeutet: 'maximal'.")),n.addMethod(new S("addKeyListener",new P([{identifier:"keyListener",type:e.typeStore.getType("KeyListener"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[1].value,i=n.class.getMethodBySignature("onKeyTyped(String)");null!=i&&e.main.getInterpreter().keyboardTool.keyPressedCallbacks.push((function(t){var r=null==i?void 0:i.program,o=null==i?void 0:i.invoke,a=[{type:n.class,value:n},{type:ht,value:t}];null!=r?e.main.getInterpreter().runTimer(i,a,null,!1):null!=o&&o([])}))}),!1,!0,"F√ºgt einen KeyListener hinzu, dessen Methode keyTyped immer dann aufgerufen wird, wenn eine Taste gedr√ºckt und anschlie√üend losgelassen wird.")),n}return md(t,e),t}(G),wd=function(e){function t(e){var n;return fd(this,t),(n=yd(this,vd(t).call(this,"KeyListener",e,"Interface mit Methode onKeyTyped. Eine Klasse, die dieses Interface implementiert, kann auf Tastatureingaben reagieren. Ein Objekt dieser Klasse muss zuvor aber mit System.addKeyListener() registriert werden."))).addMethod(new S("onKeyTyped",new P([{identifier:"key",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, nachdem eine Taste gedr√ºckt wurde.")),n}return md(t,e),t}(V);function kd(e){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xd(e,t){return!t||"object"!==kd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Td(e){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Md(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cd(e,t)}function Cd(e,t){return(Cd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jd=function(e){function t(e){var n;return Pd(this,t),(n=xd(this,Td(t).call(this,"Runnable",e))).addMethod(new S("run",new P([]),at,null,!1,!1,"Wird vom Timer immer wieder aufgerufen")),n}return Md(t,e),t}(V),Od=function(e){function t(e){var n;return Pd(this,t),(n=xd(this,Td(t).call(this,"Timer",e,"Timer Klasse zur periodischen Ausf√ºhrung von Methoden"))).timerEntries=[],n.timerRunning=!1,n.timerStarted=!1,n.setBaseClass(e.typeStore.getType("Object")),n.staticClass.classObject=new M(n.staticClass),n.addMethod(new S("repeat",new P([{identifier:"runnable",type:e.typeStore.getType("Runnable"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"deltaTimeInMs",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[1].value,i={timerListener:t,dt:e[2].value,lastTimeFired:0,running:!0,method:t.class.getMethod("run",new P([]))};n.timerEntries.push(i)}),!1,!0,"F√ºgt ein neues TimerListener-Objekt hinzu und ruft dessen tick-Methode immer wieder auf.")),n}var n,i,r;return Md(t,e),n=t,(i=[{key:"startTimer",value:function(){this.timerStarted||(this.timerStarted=!0,this.processTimerEntries())}},{key:"stopTimer",value:function(){this.timerStarted=!1}},{key:"processTimerEntries",value:function(){var e,t;if(this.timerStarted){if(this.timerEntries.length>0){var n=null===(t=null===(e=this.module)||void 0===e?void 0:e.main)||void 0===t?void 0:t.getInterpreter();if(null!=n){if(!this.timerRunning&&n.state==Ka.running){var i=performance.now(),r=!0,o=!1,a=void 0;try{for(var s,l=this.timerEntries[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=i-u.lastTimeFired;c>=u.dt&&(this.runEntry(u,n,Math.round(c)),u.lastTimeFired=i)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}switch(n.state){case Ka.done:case Ka.error:case Ka.not_initialized:this.timerEntries=[],this.timerRunning=!1}}}var d=this;setTimeout((function(){d.processTimerEntries()}),10)}}},{key:"runEntry",value:function(e,t,n){var i=[{type:e.timerListener.class,value:e.timerListener}];this.timerRunning=!0;var r=this;t.runTimer(e.method,i,(function(e){r.timerRunning=!1}),!1)}}])&&Sd(n.prototype,i),r&&Sd(n,r),t}(G);function Ed(e){return(Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ad(e,t){return!t||"object"!==Ed(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dd(e){return(Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fd(e,t){return(Fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Id=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Ad(this,Dd(t).call(this,"Map",e,"Interface mit Methoden einer Map (Schl√ºssel-Wert-Speicher)"));var i=e.typeStore.getType("Object"),r=i.clone();r.identifier="K",r.isTypeVariable=!0;var o={identifier:"K",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=i.clone();a.identifier="V",a.isTypeVariable=!0;var s={identifier:"V",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};return n.typeVariables.push(s),n.addMethod(new S("size",new P([]),st,null,!0,!1,"Gibt die Anzahl der Elemente der Map zur√ºck.")),n.addMethod(new S("isEmpty",new P([]),ct,null,!0,!1,"Testet, ob die Map leer ist.")),n.addMethod(new S("containsKey",new P([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"Gibt genau dann true zur√ºck, wenn die Map zum Schl√ºssel key einen Wert enth√§lt.")),n.addMethod(new S("containsValue",new P([{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,null,!0,!1,"Gibt genau dann true zur√ºck, wenn die Map den Wert enth√§lt.")),n.addMethod(new S("get",new P([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),a,null,!0,!1,"Gibt den Wert zum Schl√ºssel key zur√ºck. Gibt null zur√ºck, falls die Map zum Schl√ºssel key keinen Wert enth√§lt.")),n.addMethod(new S("put",new P([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),a,null,!0,!1,"Speichert das key-value pair in der Map. Falls zum key vorher schon ein Value gespeichert war, wird dieser zur√ºckgegeben. In der Map wird er dann durch den neuen Value √ºberschrieben. Falls es zum key noch keinen value in der Map gab, wird null zur√ºckgegeben.")),n.addMethod(new S("clear",new P([]),null,null,!0,!1,"Entfernt alle Element aus dieser Map.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fd(e,t)}(t,e),t}(V);function _d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zd=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.keyArray=[],this.valueArray=[],this.map=new Map}var t,n,i;return t=e,(n=[{key:"get",value:function(e){return this.map.get(e.value)}},{key:"set",value:function(e,t){var n=this.map.get(e.value);return null==n?this.keyArray.push(e):this.valueArray.splice(this.valueArray.indexOf(n),1),this.valueArray.push(t),this.map.set(e.value,t),n}},{key:"allElementsPrimitive",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.keyArray[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!(o.type instanceof w||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.valueArray[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;if(!(d.type instanceof w||["String","_Double","Integer","Boolean","Character"].indexOf(d.type.identifier)>=0))return!1}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive()){for(var e="[",t=0;t<this.keyArray.length;t++)e+=this.keyArray[t].value+" => "+this.valueArray[t].value,t<this.keyArray.length-1&&(e+=", ");return e+"]"}for(var n={line:1,column:1,length:1},i=[{type:r.noOp,position:n,stepFinished:!1},{type:r.pushConstant,dataType:ht,value:"[",position:n,stepFinished:!1}],o=new P([]),a=0;a<this.valueArray.length;a++){var s=this.keyArray[a];s.type instanceof w||s.type instanceof rt?i.push({type:r.pushConstant,dataType:ht,value:s.type.castTo(s,ht).value,position:n,stepFinished:!1}):(i.push({type:r.pushConstant,dataType:s.type,value:s.value,stepFinished:!1,position:n}),i.push({type:r.callMethod,method:s.type.getMethod("toString",o),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:n})),i.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:n}),i.push({type:r.pushConstant,dataType:ht,value:" => ",position:n,stepFinished:!1}),i.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:n});var l=this.valueArray[a];null==l.value||l.type instanceof w||l.type instanceof rt?i.push({type:r.pushConstant,dataType:ht,value:null==l.value?"null":l.type.castTo(l,ht).value,position:n,stepFinished:!1}):(i.push({type:r.pushConstant,dataType:l.type,value:l.value,stepFinished:!1,position:n}),i.push({type:r.callMethod,method:l.type.getMethod("toString",o),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:n})),i.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:n}),a<this.valueArray.length-1&&(i.push({type:r.pushConstant,dataType:ht,value:", ",position:n,stepFinished:!1}),i.push({type:r.binaryOp,leftType:ht,operator:r.plus,stepFinished:!1,position:n}))}i.push({type:r.pushConstant,dataType:ht,value:"]",position:n,stepFinished:!1}),i.push({type:r.binaryOp,operator:r.plus,leftType:ht,stepFinished:!1,position:n}),i.push({type:r.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:n,methodWasInjected:!0});var u={module:this.module,statements:i,labelManager:null},c=new S("toString",new P([]),ht,u,!1,!1);return this.interpreter.runTimer(c,[],(function(){return console.log("List.toString fertig!")}),!0),""}},{key:"size",value:function(){return this.valueArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"containsKey",value:function(e){return null!=this.map.get(e.value)}},{key:"containsValue",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.valueArray[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)if(r.value.value==e.value)return!0}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return!1}},{key:"clear",value:function(){this.valueArray=[],this.keyArray=[],this.map.clear()}}])&&_d(t.prototype,n),i&&_d(t,i),e}();function Ld(e){return(Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bd(e,t){return!t||"object"!==Ld(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rd(e){return(Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wd(e,t){return(Wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gd=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Bd(this,Rd(t).call(this,"HashMap",e,"Map-Klasse mit Zugriffszeit proportional zu log(Anzahl der Elemente)"));var i=e.typeStore.getType("Object");n.setBaseClass(i);var r=i.clone();r.identifier="K",r.isTypeVariable=!0;var o={identifier:"K",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:r};n.typeVariables.push(o);var a=i.clone();a.identifier="V",a.isTypeVariable=!0;var s={identifier:"V",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};n.typeVariables.push(s);var l=e.typeStore.getType("Map").clone();return l.typeVariables=[o,s],n.implements.push(l),n.addMethod(new S("HashMap",new P([]),null,(function(t){var n=t[0].value,i=new zd(n,e.main.getInterpreter(),e);n.intrinsicData.MapHelper=i}),!1,!1,"Instanziert eine neue HashMap",!0)),n.addMethod(new S("put",new P([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1],i=e[2];return t.intrinsicData.MapHelper.set(n,i)}),!1,!1,"Speichert das key-value pair in der Map. Falls zum key vorher schon ein Value gespeichert war, wird dieser zur√ºckgegeben. In der Map wird er dann durch den neuen Value √ºberschrieben. Falls es zum key noch keinen value in der Map gab, wird null zur√ºckgegeben.")),n.addMethod(new S("clear",new P([]),null,(function(e){return e[0].value.intrinsicData.MapHelper.clear()}),!1,!1,"Entfernt alle Key-Value-Pairs aus dieser HashMap.")),n.addMethod(new S("containsKey",new P([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.MapHelper.containsKey(n)}),!1,!1,"Gibt genau dann true zur√ºck, wenn die Map zum Schl√ºssel key einen Wert enth√§lt.")),n.addMethod(new S("containsValue",new P([{identifier:"value",type:a,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.MapHelper.containsValue(n)}),!1,!1,"Gibt genau dann true zur√ºck, wenn die Map den Wert enth√§lt.")),n.addMethod(new S("get",new P([{identifier:"key",type:r,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1],i=t.intrinsicData.MapHelper.get(n);return null==i?null:i.value}),!1,!1,"Gibt den Wert zum Schl√ºssel key zur√ºck. Gibt null zur√ºck, falls die Map zum Schl√ºssel key keinen Wert enth√§lt.")),n.addMethod(new S("isEmpty",new P([]),ct,(function(e){return e[0].value.intrinsicData.MapHelper.isEmpty()}),!1,!1,"Testet, ob die HashMap leer ist.")),n.addMethod(new S("size",new P([]),st,(function(e){return e[0].value.intrinsicData.MapHelper.size()}),!1,!1,"Gibt die Anzahl der key-value-pairs der HashMap zur√ºck.")),n.addMethod(new S("toString",new P([]),ht,(function(e){return e[0].value.intrinsicData.MapHelper.to_String()}),!1,!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wd(e,t)}(t,e),t}(G);function Nd(e){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $d(e){return($d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hd(e,t){return(Hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kd=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=$d(t).call(this,"Triangle",e,"Dreieck"))||"object"!==Nd(r)&&"function"!=typeof r?Vd(i):r).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Triangle",new P([{identifier:"x1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x3",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y3",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){for(var n=t[0].value,i=[],r=1;r<=6;r++)i.push(t[r].value);var o=new Du(i,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=o}),!1,!1,"Instanziert ein neues Dreieck.",!0)),n.addMethod(new S("copy",new P([]),Vd(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Triangle-Objekts und git sie zur√ºck.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hd(e,t)}(t,e),t}(G);function Qd(e){return(Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ud(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){return!t||"object"!==Qd(t)&&"function"!=typeof t?qd(e):t}function Xd(e){return(Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jd(e,t)}function Jd(e,t){return(Jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eh=function(e){function t(e){var n;Ud(this,t),(n=Zd(this,Xd(t).call(this,"LocalDateTime",e,"Ein LocalDate-Objekt speichert einen Zeitpunkt (Datum und Uhrzeit)."))).setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("DayOfWeek"),r=e.typeStore.getType("Month");return n.addMethod(new S("LocalDateTime",new P([]),null,(function(e){var t=e[0].value,n={date:new Date};t.intrinsicData.ldt=n}),!1,!1,"Holt den aktuellen Zeitpunkt von der Systemuhr des Rechners und gibt ihn als LocalDateTime-Objekt zur√ºck.",!0)),n.addMethod(new S("now",new P([]),qd(n),(function(e){var t=new M(qd(n)),i={date:new Date};return t.intrinsicData.ldt=i,t}),!1,!0,"Holt den aktuellen Zeitpunkt von der Systemuhr des Rechners und gibt ihn als LocalDateTime-Objekt zur√ºck.",!1)),n.addMethod(new S("of",new P([{identifier:"year",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"month",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dayOfMonth",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hour",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"minute",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"second",type:st,declaration:null,usagePositions:null,isFinal:!0}]),qd(n),(function(e){var t=new M(qd(n)),i=Math.trunc(e[1].value),r=Math.trunc(e[2].value),o=Math.trunc(e[3].value),a=Math.trunc(e[4].value),s=Math.trunc(e[5].value),l=Math.trunc(e[6].value),u={date:new Date(i,r-1,o,a,s,l)};return t.intrinsicData.ldt=u,t}),!1,!0,"Gibt ein LocalDateTime-Objekt zur√ºck, das den durch year, month (1 - 12), dayOfMonth, hour, minute, second beschriebenen Zeitpunkt repr√§sentiert.",!1)),n.addMethod(new S("of",new P([{identifier:"year",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"month",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dayOfMonth",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hour",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"minute",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"second",type:st,declaration:null,usagePositions:null,isFinal:!0}]),qd(n),(function(e){var t=new M(qd(n)),i=Math.trunc(e[1].value),r=e[2].value,o=Math.trunc(e[3].value),a=Math.trunc(e[4].value),s=Math.trunc(e[5].value),l=Math.trunc(e[6].value),u={date:new Date(i,r.enumValue.ordinal,o,a,s,l)};return t.intrinsicData.ldt=u,t}),!1,!0,"Gibt ein LocalDateTime-Objekt zur√ºck, das den durch year, month (1 - 12), dayOfMonth, hour, minute, second beschriebenen Zeitpunkt repr√§sentiert.",!1)),n.addMethod(new S("plusDays",new P([{identifier:"days",type:st,declaration:null,usagePositions:null,isFinal:!0}]),qd(n),(function(e){var t=e[0].value,i=Math.trunc(e[1].value),r=t.intrinsicData.ldt.date,o=new Date(r.getTime()+24*i*3600*1e3),a=new M(qd(n)),s={date:o};return a.intrinsicData.ldt=s,a}),!1,!1,"Gibt ein neues LocalDateTime-Objekt zur√ºck, das einen Zeitpunkt repr√§sentiert, der um die √ºbergebene Anzahl von Tagen sp√§ter liegt.",!1)),n.addMethod(new S("minusDays",new P([{identifier:"days",type:st,declaration:null,usagePositions:null,isFinal:!0}]),qd(n),(function(e){var t=e[0].value,i=Math.trunc(e[1].value),r=t.intrinsicData.ldt.date,o=new Date(r.getTime()-24*i*3600*1e3),a=new M(qd(n)),s={date:o};return a.intrinsicData.ldt=s,a}),!1,!1,"Gibt ein neues LocalDateTime-Objekt zur√ºck, das einen Zeitpunkt repr√§sentiert, der um die √ºbergebene Anzahl von Tagen fr√ºher liegt.",!1)),n.addMethod(new S("compareTo",new P([{identifier:"date",type:qd(n),declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.ldt.date.getTime(),r=n.intrinsicData.ldt.date.getTime();return Math.sign(i-r)}),!1,!1,"Gibt 1 zur√ºck, falls das Datum gr√∂√üer ist als das √ºbergebene, 0, falls sie gleich sind und -1, falls das Datum kleiner ist als das √ºbergebene.",!1)),n.addMethod(new S("until",new P([{identifier:"date",type:qd(n),declaration:null,usagePositions:null,isFinal:!0}]),st,(function(e){var t=e[0].value,n=e[1].value;return(t.intrinsicData.ldt.date.getTime()-n.intrinsicData.ldt.date.getTime())/86400}),!1,!1,"Gibt zur√ºck, wie viele Tage (gerundet) zwischen den beiden Zeitpunkten liegen.",!1)),n.addMethod(new S("getYear",new P([]),st,(function(e){return e[0].value.intrinsicData.ldt.date.getFullYear()}),!1,!1,"Gibt das Jahr zur√ºck.",!1)),n.addMethod(new S("getMonthValue",new P([]),st,(function(e){return e[0].value.intrinsicData.ldt.date.getMonth()+1}),!1,!1,"Gibt den Monat als Zahl zur√ºck (Januar == 1, Februar == 2, ..., Dezember == 12).",!1)),n.addMethod(new S("getDayOfMonth",new P([]),st,(function(e){return e[0].value.intrinsicData.ldt.date.getDate()}),!1,!1,"Gibt den Tag innerhalb des Monats zur√ºck (Zahl von 1 bis 31).",!1)),n.addMethod(new S("getHour",new P([]),st,(function(e){return e[0].value.intrinsicData.ldt.date.getHours()}),!1,!1,"Gibt die Stunde innerhalb des Tages zur√ºck.",!1)),n.addMethod(new S("getMinute",new P([]),st,(function(e){return e[0].value.intrinsicData.ldt.date.getMinutes()}),!1,!1,"Gibt die Minute zur√ºck.",!1)),n.addMethod(new S("getSecond",new P([]),st,(function(e){return e[0].value.intrinsicData.ldt.date.getSeconds()}),!1,!1,"Gibt die Sekunde zur√ºck.",!1)),n.addMethod(new S("toString",new P([]),ht,(function(e){var t=e[0].value.intrinsicData.ldt.date,n=function(e){return e<10?"0"+e:""+e};return"".concat(n(t.getDate()),".").concat(n(t.getMonth()+1),".").concat(n(t.getFullYear())," ").concat(n(t.getHours()),":").concat(n(t.getMinutes()),":").concat(n(t.getSeconds()))}),!1,!1,"Gibt den Wert in der Form 12.03.2007 10:15:30 zur√ºck.",!1)),n.addMethod(new S("getDayOfWeek",new P([]),i,(function(e){var t=e[0].value.intrinsicData.ldt.date.getDay();return i.enumInfoList[t-1].object}),!1,!1,"Gibt die den Wochentag zur√ºck. Falls Du ihn als Zahl (0 == Montag, ...) ben√∂tigst, nutze getDayOfWeek().toOrdinal(). ",!1)),n.addMethod(new S("getMonth",new P([]),r,(function(e){var t=e[0].value.intrinsicData.ldt.date.getMonth();return r.enumInfoList[t].object}),!1,!1,"Gibt die den Monat zur√ºck. Falls Du ihn als Zahl (1 == Januar, ...) ben√∂tigst, nutze getMonthValue()",!1)),n}return Yd(t,e),t}(G),th=function(e){function t(e){var n;return Ud(this,t),(n=Zd(this,Xd(t).call(this,"DayOfWeek",e,[{type:r.pushEnumValue,position:null,identifier:"Montag"},{type:r.pushEnumValue,position:null,identifier:"Dienstag"},{type:r.pushEnumValue,position:null,identifier:"Mittwoch"},{type:r.pushEnumValue,position:null,identifier:"Donnerstag"},{type:r.pushEnumValue,position:null,identifier:"Freitag"},{type:r.pushEnumValue,position:null,identifier:"Samstag"},{type:r.pushEnumValue,position:null,identifier:"Sonntag"}]))).documentation="Wochentag",n}return Yd(t,e),t}(Ht),nh=function(e){function t(e){var n;return Ud(this,t),(n=Zd(this,Xd(t).call(this,"Month",e,[{type:r.pushEnumValue,position:null,identifier:"Januar"},{type:r.pushEnumValue,position:null,identifier:"Februar"},{type:r.pushEnumValue,position:null,identifier:"M√§rz"},{type:r.pushEnumValue,position:null,identifier:"April"},{type:r.pushEnumValue,position:null,identifier:"Mai"},{type:r.pushEnumValue,position:null,identifier:"Juni"},{type:r.pushEnumValue,position:null,identifier:"Juli"},{type:r.pushEnumValue,position:null,identifier:"August"},{type:r.pushEnumValue,position:null,identifier:"Septemter"},{type:r.pushEnumValue,position:null,identifier:"Oktober"},{type:r.pushEnumValue,position:null,identifier:"November"},{type:r.pushEnumValue,position:null,identifier:"Dezember"}]))).documentation="Monat",n}return Yd(t,e),t}(Ht);function ih(e){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rh(e){return(rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(e,t){return(ah=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sh=function(e){function t(e){var n,i,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(r=rh(t).call(this,"Line",e,"Strecke (gerade Linie zwischen zwei Punkten)"))||"object"!==ih(r)&&"function"!=typeof r?oh(i):r).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Line",new P([{identifier:"x1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Du([i,r,o,a],!1,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert eine Strecke mit Anfangspunkt (x1/y1) und Endpunkt (x2/y2).",!0)),n.addMethod(new S("copy",new P([]),oh(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie der Strecke und git sie zur√ºck.",!1)),n.addMethod(new S("setPoint",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("setPoint")||o.setPoint(n,i,r-1)}),!1,!1,"√Ñndert einen Punkt des Polygons. index == 1 bedeutet: Anfangspunkt; index == 2 bedeutet: Endpunkt",!1)),n.addMethod(new S("setPoints",new P([{identifier:"x1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.Actor;a.testdestroyed("setPoints")||a.setPoints(n,i,r,o)}),!1,!1,"√Ñndert die Punkte der Strecke. (x1/y1) ist der neue Anfangspunkt, (x2/y2) ist der neue Endpunkt.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ah(e,t)}(t,e),t}(G);function lh(e){return(lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uh(e){return(uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dh(e,t){return(dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hh=function(e){function t(e){var n,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,r=uh(t).call(this,"Vector2",e,"Repr√§sentiert einen zweidimensionalen Vektor"),(n=!r||"object"!==lh(r)&&"function"!=typeof r?ch(i):r).setBaseClass(e.typeStore.getType("Object")),n.addAttribute(new k("x",ut,null,!1,j.public,!1,"x-Komponente des Vektors")),n.addAttribute(new k("y",ut,null,!1,j.public,!1,"y-Komponente des Vektors")),n.setupAttributeIndicesRecursive();var o=n.attributeMap.get("x").index,a=n.attributeMap.get("y").index;return n.addMethod(new S("Vector2",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value;t.attributes[o]={type:ut,value:n},t.attributes[a]={type:ut,value:i}}),!1,!1,"Instanziert einen neuen zweidimensionalen Vektor mit den Komponenten x und y.",!0)),n.addMethod(new S("fromPolarCoordinates",new P([{identifier:"r",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"alphaDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ch(n),(function(e){var t=new M(ch(n)),i=e[1].value,r=e[2].value;return r*=Math.PI/180,t.attributes[o]={type:ut,value:Math.cos(r)*i},t.attributes[a]={type:ut,value:Math.sin(r)*i},t}),!1,!0,"Gibt einen neuen zweidimensionalen Vektor zur√ºck, der mit den Polarkoordinaten (r/alphaDeg) gebildet wird. Datei ist r (Abstand zum Ursprung des Koordinatensystems) und alphaDeg (Winkel zur positiven x-Achse in Grad).",!1)),n.addMethod(new S("toString",new P([]),ht,(function(e){var t=e[0].value,n=t.attributes[o].value,i=t.attributes[a].value;return"(".concat(n,"/").concat(i,")")}),!1,!1,'Gibt den Vektor als Zeichenkette in der Form "(x/y)" zur√ºck.',!1)),n.addMethod(new S("getAngleDeg",new P([]),ut,(function(e){var t=e[0].value,n=t.attributes[o].value,i=t.attributes[a].value,r=Math.atan2(i,n)/Math.PI*180;return r>=0?r:360+r}),!1,!1,"Gibt den zur positiven x-Achse in Grad zur√ºck.",!1)),n.addMethod(new S("getAngleRad",new P([]),ut,(function(e){var t=e[0].value,n=t.attributes[o].value,i=t.attributes[a].value,r=Math.atan2(i,n);return r>=0?r:2*Math.PI+r}),!1,!1,"Gibt den zur positiven x-Achse im Bogenma√ü zur√ºck.",!1)),n.addMethod(new S("getLength",new P([]),ut,(function(e){var t=e[0].value,n=t.attributes[o].value,i=t.attributes[a].value;return Math.sqrt(n*n+i*i)}),!1,!1,"Gibt die L√§nge des Vectors zur√ºck.",!1)),n.addMethod(new S("toUnitVector",new P([]),ch(n),(function(e){var t=e[0].value,i=t.attributes[o].value,r=t.attributes[a].value,s=new M(ch(n)),l=Math.sqrt(i*i+r*r);return Math.abs(l)>1e-11?(i/=l,r/=l):(i=0,r=0),s.attributes[o]={type:ut,value:i},s.attributes[a]={type:ut,value:r},s}),!1,!1,"Gibt den zum Vektor zugeh√∂rigen Einheitsvektor (d.h. den Vektor mit derselben Richtung, aber der L√§nge 1) zur√ºck.",!1)),n.addMethod(new S("setLength",new P([{identifier:"length",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ch(n),(function(e){var t=e[0].value,n=t.attributes[o].value,i=t.attributes[a].value,r=e[1].value,s=Math.sqrt(n*n+i*i);s>0&&(t.attributes[o].value=n/s*r,t.attributes[a].value=i/s*r)}),!1,!1,"√Ñndert den Vektor so, dass er seine Richtung beibeh√§lt, aber auf die angegebene L√§nge gestreckt/gestaucht wird.",!1)),n.addMethod(new S("plus",new P([{identifier:"vector",type:ch(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ch(n),(function(e){var t=e[0].value,i=e[1].value,r=t.attributes[o].value,s=t.attributes[a].value,l=i.attributes[o].value,u=i.attributes[a].value,c=new M(ch(n));return c.attributes[o]={type:ut,value:r+l},c.attributes[a]={type:ut,value:s+u},c}),!1,!1,"Gibt die Summe zur√ºck, die sich aus Addition dieses Vektor mit dem √ºbergebenen Vektor ergibt. WICHTIG: Diese Methode √§ndert das Objekt nicht, f√ºr das sie aufgerufen wurde!",!1)),n.addMethod(new S("minus",new P([{identifier:"vector",type:ch(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ch(n),(function(e){var t=e[0].value,i=e[1].value,r=t.attributes[o].value,s=t.attributes[a].value,l=i.attributes[o].value,u=i.attributes[a].value,c=new M(ch(n));return c.attributes[o]={type:ut,value:r-l},c.attributes[a]={type:ut,value:s-u},c}),!1,!1,"Gibt die Differenz zur√ºck, die sich aus Subtraktion des √ºbergebenen Vektors von diesem Vektor ergibt. WICHTIG: Diese Methode √§ndert das Objekt nicht, f√ºr das sie aufgerufen wurde!",!1)),n.addMethod(new S("scalarProduct",new P([{identifier:"vector1",type:ch(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"vector2",type:ch(n),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ut,(function(e){var t=e[1].value,n=e[2].value,i=t.attributes[o].value,r=t.attributes[a].value;return i*n.attributes[o].value+r*n.attributes[a].value}),!1,!0,"Gibt das Skalarprodukt der beiden Vektoren zur√ºck.",!1)),n.addMethod(new S("scaledBy",new P([{identifier:"scalar",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ch(n),(function(e){var t=e[0].value,i=t.attributes[o].value,r=t.attributes[a].value,s=e[1].value,l=new M(ch(n));return l.attributes[o]={type:ut,value:i*s},l.attributes[a]={type:ut,value:r*s},l}),!1,!1,"Gibt das Produkt zur√ºck, das sich aus Multiplikation dieses Vektor mit dem √ºbergebenen Skalar ergibt. WICHTIG: Diese Methode √§ndert das Objekt nicht, f√ºr das sie aufgerufen wurde!",!1)),n.addMethod(new S("rotatedBy",new P([{identifier:"angleDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ch(n),(function(e){var t=e[0].value,i=t.attributes[o].value,r=t.attributes[a].value,s=-e[1].value*Math.PI/180,l=Math.sin(s),u=Math.cos(s),c=new M(ch(n));return c.attributes[o]={type:ut,value:i*u-r*l},c.attributes[a]={type:ut,value:i*l+r*u},c}),!1,!1,"Gibt den um den √ºbergebenen Winkel (in Grad) rotierten Vektor zur√ºck. Positiver Winkel => Rotation GEGEN DEN Uhrzeigersinn. WICHTIG: Diese Methode √§ndert das Objekt nicht, f√ºr das sie aufgerufen wurde!",!1)),n.addMethod(new S("distance",new P([{identifier:"x1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),ut,(function(e){var t=e[1].value,n=e[2].value,i=e[3].value-t,r=e[4].value-n;return Math.sqrt(i*i+r*r)}),!1,!0,"Berechnet den Abstand der Punkte (x1/y1) und (x2/y2).")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dh(e,t)}(t,e),t}(G);function ph(e){return(ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yh(e,t){return!t||"object"!==ph(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vh(e){return(vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gh(e,t)}function gh(e,t){return(gh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bh=function(e){function t(e){var n;return fh(this,t),(n=yh(this,vh(t).call(this,"MouseListener",e,"Interface mit Methoden, die aufgerufen werden, wenn Maus-Ereignisse eintreten. Ein Objekt dieser Klasse muss zuvor aber mit world.addMouseListener() registriert werden, wobei world das aktuelle World-Objekt ist."))).addMethod(new S("onMouseUp",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste √ºber dem Grafikbereich losgelassen wird.")),n.addMethod(new S("onMouseDown",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste √ºber dem Grafikbereich gedr√ºckt wird.")),n.addMethod(new S("onMouseMove",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger √ºber dem Grafikbereich bewegt wird.")),n.addMethod(new S("onMouseEnter",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger in den Grafikbereich hineinbewegt wird.")),n.addMethod(new S("onMouseLeave",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger aus dem Grafikbereich herausbewegt wird.")),n}return mh(t,e),t}(V),wh=function(e){function t(e){var n;fh(this,t),n=yh(this,vh(t).call(this,"MouseAdapter",e,"Klasse mit leeren Methoden, die aufgerufen werden, wenn Maus-Ereignisse eintreten. Ein Objekt einer Kindklasse dieser Klasse muss zuvor aber mit world.addMouseListener() registriert werden, wobei world das aktuelle World-Objekt ist."));var i=e.typeStore.getType("MouseListener");return n.implements.push(i),n.addMethod(new S("onMouseUp",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste √ºber dem Grafikbereich losgelassen wird.")),n.addMethod(new S("onMouseDown",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste √ºber dem Grafikbereich gedr√ºckt wird.")),n.addMethod(new S("onMouseMove",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger √ºber dem Grafikbereich bewegt wird.")),n.addMethod(new S("onMouseEnter",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger in den Grafikbereich hineinbewegt wird.")),n.addMethod(new S("onMouseLeave",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger aus dem Grafikbereich herausbewegt wird.")),n}return mh(t,e),t}(G);function kh(e){return(kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xh(e,t){return!t||"object"!==kh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Th(e){return(Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mh(e,t){return(Mh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ch=function(e){function t(e){var n;Ph(this,t),n=xh(this,Th(t).call(this,"WebSocketClient",e,"Ein Objekt der Klasse WebSocketClient repr√§sentiert einen anderen Rechner, mit dem dieser Rechner √ºber den WebSocket in Kontakt steht."));var i=e.typeStore.getType("Object");n.setBaseClass(i),n.addMethod(new S("send",new P([{identifier:"message",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.send(n,i)}),!1,!1,"Sendet Daten (message) an diesen Client. Den messageType kannst Du frei w√§hlen. Die client bekommt ihn zusammen mit den Daten √ºbermittelt. Tipp: Du kannst auch Objekte senden, musst sie dazu aber vorher serialisieren, d.h. mithilfe der Methode toJson in eine Zeichenkette verwandeln.",!1)),n.addMethod(new S("setUserData",new P([{identifier:"schl√ºssel",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"wert",type:i,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.setUserData(n,i)}),!1,!1,"Mit dieser Methode kannst Du beliebige Objektreferenzen in diesem WebSocketClient-Objekt speichern. Den Schl√ºssel kannst Du dabei frei w√§hlen und sp√§ter nutzen, um den Wert durch die Methode getUserData wieder zu holen.",!1)),n.addMethod(new S("getUserData",new P([{identifier:"schl√ºssel",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;return t.getUserData(n)}),!1,!1,'Mit dieser Methode kannst Du eine Objektreferenz erhalten, die Du zuvor mit der Methode setUserData gespeichert hast. Bemerkung1: Diese Methode entfernt die Objekreferenz nicht aus dem WebSocketClient-Objekt. Bemerkung2: Damit Du alle Methoden des erhaltenen Objekts aufrufen kannst, musst Du dem Computer mitteilen, von welcher Klasse es ist ("casten"). Das geht f√ºr die Klasse MeineNutzerDaten bspw. so: MeineNutzerDaten mnd = (MeineNutzerDaten)client.getUserData("schl√ºssel");',!1));for(var r=function(){var e=a[o];n.addMethod(new S(e.getter,new P([]),ht,(function(t){return t[0].value.intrinsicData.Helper[e.att]}),!1,!1,"Gibt den "+e.help+" des Clients zur√ºck.",!1))},o=0,a=[{att:"rufname",getter:"getFirstName",help:"Rufnamen"},{att:"familienname",getter:"getLastName",help:"Familiennamen"},{att:"username",getter:"getUsername",help:"Benutzernamen"},{att:"nickname",getter:"getNickname",help:"Spielernamen"}];o<a.length;o++)r();return n.addMethod(new S("getIndex",new P([]),st,(function(e){return e[0].value.intrinsicData.Helper.index}),!1,!1,'Geh√∂rt ein Client zu einer mit findClient bzw. findClients gefundenen Gruppe, so erh√§ltst Du mit dieser Methode die "Rangfolge" dieses Clients in dieser Gruppe. Allen Clients wird dieselbe Rangfolgeordnung vom Server mitgeteilt. So l√§sst sich bspw. einfach festlegen, welcher Client eine besondere Rolle (Server) in der Gruppe erhalten soll (z.B. Client mit Index 1). Bemerkung: Der Index ist eine Zahl zwischen 1 und der Anzahl der Clients in der Gruppe.',!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mh(e,t)}(t,e),t}(G),jh=function(){function e(t,n,i,r,o,a,s){Ph(this,e),this.runtimeObject=t,this.webSocketHelper=n,this.id=i,this.rufname=r,this.familienname=o,this.username=a,this.nickname=s,this.keyValueStore={},this.index=0,this.connected=!0}var t,n,i;return t=e,(n=[{key:"send",value:function(e,t){this.webSocketHelper.sendToClient(this.id,e,t)}},{key:"getUserData",value:function(e){return this.keyValueStore[e]}},{key:"setUserData",value:function(e,t){this.keyValueStore[e]=t}}])&&Sh(t.prototype,n),i&&Sh(t,i),e}();function Oh(e){return(Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dh(e,t){return!t||"object"!==Oh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fh(e){return(Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ih(e,t){return(Ih=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _h=function(e){function t(e){var n;Ah(this,t),(n=Dh(this,Fh(t).call(this,"WebSocket",e,"Ein Objekt der Klasse WebSocket kann Daten √ºber das Internet senden und empfangen. Um die Klasse benutzen zu k√∂nnen, musst Du eine eigene Klasse schreiben, die die Klasse WebSocket erweitert und die Methoden onConnect, onMessage, onOtherClientConnected und onOtherClientDisconnected √ºberschreibt."))).setBaseClass(e.typeStore.getType("Object"));var i=e.typeStore.getType("WebSocketClient"),r=e.typeStore.getType("System");return n.addMethod(new S("WebSocket",new P([]),null,(function(e){var t,o,a=e[0].value,s=null===(o=null===(t=n.module)||void 0===t?void 0:t.main)||void 0===o?void 0:o.getInterpreter(),l=new zh(a,s,i,r);a.intrinsicData.Helper=l}),!1,!1,"Instanziert ein neues WebSocket-Objekt.",!0)),n.addMethod(new S("open",new P([{identifier:"sessionCode",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"nickName",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Helper;r.connect(n,i),t.intrinsicData.Helper=r}),!1,!1,"Startet die Verbindung mit dem Server. Den SessionCode kannst Du frei w√§hlen. Mit allen anderen Clients, die eine Verbindung mit demselben SessionCode aufbauen, kannst Du anschlie√üend Daten austauschen. Auch der Nickname ist frei w√§hlbar. Er ist f√ºr alle anderen Clients sichtbar.",!1)),n.addMethod(new S("sendToAll",new P([{identifier:"message",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.sendToAll(n,i)}),!1,!1,"Sendet Daten (message) an alle anderen Clients. Den messageType kannst Du frei w√§hlen. Die empfangenden Clients bekommen ihn zusammen mit den Daten √ºbermittelt. Tipp: Du kannst auch Objekte senden, musst sie dazu aber vorher serialisieren, d.h. mithilfe der Methode toJson in eine Zeichenkette verwandeln.",!1)),n.addMethod(new S("findClients",new P([{identifier:"count",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;t.findClientsFromCount(n)}),!1,!1,'Sucht die √ºbergebene Anzahl von "kontaktbereiten" Clients, d.h. solchen Clients, die exakt dieselbe Suchanfrage abgegeben haben. Findet der Server die Clients, so ruft er bei allen beteiligten Clients onClientsFound auf.',!1)),n.addMethod(new S("findClients",new P([{identifier:"nicknames",type:new Y(ht),declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value.map((function(e){return e.value}));t.findClientsFromNicknames(n)}),!1,!1,"Sucht die Clients mit den angegebenen Nicknames. Haben sie eine entsprechende Suchanfrage (d.h. dieselben Nicknames) abgegeben, so so ruft der Server bei allen beteiligten Clients onClientsFound auf.",!1)),n.addMethod(new S("findClient",new P([{identifier:"nickname",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;t.findClientsFromNicknames([n])}),!1,!1,"Sucht den Client mit dem angegebenen Nickname. Hat er eine entsprechende Suchanfrage (d.h. mit dem Nickname DIESES clients) abgegeben, so so ruft der Server bei beiden Clients onClientsFound auf.",!1)),n.addMethod(new S("close",new P([]),at,(function(e){e[0].value.intrinsicData.Helper.disconnect()}),!1,!1,"Beendet die Verbindung. Bei allen anderen Clients, die sich mit derselben sessionId verbunden haben, wird daraufhin die Methode onOtherClientDisconnected aufgerufen.",!1)),n.addMethod(new S("onOpen",new P([]),null,null,!1,!1,"Wird aufgerufen, sobald die Verbindung mit dem Server zustandegekommen ist.",!1)),n.addMethod(new S("onClose",new P([]),null,null,!1,!1,"Wird aufgerufen, nachdem die Verbindung geschlossen wurde.",!1)),n.addMethod(new S("onMessage",new P([{identifier:"sender",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"message",type:ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn eine Nachricht eines anderen Clients empfangen wurde.",!1)),n.addMethod(new S("onOtherClientConnected",new P([{identifier:"otherClient",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn sich ein anderer Client unter Nutzung desselben sessionCodes mit dem Server verbunden hat.",!1)),n.addMethod(new S("onOtherClientDisconnected",new P([{identifier:"otherClient",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn ein anderer Client unter Nutzung desselben sessionCodes die Verbindung mit dem Server beendet hat.",!1)),n.addMethod(new S("onClientsFound",new P([{identifier:"clients",type:new Y(i),declaration:null,usagePositions:null,isFinal:!0},{identifier:"ownIndex",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn die durch die Methoden findClient bzw. findClients zuvor gesuchten Clients gefunden wurden.",!1)),n.addMethod(new S("getOtherClients",new P([]),new Y(i),(function(e){return e[0].value.intrinsicData.Helper.clientList.map((function(e){return{type:i,value:e.runtimeObject}}))}),!1,!1,"Gibt alle bisher bei der selben Session angemeldeten Clients zur√ºck.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ih(e,t)}(t,e),t}(G),zh=function(){function e(t,n,i,r){Ah(this,e),this.runtimeObject=t,this.interpreter=n,this.webSocketClientType=i,this.systemClassType=r,this.clientList=[],this.idToClientMap={},this.isOpen=!1,this.unsentMessages=[];var o=t.class;this.onOpenMethod=o.methods.find((function(e){return"onOpen()"==e.signature})),this.onCloseMethod=o.methods.find((function(e){return"onClose()"==e.signature})),this.onMessageMethod=o.methods.find((function(e){return"onMessage(WebSocketClient, String, String)"==e.signature})),this.onClientConnectedMethod=o.methods.find((function(e){return"onOtherClientConnected(WebSocketClient)"==e.signature})),this.onClientDisconnectedMethod=o.methods.find((function(e){return"onOtherClientDisconnected(WebSocketClient)"==e.signature})),this.onClientsFoundMethod=o.methods.find((function(e){return"onClientsFound(WebSocketClient[], int)"==e.signature}))}var t,n,i;return t=e,(n=[{key:"connect",value:function(e,t){var n=this;this.interpreter.main.isEmbedded()?this.interpreter.throwException("Die Netzwerkfunktionalit√§ten stehen nur eingeloggten Nutzern in der Entwicklungsumgebung zur Verf√ºgung und k√∂nnen daher leider hier nicht ausprobiert werden."):rr("getWebSocketToken",{},(function(i){var r=(window.location.protocol.startsWith("https")?"wss://":"ws://")+window.location.host+"/servlet/websocket";n.connection=new WebSocket(r),n.connection.onerror=function(e){n.onError(e)},n.connection.onclose=function(e){n.onClose(e)},n.connection.onmessage=function(e){n.onMessage(e)},n.connection.onopen=function(r){var o={command:1,token:i.token,nickname:t,sessionCode:e};n.interpreter.webSocketsToCloseAfterProgramHalt.push(n.connection),n.isOpen=!0,n.sendIntern(JSON.stringify(o)),n.onOpen()}}))}},{key:"sendIntern",value:function(e){if(this.isOpen)try{this.connection.send(e)}catch(e){console.log(e)}else this.unsentMessages.push(e)}},{key:"onClose",value:function(e){this.isOpen=!1,this.runMethod(this.onCloseMethod,[])}},{key:"sendToClient",value:function(e,t,n){var i={command:3,data:t,dataType:n,recipient_id:e};this.sendIntern(JSON.stringify(i))}},{key:"sendToAll",value:function(e,t){var n={command:2,data:e,dataType:t};this.sendIntern(JSON.stringify(n))}},{key:"disconnect",value:function(){this.sendIntern(JSON.stringify({command:4})),this.connection.close();var e=this.interpreter.webSocketsToCloseAfterProgramHalt;e.splice(e.indexOf(this.connection),1)}},{key:"onMessage",value:function(e){var t=JSON.parse(e.data);if(null!=t.command)switch(t.command){case 1:var n=new M(this.webSocketClientType),i=new jh(n,this,t.user_id,t.rufname,t.familienname,t.username,t.nickname);n.intrinsicData.Helper=i,this.clientList.push(i),this.idToClientMap[t.user_id]=i,this.runMethod(this.onClientConnectedMethod,[{type:this.webSocketClientType,value:n}]);break;case 2:var r=this.idToClientMap[t.from_client_id];if(null==r)return;this.runMethod(this.onMessageMethod,[{type:this.webSocketClientType,value:r.runtimeObject},{type:ht,value:t.data},{type:ht,value:t.dataType}]);break;case 3:var o=this.idToClientMap[t.disconnecting_client_id];if(null==o)return;this.clientList.splice(this.clientList.indexOf(o),1),this.idToClientMap[t.disconnecting_client_id]=void 0,this.runMethod(this.onClientDisconnectedMethod,[{type:this.webSocketClientType,value:o.runtimeObject}]);break;case 4:this.systemClassType.deltaTimeMillis=t.currentTimeMills-Date.now(),this.client_id=t.client_id;break;case 5:break;case 6:this.onClientsFound(t)}}},{key:"onClientsFound",value:function(e){var t=0,n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.clients[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.id==this.client_id)t=l.index;else{var u=this.idToClientMap[l.id];null!=u&&(u.index=l.index,n.push({type:this.webSocketClientType,value:u.runtimeObject}))}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}var c={type:new Y(this.webSocketClientType),value:n};this.runMethod(this.onClientsFoundMethod,[c,{type:st,value:t}])}},{key:"onError",value:function(e){this.interpreter.throwException("Kommunikationsfehler beim WebSocket")}},{key:"onOpen",value:function(){var e=this;this.isOpen=!0,this.unsentMessages.length>0&&(this.unsentMessages.forEach((function(t){return e.sendIntern(t)})),this.unsentMessages=[]),this.runMethod(this.onOpenMethod,[])}},{key:"runMethod",value:function(e,t){null!=e&&(t.splice(0,0,{type:this.runtimeObject.class,value:this.runtimeObject}),this.interpreter.state==Ka.waitingForInput?this.interpreter.executeImmediatelyInNewStackframe(e.program,t):this.interpreter.runTimer(e,t,(function(){}),!1))}},{key:"findClientsFromCount",value:function(e){var t={command:6,count:e,nicknames:[]};this.sendIntern(JSON.stringify(t))}},{key:"findClientsFromNicknames",value:function(e){var t={command:6,count:e.length,nicknames:e};this.sendIntern(JSON.stringify(t))}}])&&Eh(t.prototype,n),i&&Eh(t,i),e}();function Lh(e){return(Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bh(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Gh(e,t,n){return t&&Wh(e.prototype,t),n&&Wh(e,n),e}function Nh(e,t){return!t||"object"!==Lh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $h(e){return($h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vh(e,t){return(Vh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hh=function(e){function t(e){var n;Rh(this,t),(n=Nh(this,$h(t).call(this,"PApplet",e,"Processing-Applet"))).module=e,n.setBaseClass(e.typeStore.getType("Object")),n.documentation="Wenn Du Deine Klasse von PApplet ableitest (class Test extends PApplet{...}), kannst Du auf diese Weise ein Processing-Applet erstellen (siehe https://processing.org), indem Du ihre Methoden draw(), mousePressed(), usw. √ºberschreibst und mit Inhalt f√ºllst. Du startest das Applet, indem Du ein Objekt Deiner Klasse instanzierst und davon die main-Methode aufrufst: new Test().main();";[["mouseX","aktuelle x-Koordinate des Mauszeigers"],["mouseY","aktuelle y-Koordinate des Mauszeigers"],["pMouseX","x-Koordinate des Mauszeigers im vorhergehenden Frame"],["pMouseY","y-Koordinate des Mauszeigers im vorhergehenden Frame"],["LEFT","links"],["CENTER","Mitte"],["RIGHT","rechts"],["TOP","obenb√ºndig"],["BASELINE","b√ºndig auf der Grundlinie"],["BOTTOM","untenb√ºndig"],["width","Breite des Zeichenbereichs"],["height","H√∂he des Zeichenbereichs"],["keyCode","Zahlencode der zuletzt gedr√ºckten Taste"],["mouseButton","zuletzt gedr√ºckte Maustaste, kann die Werte LEFT, RIGHT und CENTER annehmen"],["CORNER","Mode zum Zeichnen von Rechtecken"],["CORNERS","Mode zum Zeichnen von Rechtecken"],["RADIUS","Mode zum Zeichnen von Rechtecken"],["POINTS","zeichne nachfolgend Einzelpunkte"],["LINES","zeichne nachfolgend einzelne Linien"],["TRIANGLES","zeichne nachfolgend einzelne Dreiecke"],["TRIANGLE_STRIP","zeichne nachfolgend einen Triangle-Strip"],["TRIANGLE_FAN","zeichne nachfolgend einen Triangle-Fan"],["QUADS","zeichne nachfolgend Vierecke"],["QUAD_STRIP","zeichne nachfolgend einen Quad-Strip"],["TESS","zeichne nachfolgend ein TESS - geht nur bei createCanvas(width, height, WEBGL)"],["CLOSE","endShape(CLOSE) schlie√üt den Linienzug"],["DEGREES","angleMode(DEGREES) sorgt daf√ºr, dass nachfolgende Winkelangaben in Grad interpretiert werden."],["RADIANS","angleMode(RADIANS) sorgt daf√ºr, dass nachfolgende Winkelangaben im Bogenma√ü interpretiert werden."]].forEach((function(t){n.addAttribute(new k(t[0],st,(function(n){n.value=e.main.getInterpreter().processingHelper.p5o[t[0]]}),!1,j.public,!0,t[1]))}));return[["WEBGL","WebGL-Renderer zur 3D-Ausgabe"],["P2D","Renderer zur zweidimensionalen Ausgabe"],["RGB","Color-Mode RGB (rot, gr√ºn, blau)"],["HSL","Color-Mode HSL"],["HSB","Color-Mode HSB"]].forEach((function(t){n.addAttribute(new k(t[0],ht,(function(n){n.value=e.main.getInterpreter().processingHelper.p5o[t[0]]}),!1,j.public,!0,t[1]))})),n.addAttribute(new k("key",pt,(function(t){t.value=e.main.getInterpreter().processingHelper.p5o.key}),!1,j.public,!0,"letzte gedr√ºckte Taste")),n.addMethod(new S("PApplet",new P([]),null,(function(e){var t=e[0].value,i=n.getProcessingHelper(t);t.intrinsicData.Processing=i}),!1,!1,"Legt eine neues Processing-Applet an",!0)),n.addMethod(new S("main",new P([{identifier:"name",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value.intrinsicData.Processing,i=e.main.getInterpreter();i.currentProgramPosition++,n.main(),i.currentProgramPosition--}),!1,!1,"Startet das Processing-Applet.",!1)),n.addMethod(new S("main",new P([]),null,(function(t){var n=t[0].value.intrinsicData.Processing,i=e.main.getInterpreter();i.currentProgramPosition++,n.main(),i.currentProgramPosition--}),!1,!1,"Startet das Processing-Applet.",!1)),n.addMethod(new S("loop",new P([]),null,(function(e){e[0].value.intrinsicData.Processing.loop()}),!1,!1,"Startet nach noLoop() die Renderer-Loop wieder neu, so dass draw() wieder periodisch aufgerufen wird.",!1)),n.addMethod(new S("noLoop",new P([]),null,(function(e){e[0].value.intrinsicData.Processing.noLoop()}),!1,!1,"Stoppt die Render-Loop, so dass draw() nicht mehr aufgerufen wird. Kann mit loop() wieder gestartet werden.",!1)),n.addMethod(new S("size",new P([{identifier:"width",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value;t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),n.addMethod(new S("createCanvas",new P([{identifier:"width",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value;t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),n.addMethod(new S("createCanvas",new P([{identifier:"width",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"renderer",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value,r=e[3].value;t.renderer=r,t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),n.addMethod(new S("draw",new P([]),at,null,!1,!1,'Die draw-Methode wird 60-mal pro Sekunde aufgerufen ("Render-Loop"). Die Render-Loop kann mit der Methode noLoop() gestoppt und mit loop() wieder gestartet werden. redraw() ruft (im gestoppten Zustand) draw genau ein Mal auf.',!1)),n.addMethod(new S("settings",new P([]),at,null,!1,!1,"Die settings-Methode wird aufgerufen, nachdem das Processing-Applet durch Aufruf der Methode main gestartet wurde. Im Unterschied zur Original Java-Version von Processing hat die Methode settings hier keine andere Bewandtnis als die - unmittelbar darauf aufgerufene - Methode setup. In beiden Methoden kann man bspw. mit createCanvas(width, height) das Koordinatensystem einrichten und Figuren zeichnen.",!1)),n.addMethod(new S("setup",new P([]),at,null,!1,!1,"Die setup-Methode wird beim Programmstart nach der settings-Methode aufgerufen. Im Unterschied zur Original Java-Version von Processing hat die Methode setup hier keine andere Bewandtnis als die - unmittelbar davor aufgerufene - Methode settings. In beiden Methoden kann man bspw. mit createCanvas(width, height) das Koordinatensystem einrichten und Figuren zeichnen.",!1)),n.addMethod(new S("mousePressed",new P([]),at,null,!1,!1,"Die mousePressed-Methode wird immer dann aufgerufen, wenn gerade eine Maustaste heruntergedr√ºckt wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade heruntergedr√ºckte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new S("mouseReleased",new P([]),at,null,!1,!1,"Die mouseReleased-Methode wird immer dann aufgerufen, wenn gerade eine Maustaste losgelassen wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade losgelassene Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new S("mouseClicked",new P([]),at,null,!1,!1,"Die mouseClicked-Methode wird immer dann aufgerufen, wenn eine Maustaste auf dem Zeichenbereich gedr√ºckt und anschlie√üend losgelassen wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade losgelassene Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new S("mouseDragged",new P([]),at,null,!1,!1,"Die mouseDragged-Methode wird immer dann aufgerufen, wenn eine Maustaste gerade heruntergedr√ºckt ist und die Position des Mauszeigers sich ver√§ndert hat. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die zuletzt gedr√ºckte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new S("mouseMoved",new P([]),at,null,!1,!1,"Die mouseMoved-Methode wird immer dann aufgerufen, wenn die Position des Mauszeigers sich ver√§ndert hat. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die zuletzt gedr√ºckte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),n.addMethod(new S("mouseEntered",new P([]),at,null,!1,!1,"Die mouseEntered-Methode wird immer dann aufgerufen, wenn der Mauszeiger von au√üen neu in den Zeichenbereich hineinf√§hrt.",!1)),n.addMethod(new S("mouseExited",new P([]),at,null,!1,!1,"Die mouseExited-Methode wird immer dann aufgerufen, wenn der Mauszeiger den Zeichnbereich gerade verlassen hat.",!1)),n.addMethod(new S("keyPressed",new P([]),at,null,!1,!1,"Die keyPressed-Methode wird immer dann aufgerufen, wenn eine Taste gerade heruntergedr√ºckt wurde. Informationen zur Taste k√∂nnen den Attributen key (String) und keyCode (int) entnommen werden.",!1)),n.addMethod(new S("keyReleased",new P([]),at,null,!1,!1,"Die keyReleased-Methode wird immer dann aufgerufen, wenn eine Taste gerade losgelassen wurde. Informationen zur Taste k√∂nnen den Attributen key (String) und keyCode (int) entnommen werden.",!1)),n.addProcessingMethod("clear",[],[],"L√∂scht die Zeichenfl√§che."),n.addProcessingMethod("background",["rgb"],lt,"√úbermalt die komplette Zeichenfl√§che mit der √ºbergebenen Farbe."),n.addProcessingMethod("background",["colorAsString"],ht,"√úbermalt die komplette Zeichenfl√§che mit der √ºbergebenen Farbe. √úbergeben wird eine Zeichenkette der Form 'rgb(0,0,255)' oder 'rgb(0%, 0%, 100%)' oder 'rgba(0, 0, 255, 1)' oder 'rgba(0%, 0%, 100%, 1)' und all diese Kombinationen statt rgb auch mit hsl und hsb.",ht),n.addProcessingMethod("background",["v1","v2","v3"],lt,"√úbermalt die komplette Zeichenfl√§che mit der √ºbergebenen Farbe. v1, v2 und v3 sind - abh√§ngig vom aktuellen color mode - rot, gr√ºn und blauwert oder Farbe, S√§ttigung und Helligkeit"),n.addProcessingMethod("fill",["rgb"],st,"Setzt die F√ºllfarbe."),n.addProcessingMethod("fill",["rgb"],ht,"Setzt die F√ºllfarbe."),n.addProcessingMethod("fill",["rgb","alpha"],[st,lt],"Setzt die F√ºllfarbe."),n.addProcessingMethod("fill",["gray"],lt,"Setzt die F√ºllfarbe."),n.addProcessingMethod("fill",["v1","v2","v3"],lt,"Setzt die F√ºllfarbe. v1, v2 und v3 sind - abh√§ngig vom aktuellen color mode - rot, gr√ºn und blauwert oder Farbe, S√§ttigung und Helligkeit"),n.addProcessingMethod("fill",["v1","v2","v3","alpha"],lt,"Setzt die F√ºllfarbe. v1, v2 und v3 sind - abh√§ngig vom aktuellen color mode - rot, gr√ºn und blauwert oder Farbe, S√§ttigung und Helligkeit"),n.addProcessingMethod("noFill",[],[],"Die nachfolgend gezeichneten Figuren werden nicht gef√ºllt."),n.addProcessingMethod("stroke",["rgb"],st,"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["rgb"],ht,"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["rgb","alpha"],[st,lt],"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["gray"],lt,"Setzt die Linienfarbe."),n.addProcessingMethod("stroke",["v1","v2","v3"],lt,"Setzt die Linienfarbe. v1, v2 und v3 sind - abh√§ngig vom aktuellen color mode - rot, gr√ºn und blauwert oder Farbe, S√§ttigung und Helligkeit"),n.addProcessingMethod("stroke",["v1","v2","v3","alpha"],lt,"Setzt die Linienfarbe. v1, v2 und v3 sind - abh√§ngig vom aktuellen color mode - rot, gr√ºn und blauwert oder Farbe, S√§ttigung und Helligkeit"),n.addProcessingMethod("strokeWeight",["weight"],lt,"Setzt die Linienbreite."),n.addProcessingMethod("noStroke",[],[],"Die nachfolgend gezeichneten Figuren werden ohne Rand gezeichnet."),n.addProcessingMethod("color",["gray"],lt,"Gibt den Grauton als String-kodierte Farbe zur√ºck.",ht),n.addProcessingMethod("color",["colorAsString"],ht,"Gibt die Farbe zur√ºck. √úbergeben kann eine Zeichenkette der Form 'rgb(0,0,255)' oder 'rgb(0%, 0%, 100%)' oder 'rgba(0, 0, 255, 1)' oder 'rgba(0%, 0%, 100%, 1)' und all diese Kombinationen statt rgb auch mit hsl und hsb.",ht),n.addProcessingMethod("color",["gray","alpha"],lt,"Gibt den Grauton als String-kodierte Farbe zur√ºck.",ht),n.addProcessingMethod("color",["v1","v2","v3"],lt,"Gibt die aus v1, v2, v3 gebildete Farbe String-kodiert zur√ºck.",ht),n.addProcessingMethod("color",["v1","v2","v3","alpha"],lt,"Gibt die aus v1, v2, v3 und alpha gebildete Farbe String-kodiert zur√ºck.",ht),n.addProcessingMethod("lerpColor",["colorA","colorB","t"],[ht,ht,lt],"Gibt eine Zwischenfarbe zwischen colorA und colorB zur√ºck. t == 0 bedeutet: colorA, t == 1 bedeutet: colorB, t == 0.5 bedeutet: genau zwischen beiden, usw.",ht),n.addProcessingMethod("colorMode",["mode"],ht,"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. M√∂glich sind die Werte RGB, HSL und HSB."),n.addProcessingMethod("colorMode",["mode","max"],[ht,lt],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. M√∂glich sind die Werte RGB, HSL und HSB f√ºr Mode. Max ist der Maximalwert jeder Farbkomponente."),n.addProcessingMethod("colorMode",["mode","max1","max2","max3"],[ht,lt,lt,lt],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. M√∂glich sind die Werte RGB, HSL und HSB f√ºr Mode. Max ist der Maximalwert jeder Farbkomponente."),n.addProcessingMethod("colorMode",["mode","max1","max2","max3","maxAlpha"],[ht,lt,lt,lt,lt],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. M√∂glich sind die Werte RGB, HSL und HSB f√ºr Mode. Max ist der Maximalwert jeder Farbkomponente."),n.addProcessingMethod("rectMode",["mode"],ht,"Setzt den Modus, in dem nachfolgende Aufrufe von rect(...) interpretiert werden. M√∂glich sind die Werte CORNER, CORNERS, RADIUS und CENTER."),n.addProcessingMethod("rect",["left","top","width","height"],lt,"Zeichnet ein Rechteck. (left, top) ist die linke obere Ecke, width die Breite und height die H√∂he des Rechtecks."),n.addProcessingMethod("rect",["left","top","width","height","radius"],lt,"Zeichnet ein Rechteck mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width die Breite und height die H√∂he des Rechtecks."),n.addProcessingMethod("rect",["left","top","width","height","radius1","radius2","radius3","radius4"],lt,"Zeichnet ein Rechteck mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width die Breite und height die H√∂he des Rechtecks."),n.addProcessingMethod("square",["left","top","width"],lt,"Zeichnet ein Quadrat. (left, top) ist die linke obere Ecke, width Seitenl√§nge des Quadrats."),n.addProcessingMethod("square",["left","top","width","radius"],lt,"Zeichnet ein Quadrat mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width Seitenl√§nge des Quadrats. Radius ist der Eckenradius."),n.addProcessingMethod("square",["left","top","width","radius1","radius2","radius3","radius4"],lt,"Zeichnet ein Quadrat mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width Seitenl√§nge des Quadrats. Radius ist der Eckenradius."),n.addProcessingMethod("rect",["left","top","width","height","radius"],lt,"Zeichnet ein Rechteck. (left, top) ist die linke obere Ecke, width die Breite und height die H√∂he des Rechtecks. Radius ist der Eckenradius"),n.addProcessingMethod("ellipse",["left","top","width","height"],lt,"Zeichnet eine Ellipse. (left, top) ist die linke obere Ecke der Boundingbox der Ellipse, width ihre Breite und height ihre H√∂he. Das l√§sst sich aber mit ellipseMode(...) √§ndern!"),n.addProcessingMethod("circle",["x","y","extent"],lt,"Zeichnet einen Kreis. (x, y) ist der Mittelpunkt des Kreises, extent der doppelte Radius."),n.addProcessingMethod("ellipseMode",["mode"],ht,"Setzt den Modus, in dem nachfolgende Aufrufe von ellipse(...) interpretiert werden. M√∂glich sind die Werte CORNER, CORNERS, RADIUS und CENTER."),n.addProcessingMethod("line",["x1","y1","x2","y2"],lt,"Zeichnet eine Strecke von (x1, y1) nach (x2, y2)."),n.addProcessingMethod("line",["x1","y1","z1","x2","y2","z2"],lt,"Zeichnet eine Strecke von (x1, y1, z1) nach (x2, y2, z2)."),n.addProcessingMethod("triangle",["x1","y1","x2","y2","x3","y3"],lt,"Zeichnet eine Dreieck mit den Eckpunkten (x1, y1), (x2, y2) und (x3, y3)."),n.addProcessingMethod("quad",["x1","y1","x2","y2","x3","y3","x4","y4"],lt,"Zeichnet eine Viereck mit den Eckpunkten (x1, y1), (x2, y2), (x3, y3) und (x4, y4)."),n.addProcessingMethod("bezier",["x1","y1","x2","y2","x3","y3","x4","y4"],lt,"Zeichnet eine kubische Bezierkurve mit den Ankerpunkten (x1, y1), (x4, y4) und den Kontrollpunkten (x2, y2), (x3, y3)."),n.addProcessingMethod("curve",["x1","y1","x2","y2","x3","y3","x4","y4"],lt,"Zeichnet eine Catmull-Rom-Kurve vom Punkt (x2, y2) nach (x3, y3) so, als w√ºrde sie von (x1, x2) kommen und es am Ende zu (x4, y4) weitergehen."),n.addProcessingMethod("curvePoint",["a","b","c","d","t"],lt,"Will man die Zwischenpunkte einer Curve erhalten (Beginn b, Ende c, als w√ºrde sie von a kommen und nach d gehen), so verwendet man sowohl f√ºr die x- als auch f√ºr die y-Koordinate diese Funktion. t gibt an, welchen Punkt der Kurve man haben m√∂chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",lt),n.addProcessingMethod("curveTangent",["a","b","c","d","t"],lt,"Will man die Zwischentangenten einer Curve erhalten (Beginn b, Ende c, als w√ºrde sie von a kommen und nach d gehen), so verwendet man sowohl f√ºr die x- als auch f√ºr die y-Koordinate diese Funktion. t gibt an, welchen Punkt der Kurve man haben m√∂chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",lt),n.addProcessingMethod("bezierPoint",["x1","x2","x3","x4","t"],lt,"Will man die Zwischenpunkte einer Bezierkurve erhalten (Ankerkoordinaten x1, x4 und St√ºtzkoordinaten x2, x3), so nutzt man - einzeln sowohl f√ºr die x- also auch f√ºr die y-Koordinate - diese Funktion. t gibt an, welchen Punkt der Kurve man haben m√∂chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",lt),n.addProcessingMethod("bezierTangent",["x1","x2","x3","x4","t"],lt,"Will man die Zwischentangenten einer Bezierkurve erhalten (Ankerkoordinaten x1, x4 und St√ºtzkoordinaten x2, x3), so nutzt man - einzeln sowohl f√ºr die x- also auch f√ºr die y-Koordinate - diese Funktion. t gibt an, welchen Punkt der Kurve man haben m√∂chte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",lt),n.addProcessingMethod("beginShape",[],[],"Beginnt mit dem Zeichnen eines Polygons. Die einzelnen Punkte werden mit der Methode vertex(x, y) gesetzt."),n.addProcessingMethod("endShape",[],[],"Endet das Zeichnen eines Polygons."),n.addProcessingMethod("beginShape",["kind"],ht,"Beginnt mit dem Zeichnen eines Polygons. Die einzelnen Punkte werden mit der Methode vertex(x, y) gesetzt. M√∂gliche Werte f√ºr kind sind: POINTS, LINES, TRIANGLES, TRIANGLE_STRIP, TRIANGLE_FAN, QUADS, QUAD_STRIP"),n.addProcessingMethod("endShape",["kind"],ht,"endShape(CLOSE) schlie√üt den Linienzug."),n.addProcessingMethod("vertex",["x","y"],lt,"Setzt zwischen beginShape() und endShape() einen Punkt."),n.addProcessingMethod("point",["x","y"],lt,"Zeichnet einen Punkt."),n.addProcessingMethod("set",["x","y","color"],[lt,lt,ht],"Setzt die Farbe des Pixels bei (x, y)."),n.addProcessingMethod("vertex",["x","y","z"],lt,"Setzt zwischen beginShape() und endShape() einen Punkt."),n.addProcessingMethod("point",["x","y","z"],lt,"Zeichnet einen Punkt."),n.addProcessingMethod("curveVertex",["x","y"],lt,"Setzt zwischen beginShape() und endShape() einen Punkt. Processing zeichnet damit eine Kurve nach dem Catmull-Rom-Algorithmus."),n.addProcessingMethod("curvevertex",["x","y","z"],lt,"Setzt zwischen beginShape() und endShape() einen Punkt. Processing zeichnet damit eine Kurve nach dem Catmull-Rom-Algorithmus."),n.addProcessingMethod("box",["size"],lt,"Zeichnet einen 3D-W√ºrfel mit der Seitenl√§nge size."),n.addProcessingMethod("box",["sizeX","sizeY","sizeZ"],lt,"Zeichnet einen 3D-W√ºrfel mit den angegebenen Seitenl√§ngen."),n.addProcessingMethod("resetMatrix",[],[],"Setzt alle erfolgten Transformationen zur√ºck."),n.addProcessingMethod("push",[],[],"Sichert den aktuellen Zeichenzustand, d.h. die Farben und Transformationen, auf einen Stack."),n.addProcessingMethod("pop",[],[],"Holt den obersten Zeichenzustand, d.h. die Farben und Transformationen, vom Stack."),n.addProcessingMethod("scale",["factor"],lt,"Streckt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("scale",["factorX","factorY"],lt,"Streckt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("scale",["factorX","factorY","factorZ"],lt,"Streckt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("translate",["x","y"],lt,"Verschiebt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("translate",["x","y","z"],lt,"Verschiebt die nachfolgend gezeichneten Figuren."),n.addProcessingMethod("rotate",["angle"],lt,"Rotiert die nachfolgend gezeichneten Figuren. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("rotateX",["angle"],lt,"Rotiert die nachfolgend gezeichneten Figuren um die X-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("rotateY",["angle"],lt,"Rotiert die nachfolgend gezeichneten Figuren um die Y-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("shearX",["angle"],lt,"Schert die nachfolgend gezeichneten Figuren in Richtung derX-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("shearY",["angle"],lt,"Schert die nachfolgend gezeichneten Figuren in Richtung der Y-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("rotateZ",["angle"],lt,"Rotiert die nachfolgend gezeichneten Figuren um die Z-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),n.addProcessingMethod("angleMode",["mode"],ht,"Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie winkel bei Rotationen interpretiert werden. Default ist RADIANS."),n.addProcessingMethod("textSize",["size"],lt,"Setzt die Schriftgr√∂√üe in Pixel."),n.addProcessingMethod("textAlign",["alignX"],st,"Setzt die Ausrichtung des n√§chsten ausgegebenen Textes in x-Richtung. M√∂gliche Werte sind CENTER, LEFT, RIGHT"),n.addProcessingMethod("textAlign",["alignX","alignY"],st,"Setzt die Ausrichtung des n√§chsten ausgegebenen Textes. M√∂gliche Werte f√ºr alignX sind CENTER, LEFT, RIGHT, m√∂gliche Werte f√ºr alignY sind TOP, CENTER, BASELINE, BOTTOM"),n.addProcessingMethod("text",["text","x","y"],[ht,lt,lt],"Gibt Text aus."),n.addProcessingMethod("text",["text","x","y","x2","y2"],[ht,lt,lt,lt,lt],"Gibt Text aus. x2 und y2 sind die Breite und H√∂he des Textausgabebereichs. Hat der Text horizontal nicht Platz, so wird er entsprechend umgebrochen."),n.addProcessingMethod("random",["low","high"],lt,"Gibt eine Zufallszahl zwischen low und high zur√ºck.",lt),n.addProcessingMethod("random",["high"],lt,"Gibt eine Zufallszahl zwischen 0 und high zur√ºck.",lt),n.addProcessingMethod("sqrt",["n"],lt,"Gibt die Quadratwurzel von n zur√ºck.",lt),n.addProcessingMethod("pow",["basis","exponent"],lt,'Gibt die den Wert der Potenz ("basis hoch exponent") zur√ºck.',lt),n.addProcessingMethod("max",["a","b"],lt,"Gibt den gr√∂√üeren der beiden Werte zur√ºck.",lt),n.addProcessingMethod("min",["a","b"],lt,"Gibt den kleineren der beiden Werte zur√ºck.",lt),n.addProcessingMethod("abs",["n"],lt,"Gibt den Betrag des Wertes zur√ºck.",lt),n.addProcessingMethod("sin",["n"],lt,"Gibt den Sinus des Wertes zur√ºck.",lt),n.addProcessingMethod("cos",["n"],lt,"Gibt den Cosinus des Wertes zur√ºck.",lt),n.addProcessingMethod("tan",["n"],lt,"Gibt den Tangens des Wertes zur√ºck.",lt),n.addProcessingMethod("asin",["n"],lt,"Gibt den Arcussinus des Wertes zur√ºck.",lt),n.addProcessingMethod("acos",["n"],lt,"Gibt den Arcussosinus des Wertes zur√ºck.",lt),n.addProcessingMethod("radians",["angle"],lt,"Wandelt einen Winkel vom Gradma√ü ins Bogenma√ü um.",lt),n.addProcessingMethod("degrees",["angle"],lt,"Wandelt einen Winkel vom Bogenma√ü ins Gradma√ü um.",lt),n.addProcessingMethod("atan",["n"],lt,"Gibt den Arcussangens des Wertes zur√ºck.",lt),n.addProcessingMethod("atan2",["x","y"],lt,"Gibt den Arcussangens des Wertes zur√ºck.",lt),n.addProcessingMethod("sqrt",["x","y"],lt,"Gibt die Quadratwurzel des Wertes zur√ºck.",lt),n.addProcessingMethod("sq",["x","y"],lt,"Gibt das Quadrat des Wertes zur√ºck.",lt),n.addProcessingMethod("abs",["n"],st,"Gibt den Betrag des Wertes zur√ºck.",st),n.addProcessingMethod("round",["n"],lt,"Rundet den Wert auf eine ganze Zahl.",st),n.addProcessingMethod("ceil",["n"],lt,"Rundet den Wert auf eine ganze Zahl (Aufrunden!).",st),n.addProcessingMethod("floor",["n"],lt,"Rundet den Wert auf eine ganze Zahl (Abfrunden!).",st),n.addProcessingMethod("dist",["x1","y1","x2","y2"],lt,"Berechnet den Abstand der Punkte (x1, y1) und (x2, y2).",lt),n.addProcessingMethod("lerp",["a","b","t"],lt,"Berechnet den a + (b - a)*t. W√§hlt man t zwischen 0 und 1, so kann man damit die Zwischenwerte zwischen a und b errechnen.",lt),n.addProcessingMethod("constrain",["value","min","max"],lt,"Beschr√§nkt value auf den Bereich [min, max], genauer: Ist value < min, so wird min zur√ºckgegeben. Ist value > max, so wird max zur√ºckgegeben. Ansonsten wird value zur√ºckgegeben.",lt),n.addProcessingMethod("year",[],[],"Aktuelle Jahreszahl",st),n.addProcessingMethod("month",[],[],"Monat: 1 == Januar, 12 == Dezember",st),n.addProcessingMethod("day",[],[],"Tag (innerhalb des Monats) des aktuellen Datums",st),n.addProcessingMethod("hour",[],[],"Stundenzahl der aktuellen Uhrzeit",st),n.addProcessingMethod("hour",[],[],"Stundenzahl der aktuellen Uhrzeit",st),n.addProcessingMethod("minute",[],[],"Minutenzahl der aktuellen Uhrzeit",st),n.addProcessingMethod("second",[],[],"Sekundenzahl der aktuellen Uhrzeit",st),n.addProcessingMethod("frameRate",["n"],st,"Setzt die Framerate (Anzahl der Aufrufe von draw() pro Sekunde)"),n.addProcessingMethod("textWidth",["text"],ht,"Gibt die Breite des Texts zur√ºck.",lt),n.addProcessingMethod("textAscent",["text"],ht,"Gibt den Ascent Textes zur√ºck ( = H√∂he des gr√∂√üten Zeichens √ºber der Grundlinie).",lt),n.addProcessingMethod("textDescent",["text"],ht,"Gibt den Descent Textes zur√ºck ( = Tiefe des tiefsten Zeichens unter der Grundlinie).",lt),n.addProcessingMethod("textLeading",["leading"],lt,"Setzt den Abstand zweier aufeinanderfolgender Textzeilen."),n.addProcessingMethod("cursor",["type"],ht,'√Ñndert das Aussehen des Mauscursors. Type ist einer der Werte "arrow", "cross", "text", "move", "hand", "wait", "progress".'),n.addProcessingMethod("noCursor",["type"],ht,"Hat zur Folge, dass der Mauscursor √ºber dem Zeichenbereich unsichtbar ist."),n.addProcessingMethod("copy",["sx","sy","sw","sh","dx","dy","dw","dh"],lt,"Kopiert den rechteckigen Bereich mit der linken oberen Ecke (sx, sy) sowie der Breite sw und der H√∂he sh in den Bereich mit der linken oberen Ecke (dx, dy), der Breite dw und der H√∂he dh."),n.addProcessingMethod("millis",[],[],"Gibt die Millisekunden zur√ºck, die vergangen sind, seit setup() aufgerufen wurde."),n.addProcessingMethod("redraw",[],[],"F√ºhrt draw() genau ein Mal aus. Macht ggf. Sinn, wenn die Render-Loop zuvor mit noLoop() gestoppt wurde."),n.setupAttributeIndicesRecursive(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vh(e,t)}(t,e),Gh(t,[{key:"addProcessingMethod",value:function(e,t,n,i,r){var o=[];if(Array.isArray(n))for(var a=0;a<t.length;a++)o.push({identifier:t[a],type:n[a],declaration:null,usagePositions:null,isFinal:!0});else o=t.map((function(e){return{identifier:e,type:n,declaration:null,usagePositions:null,isFinal:!0}}));null==r?this.addMethod(new S(e,new P(o),null,(function(t){var n,i=t[0].value.intrinsicData.Processing,r=t.slice(1).map((function(e){return e.value}));(n=i.p5o)[e].apply(n,Bh(r))}),!1,!1,i,!1)):this.addMethod(new S(e,new P(o),r,(function(t){var n,i=t[0].value.intrinsicData.Processing,r=t.slice(1).map((function(e){return e.value}));return(n=i.p5o)[e].apply(n,Bh(r))}),!1,!1,i,!1))}},{key:"getProcessingHelper",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t,n,i=null===(n=null===(t=this.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter();if(null==i.processingHelper){if(null==i.worldHelper)return new Kh(this.module,i,e);i.throwException("Processing kann nicht gleichzeitig mit der herk√∂mmlichen Grafikausgabe genutzt werden.")}else i.throwException("Es kann nur ein einziges Processing-Applet instanziert werden.")}}]),t}(G),Kh=function(){function e(t,n,i){var r,o=this;Rh(this,e),this.module=t,this.interpreter=n,this.runtimeObject=i,this.width=800,this.height=600,this.loopStopped=!1,this.interpreter.processingHelper=this,this.$containerOuter=jQuery("<div></div>");var a=this.module.main.getInterpreter().printManager.getGraphicsDiv();this.onSizeChanged=function(){var e=a.parents(".jo_tabs"),t=e.width(),n=e.height();o.height/o.width>n/t?a.css({width:o.width/o.height*n+"px",height:n+"px"}):a.css({height:o.height/o.width*t+"px",width:t+"px"})},a.off("sizeChanged"),a.on("sizeChanged",this.onSizeChanged),this.onSizeChanged(),this.$containerInner=jQuery("<div></div>"),this.$containerOuter.append(this.$containerInner),a.append(this.$containerOuter),a.show(),a[0].oncontextmenu=function(e){e.preventDefault()},null===(r=this.module.main.getRightDiv())||void 0===r||r.adjustWidthToWorld()}return Gh(e,[{key:"createCanvas",value:function(e,t){this.width=e,this.height=t,this.onSizeChanged(),this.p5o.createCanvas(this.width,this.height,this.renderer),this.$div.find("canvas").css({width:"",height:""})}},{key:"main",value:function(){this.interpreter.timerExtern=!0,this.setupProcessing(this.$containerInner)}},{key:"setupProcessing",value:function(e){var t=this,n=!0;this.$div=e;this.p5o=new p5((function(e){e.setup=function(){t.renderer=e.P2D;var i=function(){n=!1},r=2;t.runMethod("setup",(function(){0==--r&&i()})),t.runMethod("settings",(function(){0==--r&&i()}))},e.preload=function(){t.runMethod("preload")},e.draw=function(){t.interpreter.state!=Ka.running||t.loopStopped||n||(n=!0,t.runMethod("draw",(function(){n=!1}))),t.tick()},e.mousePressed=function(){t.runMethod("mousePressed")},e.mouseReleased=function(){t.runMethod("mouseReleased")},e.mouseClicked=function(){t.runMethod("mouseClicked")},e.mouseDragged=function(){t.runMethod("mouseDragged")},e.mouseEntered=function(){t.runMethod("mouseEntered")},e.mouseExited=function(){t.runMethod("mouseExited")},e.mouseMoved=function(){t.runMethod("mouseMoved")},e.keyPressed=function(){t.runMethod("keyPressed")},e.keyReleased=function(){t.runMethod("keyReleased")}}),e[0]),e.find("canvas").css({width:"",height:""})}},{key:"tick",value:function(){this.interpreter.state==Ka.running&&(this.interpreter.timerFunction(33.33,!0,.5),this.interpreter.timerStopped=!1,this.interpreter.timerFunction(33.33,!1,.08))}},{key:"loop",value:function(){this.loopStopped=!1}},{key:"noLoop",value:function(){this.loopStopped=!0}},{key:"runMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.runtimeObject.class,i=n.getMethodBySignature(e+"()"),r=null==i?void 0:i.program;if(null!=r){var o=[{type:n,value:this.runtimeObject}];this.interpreter.runTimer(i,o,(function(e){null!=t&&t()}),"draw"==e)}else null!=t&&t()}},{key:"destroyWorld",value:function(){null!=this.p5o&&this.p5o.remove(),this.$containerOuter.remove(),this.module.main.getInterpreter().printManager.getGraphicsDiv().hide(),this.interpreter.timerExtern=!1,this.interpreter.processingHelper=null}}]),e}();function Qh(e){return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Zh(e,t,n){return(Zh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yh(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Xh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qh(e,t){return!t||"object"!==Qh(t)&&"function"!=typeof t?Jh(e):t}function Yh(e){return(Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ep(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tp(e,t)}function tp(e,t){return(tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var np=function(e){function t(e){var n;return Xh(this,t),(n=qh(this,Yh(t).call(this,"Turtle",e,"Turtle-Klasse zum Zeichnen von Streckenz√ºgen oder gef√ºllten Figuren. Wichtig sind vor allem die Methoden forward(double length) und turn(double angleDeg), die die Turtle nach vorne bewegen bzw. ihre Blickrichtung √§ndern."))).setBaseClass(e.typeStore.getType("FilledShape")),n.addMethod(new S("Turtle",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=new ip(i,r,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=o}),!1,!1,'Instanziert ein neues Turtle-Objekt ohne Punkte. Die Turtle blickt anfangs nach rechts. Am Ende des Streckenzugs wird eine "Schildkr√∂te" (kleines Dreieck) gezeichnet.',!0)),n.addMethod(new S("Turtle",new P([{identifier:"x",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:ut,declaration:null,usagePositions:null,isFinal:!0},{identifier:"showTurtle",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new ip(i,r,o,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,'Instanziert ein neues Turtle-Objekt ohne Punkte. Die Turtle blickt anfangs nach rechts. Falls showTurtle == true, wird am Ende des Streckenzuges eine "Schildkr√∂te" (kleines Dreieck) gezeichnet.',!0)),n.addMethod(new S("forward",new P([{identifier:"length",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("forward")||i.forward(n)}),!1,!1,"Weist die Turtle an, die angegebene L√§nge vorw√§rts zu gehen. Ihr zur√ºckgelegter Weg wird als gerade Strecke mit der aktuellen BorderColor gezeichnet. Mit setBorderColor(null) bewirkst Du, dass ein St√ºck ihres Weges nicht gezeichnet wird.",!1)),n.addMethod(new S("turn",new P([{identifier:"angleInDeg",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("turn")||i.turn(n)}),!1,!1,"Bewirkt, dass sich die Turtle um den angegebenen Winkel (in Grad!) dreht, d.h. ihre Blickrichtung √§ndert. Ein positiver Winkel bewirkt eine Drehung gegen den Uhrzeigersinn. Diese Methode wirkt sich NICHT auf die bisher gezeichneten Strecken aus. Willst Du alles bisher Gezeichnete inklusive Turtle drehen, so nutze die Methode rotate.",!1)),n.addMethod(new S("penUp",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("penUp")||(t.penIsDown=!1)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt nicht mehr zeichnet.",!1)),n.addMethod(new S("penDown",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("penDown")||(t.penIsDown=!0)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt wieder zeichnet.",!1)),n.addMethod(new S("closeAndFill",new P([{identifier:"closeAndFill",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("closeAndFill")||i.closeAndFill(n)}),!1,!1,"closeAndFill == true bewirkt, dass das von der Turtlezeichnung umschlossene Gebiet gef√ºllt wird.",!1)),n.addMethod(new S("showTurtle",new P([{identifier:"showTurtle",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("showTurtle")||i.setShowTurtle(n)}),!1,!1,"showTurtle == true bewirkt, dass am Ort der Turtle ein rotes Dreieck gezeichnet wird.",!1)),n.addMethod(new S("copy",new P([]),Jh(n),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Turtle-Objekts und gibt es zur√ºck.",!1)),n}return ep(t,e),t}(G),ip=function(e){function t(e,n,i,r,o){var a;Xh(this,t),(a=qh(this,Yh(t).call(this,r,o))).showTurtle=i,a.lineElements=[],a.turtleAngleDeg=0,a.isFilled=!1,a.xSum=0,a.ySum=0,a.initialHitPolygonDirty=!0,a.turtleSize=40,a.penIsDown=!0,a.lastLineWidth=0,a.lastColor=0,a.lastAlpha=0,a.turtleX=-1,a.turtleY=-1,a.lastTurtleAngleDeg=0,a.renderJobPresent=!1,a.lineElements.push({x:e,y:n,color:0,alpha:1,lineWidth:1}),a.calculateCenter(),a.borderColor=16777215,a.hitPolygonInitial=[];var s=new PIXI.Container;return a.displayObject=s,a.lineGraphic=new PIXI.Graphics,s.addChild(a.lineGraphic),a.lineGraphic.moveTo(e,n),a.turtleX=0,a.turtleY=0,a.turtle=new PIXI.Graphics,s.addChild(a.turtle),a.turtle.visible=a.showTurtle,a.initTurtle(0,0,a.turtleAngleDeg),a.moveTurtleTo(e,n,a.turtleAngleDeg),a.worldHelper.stage.addChild(a.displayObject),a.addToDefaultGroup(),a}var n,i,r;return ep(t,e),n=t,(i=[{key:"calculateCenter",value:function(){var e=this.lineElements.length,t=this.lineElements[e-1];this.xSum+=t.x,this.ySum+=t.y,this.centerXInitial=this.xSum/e,this.centerYInitial=this.ySum/e}},{key:"closeAndFill",value:function(e){e!=this.isFilled&&(this.isFilled=e,this.render(),this.initialHitPolygonDirty=!0)}},{key:"setShowTurtle",value:function(e){this.turtle.visible=e}},{key:"turn",value:function(e){this.turtleAngleDeg-=e,Math.abs(this.turtleAngleDeg)>360&&(this.turtleAngleDeg-=360*Math.floor(this.turtleAngleDeg/360));var t=this.lineElements[this.lineElements.length-1];this.moveTurtleTo(t.x,t.y,this.turtleAngleDeg)}},{key:"rotate",value:function(e,n,i){Zh(Yh(t.prototype),"rotate",this).call(this,e,n,i)}},{key:"getCopy",value:function(e){var n=new M(e),i=new t(this.lineElements[0].x,this.lineElements[0].y,this.showTurtle,this.worldHelper.interpreter,n);return n.intrinsicData.Actor=i,i.turtleAngleDeg=this.turtleAngleDeg,i.copyFrom(this),i.render(),n}},{key:"forward",value:function(e){var t=this,n=this.lineElements[this.lineElements.length-1],i=this.turtleAngleDeg/180*Math.PI,r={x:n.x+e*Math.cos(i),y:n.y+e*Math.sin(i),color:this.penIsDown?this.borderColor:null,alpha:this.borderAlpha,lineWidth:this.borderWidth};this.lineElements.push(r),this.hitPolygonDirty=!0,this.initialHitPolygonDirty=!0,this.calculateCenter(),this.newTurtleX=r.x,this.newTurtleY=r.y,this.newAngleDeg=this.turtleAngleDeg,this.renderJobPresent||(this.renderJobPresent=!0,setTimeout((function(){t.renderJobPresent=!1,t.render(),t.moveTurtleTo(t.newTurtleX,t.newTurtleY,t.turtleAngleDeg)}),100))}},{key:"moveTo",value:function(e,t){var n={x:e,y:t,color:null,alpha:this.borderAlpha,lineWidth:this.borderWidth};this.lineElements.push(n),this.hitPolygonDirty=!0,this.initialHitPolygonDirty=!0,this.calculateCenter(),this.moveTurtleTo(n.x,n.y,this.turtleAngleDeg)}},{key:"initTurtle",value:function(e,t,n){this.turtle.clear(),this.turtle.lineStyle(3,16711680,1,.5),this.turtle.moveTo(e,t);var i=n/180*Math.PI,r=Math.cos(i),o=Math.sin(i),a=-Math.sin(i),s=Math.cos(i),l=this.turtleSize/2,u=this.turtleSize/4,c=this.turtleSize/4;this.turtle.moveTo(e+r*l,t+o*l),this.turtle.lineTo(e-r*u+a*c,t-o*u+s*c),this.turtle.lineTo(e-r*u-a*c,t-o*u-s*c),this.turtle.lineTo(e+r*l,t+o*l)}},{key:"moveTurtleTo",value:function(e,t,n){this.turtle.localTransform.identity(),this.turtle.localTransform.rotate(n/180*Math.PI),this.turtle.localTransform.translate(e,t),this.turtle.transform.onChange(),this.turtle.updateTransform(),this.lastTurtleAngleDeg=this.turtleAngleDeg,this.turtleX=e,this.turtleY=t}},{key:"render",value:function(){var e=this.lineGraphic;this.lastLineWidth=0,this.lastColor=0,this.lastAlpha=0,null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&this.isFilled&&e.beginFill(this.fillColor,this.fillAlpha);var t=this.lineElements[0];e.moveTo(t.x,t.y),this.isFilled&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5);for(var n=1;n<this.lineElements.length;n++){var i=this.lineElements[n];null!=i.color?(this.isFilled||i.lineWidth==this.lastLineWidth&&i.color==this.lastColor&&i.alpha==this.lastAlpha||(e.lineStyle(i.lineWidth,i.color,i.alpha,.5),this.lastLineWidth=i.lineWidth,this.lastColor=i.color,this.lastAlpha=i.alpha),e.lineTo(i.x,i.y)):e.moveTo(i.x,i.y)}this.isFilled&&e.closePath(),null!=this.fillColor&&this.isFilled&&e.endFill()}},{key:"collidesWith",value:function(e){e instanceof t&&e.initialHitPolygonDirty&&e.setupInitialHitPolygon(),this.initialHitPolygonDirty&&this.setupInitialHitPolygon();var n=this.displayObject.getBounds(),i=e.displayObject.getBounds();return!(n.left>i.right||i.left>n.right)&&!(n.top>i.bottom||i.top>n.bottom)&&(e.shapes?e.collidesWith(this):null==this.hitPolygonInitial||null==e.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),e.hitPolygonDirty&&e.transformHitPolygon(),function(e,t){for(var n=0;n<e.length;n++)if(Ts(t,e[n]))return!0;for(var i=0;i<t.length;i++)if(Ts(e,t[i]))return!0;return!1}(this.hitPolygonTransformed,e.hitPolygonTransformed)))}},{key:"setupInitialHitPolygon",value:function(){this.hitPolygonInitial=this.lineElements.map((function(e){return{x:e.x,y:e.y}}))}},{key:"clear",value:function(){this.lineElements=[],this.lineElements.push({x:100,y:200,color:0,alpha:1,lineWidth:1}),this.calculateCenter(),this.hitPolygonInitial=[],this.turtleAngleDeg=0,this.lastTurtleAngleDeg=0,this.borderColor=0,this.turtleSize=40,this.render(),this.moveTurtleTo(100,200,0)}},{key:"touchesAtLeastOneFigure",value:function(){var e=this.lineElements[this.lineElements.length-1],t=e.x,n=e.y,i=!0,r=!1,o=void 0;try{for(var a,s=this.worldHelper.shapes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l!=this&&l.containsPoint(t,n))return!0}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}},{key:"touchesColor",value:function(e){var t=this.lineElements[this.lineElements.length-1],n=t.x,i=t.y,r=!0,o=!1,a=void 0;try{for(var s,l=this.worldHelper.shapes[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(u!=this&&u.containsPoint(n,i)&&u instanceof sl&&u.fillColor==e)return!0}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}},{key:"touchesShape",value:function(e){var t=this.lineElements[this.lineElements.length-1],n=t.x,i=t.y;return e.containsPoint(n,i)}}])&&Uh(n.prototype,i),r&&Uh(n,r),t}(sl);function rp(e){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sp(e,t,n){return t&&ap(e.prototype,t),n&&ap(e,n),e}function lp(e,t){return!t||"object"!==rp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function up(e){return(up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cp(e,t){return(cp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dp=function(e){function t(e,n){var i;return op(this,t),(i=lp(this,up(t).call(this,"Ereignisbehandlung",e,"Zugriff auf Ereignisse einschlie√ülich Taktgeber (Graphics'n Games-Bibliothek (Cornelsen-Verlag))"))).moduleStore=n,i.addMethod(new S("Ereignisbehandlung",new P([]),null,(function(n){var i=n[0].value;t.getHelper(e).registerEvents(i)}),!1,!1,"Instanziert ein neues Ereignisbehandlungs-Objekt.",!0)),i.addMethod(new S("Starten",new P([]),null,(function(n){t.getHelper(e).startTimer()}),!1,!1,"Zeitgeber starten.",!1)),i.addMethod(new S("Anhalten",new P([]),null,(function(n){t.getHelper(e).stopTimer()}),!1,!1,"Zeitgeber anhalten.",!1)),i.addMethod(new S("TaktdauerSetzen",new P([{identifier:"dauer",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(n){var i=n[1].value;t.getHelper(e).taktdauer=i}),!1,!0,"Setzt die Taktdauer des Zeitgebers in Millisekunden",!1)),i.addMethod(new S("TaktImpulsAusf√ºhren",new P([]),at,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),i.addMethod(new S("TasteGedr√ºckt",new P([{identifier:"taste",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedr√ºckt wird.")),i.addMethod(new S("SonderTasteGedr√ºckt",new P([{identifier:"taste",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedr√ºckt wird.")),i.addMethod(new S("MausGeklickt",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedr√ºckt wird.")),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cp(e,t)}(t,e),sp(t,null,[{key:"getHelper",value:function(e){var t=e.main.getInterpreter();return null==t.gngEreignisbehandlungHelper&&(t.gngEreignisbehandlungHelper=new hp(e),t.gngEreignisbehandlungHelper.bindEvents()),t.gngEreignisbehandlungHelper}}]),t}(G),hp=function(){function e(t){op(this,e),this.module=t,this.aktionsempfaengerTypes=["ausf√ºhren","taste","sondertaste","geklickt"],this.methodSignatureList=["TaktImpulsAusf√ºhren()","AktionAusf√ºhren()","MausGeklickt(int, int, int)","TasteGedr√ºckt(char)","SonderTasteGedr√ºckt(int)"],this.methodToAktionsempfaengerTypeMap={"TaktImpulsAusf√ºhren()":"ausf√ºhren","AktionAusf√ºhren()":"ausf√ºhren","MausGeklickt(int, int, int)":"geklickt","TasteGedr√ºckt(char)":"taste","SonderTasteGedr√ºckt(int)":"sondertaste"},this.keyToKeyCodeMap={Enter:13,ArrowLeft:37,ArrowRight:39,ArrowUp:38,ArrowDown:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,PageUp:33,PageDown:34,Insert:155},this.aktionsempfaengerMap={},this.timerRunning=!1,this.taktdauer=300,this.remainingTime=0;var n=!0,i=!1,r=void 0;try{for(var o,a=this.aktionsempfaengerTypes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.aktionsempfaengerMap[s]=[]}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return sp(e,[{key:"hasAktionsEmpfaenger",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.aktionsempfaengerTypes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(this.aktionsempfaengerMap[o].length>0)return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1}},{key:"registerEvents",value:function(e){var t=e.class,n=!0,i=!1,r=void 0;try{for(var o,a=this.methodSignatureList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t.getMethodBySignature(s),u=this.methodToAktionsempfaengerTypeMap[s];null==(null==l?void 0:l.program)&&null==(null==l?void 0:l.invoke)||this.aktionsempfaengerMap[u].push({type:u,method:l,runtimeObject:e})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"unregisterEvents",value:function(e){e.class;var t=!0,n=!1,i=void 0;try{for(var r,o=this.methodSignatureList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=this.methodToAktionsempfaengerTypeMap[a];this.aktionsempfaengerMap[s]=this.aktionsempfaengerMap[s].filter((function(t){return t.runtimeObject!=e}))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"bindEvents",value:function(){var e=this,t=this.module.main.getInterpreter();this.onKeyDownMethod=function(t){if(1==t.length){var n=!0,i=!1,r=void 0;try{for(var o,a=e.aktionsempfaengerMap.taste[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.invokeMethod(s.method,s.runtimeObject,[{type:pt,value:t}])}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}else{var l=e.keyToKeyCodeMap[t];if(null!=l){var u=!0,c=!1,d=void 0;try{for(var h,p=e.aktionsempfaengerMap.sondertaste[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;e.invokeMethod(f.method,f.runtimeObject,[{type:pt,value:l}])}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}},t.keyboardTool.keyDownCallbacks.push(this.onKeyDownMethod)}},{key:"detachEvents",value:function(){var e=this.module.main.getInterpreter(),t=e.keyboardTool.keyDownCallbacks.indexOf(this.onKeyDownMethod);t>=0&&e.keyboardTool.keyDownCallbacks.splice(t,1),this.stopTimer()}},{key:"invokeMethod",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=e.program,o=e.invoke;(n=n.slice(0)).unshift({type:t.class,value:t}),null!=r?this.module.main.getInterpreter().runTimer(e,n,i,!1):null!=o&&o(n)}},{key:"stopTimer",value:function(){this.timerRunning=!1}},{key:"startTimer",value:function(){this.timerRunning||(this.timerRunning=!0,this.processTimerEntries())}},{key:"processTimerEntries",value:function(){if(this.timerRunning){if(this.remainingTime+=10,this.remainingTime>this.taktdauer){this.remainingTime-=this.taktdauer;var e=this.aktionsempfaengerMap["ausf√ºhren"],t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.invokeMethod(a.method,a.runtimeObject,[])}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}var s=this;setTimeout((function(){s.processTimerEntries()}),10)}}},{key:"handleMouseClickedEvent",value:function(e,t){var n=[{type:st,value:Math.round(e)},{type:st,value:Math.round(t)},{type:st,value:1}],i=this.aktionsempfaengerMap.geklickt,r=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this.invokeMethod(u.method,u.runtimeObject,n)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}}]),e}();function pp(e){return(pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function yp(e,t){return!t||"object"!==pp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vp(e){return(vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mp(e,t){return(mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gp=function(e){function t(e,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=yp(this,vp(t).call(this,"Zeichenfenster",e,"Grafische Zeichenfl√§che mit Koordinatensystem"))).module=e,i.setBaseClass(n.getType("Object").type);var r=e.typeStore.getType("Aktionsempfaenger");return i.addMethod(new S("Malfl√§chenBreiteGeben",new P([]),st,(function(e){return Math.round(i.getWorldHelper().width)}),!1,!0,"Gibt die Breite des Zeichenbereichs in Pixeln zur√ºck.",!1)),i.addMethod(new S("Malfl√§chenH√∂heGeben",new P([]),st,(function(e){return Math.round(i.getWorldHelper().width)}),!1,!0,"Gibt die H√∂he des Zeichenbereichs in Pixeln zur√ºck.",!1)),i.addMethod(new S("AktionsEmpf√§ngerEintragen",new P([{identifier:"neu",type:r,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(t){var n=t[1].value;dp.getHelper(e).registerEvents(n)}),!1,!0,"Tr√§gt einen neuen Aktionsempf√§nger ein.",!1)),i.addMethod(new S("AktionsEmpf√§ngerEntfernen",new P([{identifier:"alt",type:r,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(t){var n=t[1].value;dp.getHelper(e).unregisterEvents(n)}),!1,!0,"L√∂scht einen Aktionsempf√§nger aus der Liste.",!1)),i.addMethod(new S("TaktgeberStarten",new P([]),at,(function(t){dp.getHelper(e).startTimer()}),!1,!0,"Startet den Taktgeber",!1)),i.addMethod(new S("TaktgeberStoppen",new P([]),at,(function(t){dp.getHelper(e).stopTimer()}),!1,!0,"Stoppt den Taktgeber",!1)),i.addMethod(new S("TaktdauerSetzen",new P([{identifier:"dauer",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,(function(t){var n=t[1].value;dp.getHelper(e).taktdauer=n}),!1,!0,"Setzt die Taktdauer des Zeitgebers in Millisekunden",!1)),i}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mp(e,t)}(t,e),n=t,(i=[{key:"getWorldHelper",value:function(){var e,t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,a=null===(n=null===(t=null===(e=this.module)||void 0===e?void 0:e.main)||void 0===t?void 0:t.getInterpreter())||void 0===n?void 0:n.worldHelper;if(null!=a){if(a.width!=r||a.height!=o){var s=Math.round(o/r*100);a.$containerOuter.css("padding-bottom",s+"%"),a.stage.localTransform.scale(a.width/r,a.height/o),a.width=r,a.height=o,a.stage.transform.onChange(),null===(i=this.module.main.getRightDiv())||void 0===i||i.adjustWidthToWorld()}return a}var l=new M(this.module.typeStore.getType("World")),u=new ls(r,o,this.module,l);l.intrinsicData.World=u}}])&&fp(n.prototype,i),r&&fp(n,r),t}(G);function bp(e){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wp(e,t){return!t||"object"!==bp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kp(e){return(kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sp(e,t){return(Sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pp=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=wp(this,kp(t).call(this,"Rechteck",e,"Rechteck-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"))).setBaseClass(e.typeStore.getType("GNGBaseFigur")),i.addAttribute(new k("breite",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(Math.abs(t.width*t.displayObject.scale.x))}),!1,j.private,!1,"Breite des Rechtecks")),i.addAttribute(new k("h√∂he",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(Math.abs(t.height*t.displayObject.scale.x))}),!1,j.private,!1,"H√∂he des Rechtecks")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("Rechteck",new P([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new Nu(10,10,100,100,e.main.getInterpreter(),n);n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:10,y:10},n.intrinsicData.Farbe="rot",i.setFillColor(16711680)}),!1,!1,"Instanziert ein neues, achsenparalleles Rechteck-Objekt.",!0)),i.addMethod(new S("Gr√∂√üeSetzen",new P([{identifier:"breite",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"h√∂he",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("Gr√∂√üeSetzen")||(t.height=i/t.displayObject.scale.y,t.width=n/t.displayObject.scale.x,t.centerXInitial=t.left+t.width/2,t.centerYInitial=t.top+t.height/2,t.render())}),!1,!1,"Setzt die Breite und H√∂he des Rechtecks.",!1)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sp(e,t)}(t,e),t}(G),xp={"wei√ü":16777215,weiss:16777215,rot:16711680,"gr√ºn":65280,gruen:65280,blau:255,gelb:16776960,magenta:16711935,cyan:65535,hellgelb:16777088,"hellgr√ºn":8454016,hellgruen:8454016,orange:16744448,braun:8404992,grau:8421504,schwarz:0};function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mp(e,t){return!t||"object"!==Tp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cp(e){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jp(e,t){return(jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Op=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=Mp(this,Cp(t).call(this,"GNGBaseFigur",e,"Oberklasse der graphischen Elemente in der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"))).addAttribute(new k("farbe",ht,(function(e){var t=e.object.intrinsicData.Farbe;e.value=null==t?"schwarz":t}),!1,j.protected,!1,"Farbe des Grafikobjekts")),i.addAttribute(new k("x",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.getCenterX())}),!1,j.protected,!1,"x-Position des Grafikobjekts")),i.addAttribute(new k("y",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.getCenterY())}),!1,j.protected,!1,"y-Position des Grafikobjekts")),i.addAttribute(new k("winkel",st,(function(e){e.value=e.object.intrinsicData.Actor.angle}),!1,j.protected,!1,"Blickrichtung des Grafikobjekts in Grad")),i.addAttribute(new k("gr√∂√üe",st,(function(e){e.value=Math.round(100*e.object.intrinsicData.Actor.scaleFactor)}),!1,j.protected,!1,"Gr√∂√üe des Grafikobjekts (100 entspricht 'normalgro√ü')")),i.addAttribute(new k("sichtbar",ct,(function(e){var t;e.value=null===(t=e.object.intrinsicData.Actor.displayObject)||void 0===t?void 0:t.visible}),!1,j.protected,!1,"true, wenn das Grafikobjekt sichtbar ist")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("PositionSetzen",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value,r=e[2].value;if(!n.testdestroyed("PositionSetzen")){var o=t.intrinsicData.moveAnchor,a=new PIXI.Point(o.x,o.y);n.displayObject.updateTransform(),n.displayObject.transform.worldTransform.apply(a,a),n.move(i-a.x,r-a.y)}}),!1,!1,"Verschiebt das Rechteck so, dass seine linke obere Ecke bei (x,y) zu liegen kommt.",!1)),i.addMethod(new S("Verschieben",new P([{identifier:"deltaX",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"deltaY",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("Verschieben")||t.move(n,i)}),!1,!1,"Verschiebt die Figur um (x, y)",!1)),i.addMethod(new S("Drehen",new P([{identifier:"grad",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("Drehen")||t.rotate(n)}),!1,!1,"Dreht die Figur um den angegebenen Winkel. Drehpunkt ist der Diagonalenschnittpunkt der kleinsten achsenparallelen Bounding Box um die Figur.",!1)),i.addMethod(new S("FarbeSetzen",new P([{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;t.intrinsicData.Farbe=i;var r=xp[i.toLocaleLowerCase()];null==r&&(r=0),n.testdestroyed("FarbeSetzen")||(n.setFillColor(r),n.render())}),!1,!1,"Setzt die Farbe der Figur.",!1)),i.addMethod(new S("WinkelSetzen",new P([{identifier:"winkel",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("WinkelSetzen")||t.rotate(n-t.angle)}),!1,!1,"Setzt den Drehwinkel der Figur. Der Winkel wird in Grad angegebenen, positive Werte bedeuten eine Drehung gegen den Uhrzeigersinn.",!1)),i.addMethod(new S("SichtbarkeitSetzen",new P([{identifier:"sichtbarkeit",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("SichtbarkeitSetzen")||t.setVisible(n)}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),i.addMethod(new S("Entfernen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Entfernen")||t.destroy()}),!1,!1,"Zerst√∂rt das Objekt.",!1)),i.addMethod(new S("GanzNachVornBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachVornBringen"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),i.addMethod(new S("GanzNachHintenBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachHintenBringen"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),i.addMethod(new S("NachVornBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachVornBringen"))return t.bringOnePlaneFurtherToFront()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach vorne.",!1)),i.addMethod(new S("NachHintenBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachHintenBringen"))return t.bringOnePlaneFurtherToBack()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach hinten.",!1)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jp(e,t)}(t,e),t}(G);function Ep(e){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(e,t){return!t||"object"!==Ep(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dp(e){return(Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fp(e,t){return(Fp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ip=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ap(this,Dp(t).call(this,"Aktionsempfaenger",e,"GNG: Interface f√ºr die Aktionsausf√ºhrung"))).addMethod(new S("Ausf√ºhren",new P([]),at,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),n.addMethod(new S("Taste",new P([{identifier:"taste",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedr√ºckt wird.")),n.addMethod(new S("SonderTaste",new P([{identifier:"taste",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedr√ºckt wird.")),n.addMethod(new S("Geklickt",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedr√ºckt wird.")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fp(e,t)}(t,e),t}(V);function _p(e){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zp(e,t){return!t||"object"!==_p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lp(e){return(Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bp(e,t){return(Bp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rp=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=zp(this,Lp(t).call(this,"Dreieck",e,"Dreieck-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"))).setBaseClass(e.typeStore.getType("GNGBaseFigur")),i.addAttribute(new k("breite",st,(function(e){var t=e.object.intrinsicData.Breite;e.value=Math.round(t)}),!1,j.private,!1,"Breite des Dreiecks")),i.addAttribute(new k("h√∂he",st,(function(e){var t=e.object.intrinsicData["H√∂he"];e.value=Math.round(t)}),!1,j.private,!1,"H√∂he des Dreiecks")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("Dreieck",new P([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new Du([60,10,110,110,10,110],!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:60,y:10},i.centerXInitial=60,i.centerYInitial=60,n.intrinsicData.Breite=100,n.intrinsicData["H√∂he"]=100,n.intrinsicData.Farbe="rot",i.setFillColor(16711680)}),!1,!1,"Instanziert ein neues Dreieck-Objekt.",!0)),i.addMethod(new S("Gr√∂√üeSetzen",new P([{identifier:"breite",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"h√∂he",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value,r=e[2].value;t.intrinsicData.Breite=i,t.intrinsicData["H√∂he"]=r,i/=n.scaleFactor,r/=n.scaleFactor,n.testdestroyed("Gr√∂√üeSetzen")||(n.setAllPointsUntransformed([60,10,60-i/2,10+r,60+i/2,10+r]),n.centerXInitial=60,n.centerYInitial=10+r/2)}),!1,!1,"Setzt die Breite und H√∂he des Dreiecks.",!1)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bp(e,t)}(t,e),t}(G);function Wp(e){return(Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gp(e,t){return!t||"object"!==Wp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $p(e,t){return($p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vp=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=Gp(this,Np(t).call(this,"Kreis",e,"Kreis-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"))).setBaseClass(e.typeStore.getType("GNGBaseFigur")),i.addAttribute(new k("radius",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.r*t.displayObject.scale.x)}),!1,j.private,!1,"Radius des Kreises")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("Kreis",new P([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new gl(60,60,50,e.main.getInterpreter(),n);n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:60,y:60},n.intrinsicData.Farbe="rot",i.setFillColor(16711680)}),!1,!1,"Instanziert ein neues Kreis-Objekt.",!0)),i.addMethod(new S("RadiusSetzen",new P([{identifier:"radius",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("radiusSetzen")||t.setRadius(n)}),!1,!1,"Setzt den Radius des Kreis-Objekts.",!1)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$p(e,t)}(t,e),t}(G);function Hp(e){return(Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kp(e,t){return!t||"object"!==Hp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qp(e){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Up(e,t){return(Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zp=function(e){function t(e,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.getType("Object").type;return(i=Kp(this,Qp(t).call(this,"GTurtle",e,"Turtle-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"))).addAttribute(new k("x",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.lineElements[t.lineElements.length-1].x)}),!1,j.private,!1,"x-Position der Figur")),i.addAttribute(new k("y",st,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.lineElements[t.lineElements.length-1].y)}),!1,j.private,!1,"x-Position der Figur")),i.addAttribute(new k("winkel",st,(function(e){e.value=e.object.intrinsicData.Actor.turtleAngleDeg}),!1,j.private,!1,"Blickrichtung der Figur in Grad")),i.addAttribute(new k("gr√∂√üe",st,(function(e){e.value=Math.round(100*e.object.intrinsicData.Actor.scaleFactor)}),!1,j.private,!1,"Gr√∂√üe der Figur (100 entspricht 'normalgro√ü')")),i.addAttribute(new k("sichtbar",ct,(function(e){var t;e.value=null===(t=e.object.intrinsicData.Actor.displayObject)||void 0===t?void 0:t.visible}),!1,j.private,!1,"true, wenn die Figur sichtbar ist")),i.addAttribute(new k("stiftUnten",ct,(function(e){e.value=e.object.intrinsicData.Actor.penIsDown}),!1,j.private,!1,"true, wenn die Turtle beim Gehen zeichnet")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("GTurtle",new P([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new ip(100,200,!0,e.main.getInterpreter(),n);i.borderWidth=1,i.setShowTurtle(!0),i.setBorderColor(0),n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:10,y:10},dp.getHelper(e).registerEvents(n)}),!1,!1,"Instanziert ein neues Turtle-Objekt.",!0)),i.addMethod(new S("Gr√∂√üeSetzen",new P([{identifier:"gr√∂√üe",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("gr√∂√üeSetzen")||(t.turtleSize=n,t.turn(0))}),!1,!1,"Setzt die Gr√∂√üe des Turtle-Dreiecks.",!1)),i.addMethod(new S("FarbeSetzen",new P([{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=xp[n.toLocaleLowerCase()];null==i&&(i=0),t.testdestroyed("FarbeSetzen")||(t.setBorderColor(i),t.render())}),!1,!1,"Setzt die Zeichenfarbe der Turtle.",!1)),i.addMethod(new S("Drehen",new P([{identifier:"grad",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("Drehen")||t.turn(n)}),!1,!1,"Dreht die Turtle um den angegebenen Winkel. Positiver Winkel bedeutet Drehung gegen den Uhrzeigersinn.",!1)),i.addMethod(new S("Gehen",new P([{identifier:"l√§nge",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("Gehen")||t.forward(n)}),!1,!1,"Bewirkt, dass die Turtle um die angegebene L√§nge nach vorw√§rts geht.",!1)),i.addMethod(new S("StiftHeben",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("StiftHeben")||(t.penIsDown=!1)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt nicht mehr zeichnet.",!1)),i.addMethod(new S("StiftSenken",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("StiftSenken")||(t.penIsDown=!0)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt wieder zeichnet.",!1)),i.addMethod(new S("L√∂schen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("L√∂schen")||t.clear()}),!1,!1,"L√∂scht alles von der Turtle gezeichnete und versetzt die Turtle in den Ausgangszustand.",!1)),i.addMethod(new S("PositionSetzen",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("PositionSetzen")||t.moveTo(n,i)}),!1,!1,"Verschiebt die Turtle an die Position (x, y) ohne eine neue Linie zu zeichnen.",!1)),i.addMethod(new S("ZumStartpunktGehen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("ZumStartpunktGehen")||t.moveTo(100,200)}),!1,!1,"Verschiebt die Turtle an die Position (100, 200) ohne eine neue Linie zu zeichnen.",!1)),i.addMethod(new S("WinkelSetzen",new P([{identifier:"winkel",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("WinkelSetzen")||t.turn(n+t.turtleAngleDeg)}),!1,!1,"Setzt den Blickwinkel der Turtle. 0¬∞ => nach rechts, 90¬∞: => nach oben, usw..",!1)),i.addMethod(new S("WinkelGeben",new P([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("WinkelGeben"))return Math.round(-t.turtleAngleDeg)}),!1,!1,"Gibt den Blickwinkel der Turtle zur√ºck.",!1)),i.addMethod(new S("XPositionGeben",new P([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("XPositionGeben"))return Math.round(t.lineElements[t.lineElements.length-1].x)}),!1,!1,"Gibt x-Position der Turtle zur√ºck.",!1)),i.addMethod(new S("YPositionGeben",new P([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("YPositionGeben"))return Math.round(t.lineElements[t.lineElements.length-1].y)}),!1,!1,"Gibt y-Position der Turtle zur√ºck.",!1)),i.addMethod(new S("SichtbarkeitSetzen",new P([{identifier:"sichtbarkeit",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("SichtbarkeitSetzen")||t.setVisible(n)}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),i.addMethod(new S("Entfernen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Entfernen")||t.destroy()}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),i.addMethod(new S("GanzNachVornBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachVornBringen"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),i.addMethod(new S("GanzNachHintenBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachHintenBringen"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),i.addMethod(new S("NachVornBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachVornBringen"))return t.bringOnePlaneFurtherToFront()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach vorne.",!1)),i.addMethod(new S("NachHintenBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachHintenBringen"))return t.bringOnePlaneFurtherToBack()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach hinten.",!1)),i.addMethod(new S("Ber√ºhrt",new P([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("Ber√ºhrt"))return t.touchesAtLeastOneFigure()}),!1,!1,"Gibt genau dann true zur√ºck, wenn sich an der aktuellen Position der Turtle mindestens eine andere Figur befindet.",!1)),i.addMethod(new S("Ber√ºhrt",new P([{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("Ber√ºhrt")){var r=xp[n];return null==r&&(r=0),i.touchesColor(r)}}),!1,!1,"Gibt genau dann true zur√ºck, wenn sich an der aktuellen Position der Turtle mindestens eine andere Figur mit der angegebenen Farbe befindet.",!1)),i.addMethod(new S("Ber√ºhrt",new P([{identifier:"objekt",type:r,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor,r=n.intrinsicData.Actor;return null!=r&&r instanceof Rs&&(i.testdestroyed("Ber√ºhrt")?void 0:i.touchesShape(r))}),!1,!1,"Gibt genau dann true zur√ºck, wenn die √ºbergebene Figur die aktuelle Turtleposition enth√§lt.",!1)),i.addMethod(new S("AktionAusf√ºhren",new P([]),at,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),i.addMethod(new S("TasteGedr√ºckt",new P([{identifier:"taste",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedr√ºckt wird.")),i.addMethod(new S("SonderTasteGedr√ºckt",new P([{identifier:"taste",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedr√ºckt wird.")),i.addMethod(new S("MausGeklickt",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedr√ºckt wird.")),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Up(e,t)}(t,e),t}(G);function Xp(e){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qp(e,t){return!t||"object"!==Xp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yp(e){return(Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jp(e,t){return(Jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ef=function(e){function t(e,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=qp(this,Yp(t).call(this,"GText",e,"Text-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"))).setBaseClass(e.typeStore.getType("GNGBaseFigur")),i.addAttribute(new k("text",ht,(function(e){var t=e.object.intrinsicData.Actor.text;e.value=t}),!1,j.private,!1,"Angezeigter Text")),i.addAttribute(new k("textgr√∂√üe",st,(function(e){var t=e.object.intrinsicData.Actor.fontsize;e.value=Math.round(t)}),!1,j.private,!1,"Textgr√∂√üe")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("Text",new P([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new $c(2,-8,12,"Text",e.main.getInterpreter(),n);n.intrinsicData.moveAnchor={x:6,y:16},i.setFillColor(0),n.intrinsicData.Actor=i}),!1,!1,"Instanziert ein neues Text-Objekt.",!0)),i.addMethod(new S("TextSetzen",new P([{identifier:"text",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("TextSetzen")||t.setText(n)}),!1,!1,"√Ñndert den Text des Text-Objekts.",!1)),i.addMethod(new S("TextGr√∂√üeSetzen",new P([{identifier:"textGr√∂√üe",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("TextGr√∂√üeSetzen")||t.setFontsize(n)}),!1,!1,"Setzt die Schriftgr√∂√üe des Text-Objekts.",!1)),i.addMethod(new S("TextVergr√∂√üern",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("TextVergr√∂√üern")){var n=t.fontsize;n+=n<=10?1:n<=40?2:4,t.setFontsize(n)}}),!1,!1,"Vergr√∂√üert die Schriftgr√∂√üe des Text-Objekts.",!1)),i.addMethod(new S("TextVerkleinern",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("TextVerkleinern")){var n=t.fontsize;(n-=n<=10?1:n<=40?2:4)<1&&(n=1),t.setFontsize(n)}}),!1,!1,"Verkleinert die Schriftgr√∂√üe des Text-Objekts.",!1)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jp(e,t)}(t,e),t}(G);function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t,n){return(nf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lf(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function of(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function af(e,t,n){return t&&of(e.prototype,t),n&&of(e,n),e}function sf(e,t){return!t||"object"!==tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var df=function(e){function t(e,n){var i;rf(this,t);var r=n.getType("Object").type;i=sf(this,lf(t).call(this,"Figur",e,"Figur-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)"));var o=n.getType("Polygon").type,a=n.getType("Circle").type,s=n.getType("Ellipse").type,l=n.getType("Rectangle").type;return i.addAttribute(new k("x",st,(function(e){e.value=Math.round(e.object.intrinsicData.Center.x)}),!1,j.private,!1,"x-Position der Figur")),i.addAttribute(new k("y",st,(function(e){e.value=Math.round(e.object.intrinsicData.Center.y)}),!1,j.private,!1,"y-Position der Figur")),i.addAttribute(new k("winkel",st,(function(e){e.value=e.object.intrinsicData.Actor.angle}),!1,j.private,!1,"Blickrichtung der Figur in Grad")),i.addAttribute(new k("gr√∂√üe",st,(function(e){e.value=Math.round(100*e.object.intrinsicData.Actor.scaleFactor)}),!1,j.private,!1,"Gr√∂√üe der Figur (100 entspricht 'normalgro√ü')")),i.addAttribute(new k("sichtbar",ct,(function(e){var t;e.value=null===(t=e.object.intrinsicData.Actor.displayObject)||void 0===t?void 0:t.visible}),!1,j.private,!1,"true, wenn die Figur sichtbar ist")),i.setupAttributeIndicesRecursive(),i.addMethod(new S("Figur",new P([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var r=e.main.getInterpreter(),s=dp.getHelper(e),l=new hf(r,n,s);n.intrinsicData.Actor=l;var u={x:100,y:200};n.intrinsicData.Center=u,i.drawInitialTriangle(l,o,a,r,u),n.intrinsicData.isInitialTriangle=!0,l.scale(.4,u.x,u.y),l.displayObject.updateTransform(),s.registerEvents(n)}),!1,!1,"Instanziert ein neues Figur-Objekt.",!0)),i.addMethod(new S("Gr√∂√üeSetzen",new P([{identifier:"gr√∂√üe",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;if(!n.testdestroyed("Gr√∂√üeSetzen")){var r=t.intrinsicData.Center,o=i/100;n.scale(o/n.scaleFactor,r.x,r.y),n.displayObject.updateTransform()}}),!1,!1,"Setzt die Gr√∂√üe der Figur.",!1)),i.addMethod(new S("Drehen",new P([{identifier:"grad",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;if(!n.testdestroyed("Drehen")){var r=t.intrinsicData.Center;n.rotate(i,r.x,r.y),n.displayObject.updateTransform()}}),!1,!1,"Dreht die Figur um den angegebenen Winkel. Positiver Winkel bedeutet Drehung gegen den Uhrzeigersinn.",!1)),i.addMethod(new S("Gehen",new P([{identifier:"l√§nge",type:ut,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;if(!n.testdestroyed("Gehen")){var r=t.intrinsicData.Center,o=n.angle/180*Math.PI,a=i*Math.cos(o),s=i*Math.sin(-o);r.x+=a,r.y+=s,n.move(a,s),n.displayObject.updateTransform()}}),!1,!1,"Bewirkt, dass die Figur um die angegebene L√§nge 'nach vorne' geht.",!1)),i.addMethod(new S("PositionSetzen",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value,r=e[2].value;if(!n.testdestroyed("PositionSetzen")){var o=t.intrinsicData.Center;n.move(i-o.x,r-o.y),n.displayObject.updateTransform(),o.x=i,o.y=r}}),!1,!1,"Verschiebt die Figur an die Position (x, y).",!1)),i.addMethod(new S("ZumStartpunktGehen",new P([]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("ZumStartpunktGehen")){var i=t.intrinsicData.Center;n.move(100-i.x,200-i.y),n.displayObject.updateTransform(),i.x=100,i.y=200}}),!1,!1,"Verschiebt die Figur an die Position (100, 200) ohne eine neue Linie zu zeichnen.",!1)),i.addMethod(new S("WinkelSetzen",new P([{identifier:"winkel",type:st,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("WinkelSetzen")||(t.rotate(n-t.angle),t.displayObject.updateTransform())}),!1,!1,"Setzt den Blickwinkel der Figur. 0¬∞ => nach rechts (initial), 90¬∞: => nach oben, usw..",!1)),i.addMethod(new S("WinkelGeben",new P([]),st,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("WinkelGeben"))return t.angle<0&&(t.angle+=360*Math.ceil(t.angle/-360)),t.angle>=360&&(t.angle-=360*Math.floor(t.angle/360)),Math.round(t.angle)}),!1,!1,"Gibt den Blickwinkel der Turtle zur√ºck.",!1)),i.addMethod(new S("XPositionGeben",new P([]),st,(function(e){var t=e[0].value;if(!t.intrinsicData.Actor.testdestroyed("XPositionGeben"))return t.intrinsicData.Center.x}),!1,!1,"Gibt x-Position der Turtle zur√ºck.",!1)),i.addMethod(new S("YPositionGeben",new P([]),st,(function(e){var t=e[0].value;if(!t.intrinsicData.Actor.testdestroyed("YPositionGeben"))return t.intrinsicData.Center.y}),!1,!1,"Gibt y-Position der Turtle zur√ºck.",!1)),i.addMethod(new S("SichtbarkeitSetzen",new P([{identifier:"sichtbarkeit",type:ct,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("SichtbarkeitSetzen")||t.setVisible(n)}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),i.addMethod(new S("Entfernen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Entfernen")||t.destroy()}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),i.addMethod(new S("GanzNachVornBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachVornBringen"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),i.addMethod(new S("GanzNachHintenBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachHintenBringen"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),i.addMethod(new S("NachVornBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachVornBringen"))return t.bringOnePlaneFurtherToFront()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach vorne.",!1)),i.addMethod(new S("NachHintenBringen",new P([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachHintenBringen"))return t.bringOnePlaneFurtherToBack()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach hinten.",!1)),i.addMethod(new S("EigeneFigurL√∂schen",new P([]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("EigeneFigurL√∂schen")){n.destroyChildren();var r=t.intrinsicData.Center;i.drawInitialTriangle(n,o,a,i.module.main.getInterpreter(),r),t.intrinsicData.isInitialTriangle=!0}}),!1,!1,"L√∂scht die hinzugef√ºgten Figuren",!1)),i.addMethod(new S("Ber√ºhrt",new P([]),ct,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("Ber√ºhrt")){var n=!0,i=!1,r=void 0;try{for(var o,a=t.worldHelper.shapes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s!=t&&t.collidesWith(s))return!0}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!1}}),!1,!1,"Gibt genau dann true zur√ºck, wenn die Figur mit einem graphischen Objekt kollidiert.",!1)),i.addMethod(new S("Ber√ºhrt",new P([{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("Ber√ºhrt")){var r=xp[n];null==r&&(r=0);var o=!0,a=!1,s=void 0;try{for(var l,u=i.worldHelper.shapes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c!=i)if(c instanceof hf){var d=!0,h=!1,p=void 0;try{for(var f,y=c.shapes[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value.intrinsicData.Actor;if(v instanceof sl&&r==v.fillColor&&i.collidesWith(v))return!0}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}else if(c instanceof sl&&r==c.fillColor&&i.collidesWith(c))return!0}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return!1}}),!1,!1,"Gibt genau dann true zur√ºck, wenn die Figur mit einem graphischen Objekt der angegebenen Farbe kollidiert.",!1)),i.addMethod(new S("Ber√ºhrt",new P([{identifier:"objekt",type:r,declaration:null,usagePositions:null,isFinal:!0}]),ct,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor,r=n.intrinsicData.Actor;return null!=r&&r instanceof Rs&&(i.testdestroyed("Ber√ºhrt")?void 0:i.collidesWith(r))}),!1,!1,"Gibt genau dann true zur√ºck, wenn die Figur mit dem √ºbergebenen graphischen Objekt kollidiert.",!1)),i.addMethod(new S("FigurteilFestlegenDreieck",new P([{identifier:"x1",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x3",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y3",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value,a=e[3].value,s=e[4].value,l=e[5].value,u=e[6].value,c=e[7].value,d=t.intrinsicData.Actor;if(!d.testdestroyed("FigurteilFestlegenDreieck")){t.intrinsicData.isInitialTriangle&&(t.intrinsicData.isInitialTriangle=!1,d.destroyChildren());var h=xp[c];null==h&&(h=0);var p=new M(o),f=new Du([n,r,a,s,l,u],!0,i.module.main.getInterpreter(),p);p.intrinsicData.Actor=f;var y=t.intrinsicData.Center;f.rotate(d.angle,0,0),f.scale(d.scaleFactor,0,0),f.move(y.x,y.y),f.setFillColor(h),f.setBorderColor("black"),f.setBorderWidth(2),d.add(p)}}),!1,!1,"Erzeugt ein neues, dreieckiges Element einer eigenen Darstellung der Figur.",!1)),i.addMethod(new S("FigurteilFestlegenRechteck",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"breite",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"h√∂he",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value,o=e[3].value,a=e[4].value,s=e[5].value,u=t.intrinsicData.Actor;if(!u.testdestroyed("FigurteilFestlegenRechteck")){t.intrinsicData.isInitialTriangle&&(t.intrinsicData.isInitialTriangle=!1,u.destroyChildren());var c=xp[s];null==c&&(c=0);var d=new M(l),h=new Nu(n+.05,r+.05,o-.1,a-.1,i.module.main.getInterpreter(),d);d.intrinsicData.Actor=h;var p=t.intrinsicData.Center;h.rotate(u.angle,0,0),h.scale(u.scaleFactor,0,0),h.move(p.x,p.y),h.setFillColor(c),h.setBorderColor("black"),h.setBorderWidth(2),u.add(d)}}),!1,!1,"Erzeugt ein neues, rechteckiges Element einer eigenen Darstellung der Figur.",!1)),i.addMethod(new S("FigurteilFestlegenEllipse",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"breite",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"h√∂he",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value,o=e[3].value,a=e[4].value,l=e[5].value,u=t.intrinsicData.Actor;if(!u.testdestroyed("FigurteilFestlegenEllipse")){t.intrinsicData.isInitialTriangle&&(t.intrinsicData.isInitialTriangle=!1,u.destroyChildren());var c=xp[l];null==c&&(c=0),a-=.1,o-=.1;var d=new M(s),h=new iu(n+o/2+.05,r+a/2+.05,o/2,a/2,i.module.main.getInterpreter(),d);d.intrinsicData.Actor=h;var p=t.intrinsicData.Center;h.rotate(u.angle,0,0),h.scale(u.scaleFactor,0,0),h.move(p.x,p.y),h.setFillColor(c),h.setBorderColor("black"),h.setBorderWidth(2),u.add(d)}}),!1,!1,"Erzeugt ein neues, elliptisches Element einer eigenen Darstellung der Figur.",!1)),i.addMethod(new S("AktionAusf√ºhren",new P([]),at,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),i.addMethod(new S("TasteGedr√ºckt",new P([{identifier:"taste",type:pt,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedr√ºckt wird.")),i.addMethod(new S("SonderTasteGedr√ºckt",new P([{identifier:"taste",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedr√ºckt wird.")),i.addMethod(new S("MausGecklickt",new P([{identifier:"x",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:st,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:st,declaration:null,usagePositions:null,isFinal:!0}]),at,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedr√ºckt wird.")),i}return uf(t,e),af(t,[{key:"drawInitialTriangle",value:function(e,t,n,i,r){var o=new M(t),a=new Du([-50,-50,50,0,-50,50],!0,i,o);o.intrinsicData.Actor=a,a.move(r.x,r.y),a.setFillColor("yellow"),a.setBorderColor("black"),a.setBorderWidth(2),e.add(o);var s=new M(n),l=new gl(0,0,10,i,s);s.intrinsicData.Actor=l,l.move(r.x,r.y),l.setFillColor("blue"),l.setBorderColor("black"),l.setBorderWidth(2),e.add(s)}}]),t}(G),hf=function(e){function t(e,n,i){var r;return rf(this,t),(r=sf(this,lf(t).call(this,e,n))).gngEreignisbehandlungsHelper=i,r}return uf(t,e),af(t,[{key:"destroy",value:function(){this.gngEreignisbehandlungsHelper.unregisterEvents(this.runtimeObject),nf(lf(t.prototype),"destroy",this).call(this)}}]),t}(yu);function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ff(e,t){return!t||"object"!==pf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yf(e){return(yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vf(e,t){return(vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mf=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ff(this,yf(t).call(this,"Random",e,"Zufallszahlengenerator"))).setBaseClass(e.typeStore.getType("Object")),n.setupAttributeIndicesRecursive(),n.addMethod(new S("nextInt",new P([{identifier:"bound",type:st,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),st,(function(e){e[0].value;var t=e[1].value;return Math.floor(Math.random()*t)}),!1,!1,"Gibt eine ganzzahlige Zufallszahl aus der Menge {0, 1, ..., bound - 1} zur√ºck.",!1)),n.addMethod(new S("randint",new P([{identifier:"from",type:st,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"to",type:st,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),st,(function(e){var t=e[1].value,n=e[2].value;return Math.floor(Math.random()*(n-t+1)+t)}),!1,!0,"Gibt eine ganzzahlige Zufallszahl aus der Menge {from, from + 1, ..., to} zur√ºck.",!1)),n.addMethod(new S("randdouble",new P([{identifier:"from",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"to",type:ut,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),ut,(function(e){var t=e[1].value,n=e[2].value;return Math.random()*(n-t)+t}),!1,!0,"Gibt eine Zufallszahl aus dem Intervall [from, to[ zur√ºck.",!1)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vf(e,t)}(t,e),t}(G);function gf(e){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bf(e,t){return!t||"object"!==gf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wf(e){return(wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kf(e,t){return(kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sf=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=bf(this,wf(t).call(this,"Direction",e,[{type:r.pushEnumValue,position:null,identifier:"top"},{type:r.pushEnumValue,position:null,identifier:"right"},{type:r.pushEnumValue,position:null,identifier:"bottom"},{type:r.pushEnumValue,position:null,identifier:"left"}]))).documentation="Richtung (oben, rechts, unten, links)",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kf(e,t)}(t,e),t}(Ht);function Pf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"patch",value:function(t){var n=!1,i=!0,r=!1,o=void 0;try{for(var a,s=e.patches[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;null!=t.match(l.old)&&(t=t.replace(l.old,l.new),n=!0)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return{patchedText:t,modified:n}}}],(n=null)&&Pf(t.prototype,n),i&&Pf(t,i),e}();function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mf(e,t){return!t||"object"!==Tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cf(e){return(Cf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jf(e,t){return(jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}xf.patches=[{old:/SpriteLibrary.Ship_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 0"},{old:/SpriteLibrary.Ship_Adrian,\s*1/g,new:"SpriteLibrary.Space_Shooter_1, 1"},{old:/SpriteLibrary.Ship_Adrian,\s*2/g,new:"SpriteLibrary.Space_Shooter_1, 2"},{old:/SpriteLibrary.Ship_Adrian,\s*3/g,new:"SpriteLibrary.Space_Shooter_1, 3"},{old:/SpriteLibrary.Ship_Adrian,\s*4/g,new:"SpriteLibrary.Space_Shooter_1, 4"},{old:/SpriteLibrary.Schuss_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 5"},{old:/SpriteLibrary.Schuss_Adrian,\s*1/g,new:"SpriteLibrary.Space_Shooter_1, 6"},{old:/SpriteLibrary.Schuss_Adrian,\s*2/g,new:"SpriteLibrary.Space_Shooter_1, 7"},{old:/SpriteLibrary.Schuss_Adrian,\s*3/g,new:"SpriteLibrary.Space_Shooter_1, 8"},{old:/SpriteLibrary.Schuss_Adrian,\s*4/g,new:"SpriteLibrary.Space_Shooter_1, 9"},{old:/SpriteLibrary.Asteroid_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 10"},{old:/SpriteLibrary.Gegner_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 11"},{old:/SpriteLibrary.Explosion_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 12"},{old:/SpriteLibrary.Explosion_Adrian,\s*1/g,new:"SpriteLibrary.Space_Shooter_1, 13"},{old:/SpriteLibrary.Explosion_Adrian,\s*2/g,new:"SpriteLibrary.Space_Shooter_1, 14"},{old:/SpriteLibrary.Explosion_Adrian,\s*3/g,new:"SpriteLibrary.Space_Shooter_1, 15"},{old:/SpriteLibrary.Explosion_Adrian,\s*4/g,new:"SpriteLibrary.Space_Shooter_1, 16"},{old:/SpriteLibrary.Explosion_Adrian,\s*5/g,new:"SpriteLibrary.Space_Shooter_1, 17"},{old:/SpriteLibrary.Explosion_Adrian,\s*6/g,new:"SpriteLibrary.Space_Shooter_1, 18"},{old:/SpriteLibrary.Explosion_Adrian,\s*7/g,new:"SpriteLibrary.Space_Shooter_1, 19"},{old:/SpriteLibrary.Explosion_Adrian,\s*8/g,new:"SpriteLibrary.Space_Shooter_1, 20"},{old:/SpriteLibrary.Explosion_Adrian,\s*9/g,new:"SpriteLibrary.Space_Shooter_1, 21"},{old:/SpriteLibrary.Explosion_Adrian,\s*10/g,new:"SpriteLibrary.Space_Shooter_1, 22"},{old:/SpriteLibrary.Explosion_Adrian,\s*11/g,new:"SpriteLibrary.Space_Shooter_1, 23"}];var Of=function(e){function t(e,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=Mf(this,Cf(t).call(this,"KeyEvent",e,"Nachbildung von java.awt.event.KeyEvent"))).setBaseClass(n.getType("Object").type);for(var r=[{name:"VK_ENTER",code:13},{name:"VK_LEFT",code:37},{name:"VK_UP",code:38},{name:"VK_RIGHT",code:39},{name:"VK_DOWN",code:40},{name:"VK_PAGE_UP",code:33},{name:"VK_PAGE_DOWN",code:34},{name:"VK_INSERT",code:155}],o=1;o<=12;o++)r.push({name:"VK"+o,code:111+o});for(var a=function(){var e=l[s];i.addAttribute(new k(e.name,st,(function(t){t.value=e.code}),!0,j.public,!0,"KeyCode f√ºr die Taste "+e.name))},s=0,l=r;s<l.length;s++)a();return i.setupAttributeIndicesRecursive(),i.staticClass.setupAttributeIndicesRecursive(),i.staticClass.classObject=new M(i.staticClass),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jf(e,t)}(t,e),t}(G);function Ef(e){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Af(e,t){return!t||"object"!==Ef(t)&&"function"!=typeof t?Ff(e):t}function Df(e){return(Df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ff(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function If(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_f(e,t)}function _f(e,t){return(_f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bf(e,t,n){return t&&Lf(e.prototype,t),n&&Lf(e,n),e}var Rf=function(){function e(t,n){if(zf(this,e),this.main=n,this.oldErrorDecorations=[],this.isSystemModule=!1,this.breakpoints=[],this.breakpointDecorators=[],this.decoratorIdToBreakpointMap={},this.errors=[[],[],[],[]],this.colorInformation=[],this.identifierPositions={},this.methodCallPositions={},null!=t&&null!=this.main){this.file=t;var i=t.name,r=e.uriMap[i];null==r?r=0:r++,e.uriMap[i]=r,r>0&&(i+=" ("+r+")"),this.uri=monaco.Uri.from({path:i,scheme:"inmemory"}),this.model=monaco.editor.createModel(t.text,"myJava",this.uri),this.model.updateOptions({tabSize:3,bracketColorizationOptions:{enabled:!0}}),this.lastSavedVersionId=this.model.getAlternativeVersionId();var o=this;this.model.onDidChangeContent((function(){var e=o.model.getAlternativeVersionId();if(e!=o.lastSavedVersionId&&(o.file.dirty=!0,o.file.saved=!1,o.file.identical_to_repository_version=!1,o.lastSavedVersionId=e),!o.main.isEmbedded()){var t=n;t.workspacesOwnerId!=t.user.id?(null==o.file.text_before_revision||o.file.student_edited_after_revision)&&(o.file.student_edited_after_revision=!1,o.file.text_before_revision=o.file.text,o.file.saved=!1,t.networkManager.sendUpdates(null,!1),t.bottomDiv.homeworkManager.showHomeWorkRevisionButton(),t.projectExplorer.renderHomeworkButton(o.file)):o.file.student_edited_after_revision=!0}}))}}return Bf(e,[{key:"toExportedModule",value:function(){return{name:this.file.name,text:this.getProgramTextFromMonacoModel(),identical_to_repository_version:this.file.identical_to_repository_version,is_copy_of_id:this.file.is_copy_of_id,repository_file_version:this.file.repository_file_version}}},{key:"getMethodDeclarationAtPosition",value:function(e){if(null==this.classDefinitionsAST)return null;var t=!0,n=!1,i=void 0;try{for(var o,a=this.classDefinitionsAST[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.type==r.keywordClass||s.type==r.keywordEnum){var l=!0,u=!1,c=void 0;try{for(var d,h=s.methods[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;if(null!=p.position&&null!=p.scopeTo&&p.position.line<=e.lineNumber&&p.scopeTo.line>=e.lineNumber)return p}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}}}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return null}},{key:"getFileData",value:function(e){var t=this.file;return{id:t.id,name:t.name,text:t.text,text_before_revision:t.text_before_revision,submitted_date:t.submitted_date,student_edited_after_revision:t.student_edited_after_revision,version:t.version,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:t.identical_to_repository_version,workspace_id:e.id,forceUpdate:!1,file_type:0}}},{key:"pushMethodCallPosition",value:function(e,t,n,i){var r=[];r.push(e.line);var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.indexOf[c.line]<0&&r.push(c.line)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}for(var d={identifierPosition:e,commaPositions:t,possibleMethods:n,rightBracketPosition:i},h=0,p=r;h<p.length;h++){var f=p[h],y=this.methodCallPositions[f];null==y&&(this.methodCallPositions[f]=[],y=this.methodCallPositions[f]),y.push(d)}}},{key:"toggleBreakpoint",value:function(e,t){this.getBreakpointPositionsFromEditor(),null==this.getBreakpoint(e,!0)&&this.setBreakpoint(e,1),t&&this.renderBreakpointDecorators()}},{key:"getBreakpoint",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t=0;t<this.breakpoints.length;t++){var n=this.breakpoints[t];if(n.line==e)return this.breakpoints.splice(t,1),null!=n.statement&&(n.statement.breakpoint=void 0),n}return null}},{key:"setBreakpoint",value:function(e,t){var n={line:e,column:t,statement:null};return this.attachToStatement(n),this.breakpoints.push(n),n}},{key:"attachToStatement",value:function(e,t){var n;null!=e.statement&&(e.statement.breakpoint=void 0),null==t&&(t=this.getPrograms());var i=null,r=1e5,o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=!0,h=!1,p=void 0;try{for(var f,y=c.statements[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var v=f.value,m=null===(n=null==v?void 0:v.position)||void 0===n?void 0:n.line;if(null!=m&&m>=e.line){m-e.line<r&&(i=v,r=m-e.line);break}}}catch(e){h=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw p}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}e.statement=i,null!=i&&(i.breakpoint=e)}},{key:"getPrograms",value:function(){var e=[];if(null!=this.mainProgram&&e.push(this.mainProgram),null!=this.typeStore){var t=!0,n=!1,i=void 0;try{for(var r,o=this.typeStore.typeList[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a instanceof G){null!=a.attributeInitializationProgram&&e.push(a.attributeInitializationProgram);var s=!0,l=!1,u=void 0;try{for(var c,d=a.methods[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null!=h.program&&e.push(h.program)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}null!=a.staticClass.attributeInitializationProgram&&e.push(a.staticClass.attributeInitializationProgram);var p=!0,f=!1,y=void 0;try{for(var v,m=a.staticClass.methods[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;null!=g.program&&e.push(g.program)}}catch(e){f=!0,y=e}finally{try{p||null==m.return||m.return()}finally{if(f)throw y}}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}return e}},{key:"renderBreakpointDecorators",value:function(){this.getBreakpointPositionsFromEditor();var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.breakpoints[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push({range:{startLineNumber:a.line,endLineNumber:a.line,startColumn:1,endColumn:1},options:{isWholeLine:!0,className:"jo_decorate_breakpoint",overviewRuler:{color:"#580000",position:monaco.editor.OverviewRulerLane.Left},minimap:{color:"#580000",position:monaco.editor.MinimapPosition.Inline},marginClassName:"jo_margin_breakpoint",stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},breakpoint:a})}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.breakpointDecorators=this.main.getMonacoEditor().deltaDecorations(this.breakpointDecorators,e),this.decoratorIdToBreakpointMap={};for(var s=0;s<this.breakpointDecorators.length;s++)this.decoratorIdToBreakpointMap[this.breakpointDecorators[s]]=this.breakpoints[s]}},{key:"getBreakpointPositionsFromEditor",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.main.getMonacoEditor().getModel().getAllDecorations()[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if("margin_breakpoint"==o.options.marginClassName){var a=this.decoratorIdToBreakpointMap[o.id];null!=a&&(a.line=o.range.startLineNumber)}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"findSymbolTableAtPosition",value:function(e,t){return null==this.mainSymbolTable?null:((e>this.mainSymbolTable.positionTo.line||e==this.mainSymbolTable.positionTo.line&&t>this.mainSymbolTable.positionTo.column)&&(e=this.mainSymbolTable.positionTo.line,t=this.mainSymbolTable.positionTo.column-1),this.mainSymbolTable.findTableAtPosition(e,t))}},{key:"getErrorCount",value:function(){var e=0,t=!0,n=!1,i=void 0;try{for(var r,o=this.errors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.forEach((function(t){return e+="error"==t.level?1:0}))}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"hasMainProgram",value:function(){return null!=this.mainProgram&&(null!=this.mainProgram.statements&&(this.mainProgram.statements.length>2||2==this.mainProgram.statements.length&&this.mainProgram.statements[0].type==r.callMainMethod))}},{key:"getProgramTextFromMonacoModel",value:function(){return this.model.getValue(monaco.editor.EndOfLinePreference.LF,!1)}},{key:"addIdentifierPosition",value:function(e,t){var n=this.identifierPositions[e.line];null==n&&(n=[],this.identifierPositions[e.line]=n),n.push({position:e,element:t})}},{key:"getTypeAtPosition",value:function(e,t){var n=this.identifierPositions[e];if(null==n)return null;var i=null,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(t>=u.position.column&&t<=u.position.column+u.position.length){var c=(i=u).element;if(c instanceof S)return{type:c,isStatic:!1};var d=c instanceof b?c:c.type;return i.position.length>0&&null!=c.type?{type:d,isStatic:!1}:{type:d,isStatic:i.position.length>0}}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return null}},{key:"getElementAtPosition",value:function(e,t){var n=this.identifierPositions[e];if(null==n)return null;var i=null,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;t>=u.position.column&&t<=u.position.column+u.position.length&&u.position.length>0&&(null==i||u.element instanceof S&&i.element instanceof G)&&(i=u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return null==i?null:i.element}},{key:"copy",value:function(){var t=new e(this.file,this.main);t.model=this.model,t.mainProgram=this.mainProgram,this.mainProgram=null,t.mainSymbolTable=this.mainSymbolTable,this.mainSymbolTable=null,t.typeStore=this.typeStore,t.isStartable=this.isStartable,t.dependsOnModulesWithErrors=this.dependsOnModulesWithErrors,t.breakpoints=this.breakpoints,this.breakpoints=[];var n=t.getPrograms();n.forEach((function(e){return e.module=t}));var i=!0,r=!1,o=void 0;try{for(var a,s=t.breakpoints[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this.breakpoints.push({line:l.line,column:l.column,statement:null}),t.attachToStatement(l,n)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return this.file.dirty=!0,t}},{key:"clear",value:function(){this.identifierPositions={},null!=this.file&&this.file.dirty&&(this.tokenList=null,this.errors[0]=[],this.errors[1]=[]),this.errors[2]=[],this.typeNodes=[],this.typeStore=new $f,this.errors[3]=[],this.mainSymbolTable=new It(null,{line:1,column:1,length:1},{line:1e5,column:1,length:0}),this.mainProgram=null,this.methodCallPositions={},this.dependsOnModules=new Map}},{key:"hasErrors",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.errors[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.find((function(e){return"error"==e.level})))return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1}},{key:"getSortedAndFilteredErrors",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.errors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e=e.concat(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}e.sort((function(e,t){return e.position.line>t.position.line?1:t.position.line>e.position.line?-1:e.position.column>=t.position.column?1:-1}));for(var s=0;s<e.length-1;s++){var l=e[s],u=e[s+1];l.position.line==u.position.line&&l.position.column+10>u.position.column&&(1==this.errorLevelCompare(l.level,u.level)?e.splice(s+1,1):e.splice(s,1),s--)}return e}},{key:"errorLevelCompare",value:function(e,t){return"error"==e?1:"error"==t?2:"warning"==e?1:"warning"==t?2:1}},{key:"renderStartButton",value:function(){var e,t,n,i=null===(n=null===(t=null===(e=this.file)||void 0===e?void 0:e.panelElement)||void 0===t?void 0:t.$htmlFirstLine)||void 0===n?void 0:n.find(".jo_additionalButtonStart");if(null!=i&&(i.find(".jo_startButton").remove(),this.isStartable)){var r=jQuery('<div class="jo_startButton img_start-dark jo_button jo_active" title="Hauptprogramm in der Datei starten"></div>');i.append(r);var o=this;r.on("mousedown",(function(e){return e.stopPropagation()})),r.on("click",(function(e){e.stopPropagation(),o.main.setModuleActive(o),o.main.getInterpreter().start()}))}}}],[{key:"restoreFromData",value:function(t,n){var i=xf.patch(t.text);return new e({name:t.name,text:i.patchedText,text_before_revision:t.text_before_revision,submitted_date:t.submitted_date,student_edited_after_revision:!1,dirty:!0,saved:!i.modified,version:t.version,id:t.id,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:t.identical_to_repository_version},n)}}]),e}();Rf.maxUriNumber=0,Rf.uriMap={};var Wf=function(e){function t(e){var n;return zf(this,t),(n=Af(this,Df(t).call(this,{name:"Base Module",text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,dirty:!1,saved:!0,version:1,identical_to_repository_version:!0},e))).isSystemModule=!0,n.mainProgram=null,n.clear(),n.typeStore.addType(at),n.typeStore.addType(st),n.typeStore.addType(lt),n.typeStore.addType(ut),n.typeStore.addType(pt),n.typeStore.addType(ct),n.typeStore.addType(ht),n.typeStore.addType(dt),n.typeStore.addType(yt),n.typeStore.addType(vt),n.typeStore.addType(mt),n.typeStore.addType(gt),n.typeStore.addType(bt),n.typeStore.addType(wt),n.typeStore.addType(new Vn(Ff(n))),n.typeStore.addType(new Rn(Ff(n))),n.typeStore.addType(new In(Ff(n))),n.typeStore.addType(new Zn(Ff(n))),n.typeStore.addType(new jn(Ff(n))),n.typeStore.addType(new oi(Ff(n))),n.typeStore.addType(new zi(Ff(n))),n.typeStore.addType(new Gi(Ff(n))),n.typeStore.addType(new Ki(Ff(n))),n.typeStore.addType(new ei(Ff(n))),n.typeStore.addType(new wn(Ff(n))),n.typeStore.addType(new ci(Ff(n))),n.typeStore.addType(new Mi(Ff(n))),n.typeStore.addType(new Ai(Ff(n))),n.typeStore.addType(new gi(Ff(n))),n.typeStore.addType(new Id(Ff(n))),n.typeStore.addType(new Gd(Ff(n))),n.typeStore.addType(new qi(Ff(n))),n.typeStore.addType(new Jc(Ff(n))),n.typeStore.addType(new mf(Ff(n))),n.typeStore.addType(new hh(Ff(n))),n.typeStore.addType(new rd(Ff(n))),n.typeStore.addType(new ku(Ff(n))),n.typeStore.addType(new pc(Ff(n))),n.typeStore.addType(new Xt(Ff(n))),n.typeStore.addType(new jd(Ff(n))),n.typeStore.addType(new Od(Ff(n))),n.typeStore.addType(new Kl(Ff(n))),n.typeStore.addType(new vs(Ff(n))),n.typeStore.addType(new Sf(Ff(n))),n.typeStore.addType(new Bs(Ff(n))),n.typeStore.addType(new al(Ff(n))),n.typeStore.addType(new Gu(Ff(n))),n.typeStore.addType(new nc(Ff(n))),n.typeStore.addType(new ml(Ff(n))),n.typeStore.addType(new jl(Ff(n))),n.typeStore.addType(new Rl(Ff(n))),n.typeStore.addType(new nu(Ff(n))),n.typeStore.addType(new Us(Ff(n))),n.typeStore.addType(new Ss(Ff(n))),n.typeStore.addType(new Nc(Ff(n))),n.typeStore.addType(new lc(Ff(n))),n.typeStore.addType(new Fc(Ff(n))),n.typeStore.addType(new Qu(Ff(n))),n.typeStore.addType(new Cc(Ff(n))),n.typeStore.addType(new Tc(Ff(n))),n.typeStore.addType(new pu(Ff(n))),n.typeStore.addType(new fu(Ff(n))),n.typeStore.addType(new Au(Ff(n))),n.typeStore.addType(new sh(Ff(n))),n.typeStore.addType(new Kd(Ff(n))),n.typeStore.addType(new np(Ff(n))),n.typeStore.addType(new bh(Ff(n))),n.typeStore.addType(new wh(Ff(n))),n.typeStore.addType(new Uc(Ff(n))),n.typeStore.addType(new as(Ff(n))),n.typeStore.addType(new Hh(Ff(n))),n.typeStore.getType("Actor").registerWorldType(),n.typeStore.addType(new hd(Ff(n))),n.typeStore.addType(new wd(Ff(n))),n.typeStore.addType(new dd(Ff(n))),n.typeStore.addType(new bd(Ff(n))),n.typeStore.addType(new th(Ff(n))),n.typeStore.addType(new nh(Ff(n))),n.typeStore.addType(new eh(Ff(n))),n.typeStore.addType(new Ch(Ff(n))),n.typeStore.addType(new _h(Ff(n))),ht.module=Ff(n),n}return If(t,e),Bf(t,[{key:"clearUsagePositions",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.typeStore.typeList[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.clearUsagePositions()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}]),t}(Rf),Gf=function(e){function t(e,n){var i;return zf(this,t),(i=Af(this,Df(t).call(this,{name:"Graphics and Games - Module",text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,dirty:!1,saved:!0,version:1,identical_to_repository_version:!0},e))).isSystemModule=!0,i.mainProgram=null,i.clear(),i.typeStore.addType(new Ip(Ff(i))),i.typeStore.addType(new Op(Ff(i),n)),i.typeStore.addType(new gp(Ff(i),n)),i.typeStore.addType(new dp(Ff(i),n)),i.typeStore.addType(new Pp(Ff(i),n)),i.typeStore.addType(new Rp(Ff(i),n)),i.typeStore.addType(new Vp(Ff(i),n)),i.typeStore.addType(new ef(Ff(i),n)),i.typeStore.addType(new Zp(Ff(i),n)),i.typeStore.addType(new df(Ff(i),n)),i.typeStore.addType(new Of(Ff(i),n)),i}return If(t,e),Bf(t,[{key:"clearUsagePositions",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.typeStore.typeList[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.clearUsagePositions()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}]),t}(Rf),Nf=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];zf(this,e),this.main=t,this.additionalLibraries=i,this.modules=[],this.moduleMap={},this.dirty=!1,n&&(this.baseModule=new Wf(t),this.putModule(this.baseModule));var r=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this.addLibraryModule(u)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}return Bf(e,[{key:"addLibraryModule",value:function(e){switch(e){case"gng":this.putModule(new Gf(this.main,this))}}},{key:"setAdditionalLibraries",value:function(e){this.modules=this.modules.filter((function(e){return!e.isSystemModule||e instanceof Wf})),this.moduleMap={};var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.moduleMap[a.file.name]=a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}if(null!=e){var s=!0,l=!1,u=void 0;try{for(var c,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;this.addLibraryModule(h)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}}},{key:"findModuleById",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.file.id==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"getBaseModule",value:function(){return this.baseModule}},{key:"clearUsagePositions",value:function(){this.baseModule.clearUsagePositions()}},{key:"copy",value:function(){var t=new e(this.main,!0),n=!0,i=!1,r=void 0;try{for(var o,a=this.modules[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.isSystemModule||t.putModule(s.copy())}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}},{key:"findModuleByFile",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.file==e)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"hasErrors",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.modules[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.hasErrors())return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1}},{key:"getFirstModule",value:function(){if(this.modules.length>0){var e=!0,t=!1,n=void 0;try{for(var i,r=this.modules[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;if(!o.isSystemModule)return o}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}return null}},{key:"isDirty",value:function(){if(this.dirty)return this.dirty=!1,!0;var e=!1,t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(r.value.file.dirty){e=!0;break}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"getModules",value:function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.modules[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.file.name!=t&&(l.isSystemModule&&!e||n.push(l))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},{key:"putModule",value:function(e){this.modules.push(e),this.moduleMap[e.file.name]=e}},{key:"removeModuleWithFile",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.file==e){this.removeModule(a);break}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"removeModule",value:function(e){this.modules.indexOf(e)<0||(this.modules.splice(this.modules.indexOf(e),1),this.moduleMap[e.file.name]=void 0,this.dirty=!0)}},{key:"getModule",value:function(e){return this.moduleMap[e]}},{key:"getType",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.modules[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(null!=a.typeStore){var s=a.typeStore.getType(e);if(null!=s)return{type:s,module:a}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"getTypeCompletionItems",value:function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.modules[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(null!=l.typeStore){var u=!0,c=!1,d=void 0;try{for(var h,p=l.typeStore.typeList[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;if(l==e||f instanceof G&&f.visibility==j.public||l.isSystemModule){var y="Klasse";null!=f.documentation?y=f.documentation:l.isSystemModule&&(y=f instanceof w?"Primitiver Datentyp":"Systemklasse");var v={label:f.identifier,detail:y,insertText:f.identifier,kind:f instanceof w?monaco.languages.CompletionItemKind.Struct:monaco.languages.CompletionItemKind.Class,range:t,generic:(f instanceof G||f instanceof V)&&f.typeVariables.length>0};n.push(v)}}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}]),e}(),$f=function(){function e(){zf(this,e),this.typeList=[],this.typeMap=new Map}return Bf(e,[{key:"addType",value:function(e){this.typeList.push(e),this.typeMap.set(e.identifier,e)}},{key:"clear",value:function(){this.typeList.length=0,this.typeMap.clear()}},{key:"getType",value:function(e){return this.typeMap.get(e)}}]),e}();function Vf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Hf=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=t,this.firstLast=n,this.horVert=i,this.callback=r,this.$otherDiv=o,this.initSlider()}var t,n,i;return t=e,(n=[{key:"initSlider",value:function(){var e=this,t=this;null==this.$otherDiv&&this.$container.parent().children().each((function(n,i){i!=e.$container[0]&&(t.$otherDiv=jQuery(i))})),this.$sliderDiv=jQuery('<div class="joe_slider"></div>'),this.$sliderDiv.css({width:this.horVert?"100%":"4px",height:this.horVert?"4px":"100%",cursor:this.horVert?"row-resize":"col-resize"}),this.firstLast?this.$sliderDiv.css({top:"0px",left:"0px"}):this.horVert?this.$sliderDiv.css({bottom:"0px",left:"0px"}):this.$sliderDiv.css({top:"0px",right:"0px"}),this.$container.append(this.$sliderDiv);var n=window.PointerEvent?"pointer":"mouse";this.$sliderDiv.on(n+"down",(function(e){var i=e.clientX,r=e.clientY;jQuery(document).on(n+"move.slider",(function(e){var n=e.clientX-i,o=e.clientY-r;t.slide(n,o),i=e.clientX,r=e.clientY})),jQuery(document).on(n+"up.slider",(function(){jQuery(document).off(n+"move.slider"),jQuery(document).off(n+"up.slider")}))})),setTimeout((function(){t.slide(1,1)}),600)}},{key:"setColor",value:function(e){this.$sliderDiv.css("background-color",e)}},{key:"slide",value:function(e,t){if(this.horVert){var n=Number.parseInt(this.$container.css("height").replace("px","")),i=Number.parseInt(this.$otherDiv.css("height").replace("px","")),r=this.firstLast?n-=t:n+=t,o=this.firstLast?i+=t:i-=t;this.$container.css("height",r+"px"),this.$otherDiv.css("height",o+"px"),this.callback(r)}else{var a=Number.parseInt(this.$container.css("width").replace("px","")),s=Number.parseInt(this.$otherDiv.css("width").replace("px","")),l=this.firstLast?a-=e:a+=e,u=this.firstLast?s+=e:s-=e;this.$container.css("width",l+"px"),this.$otherDiv.css("width",u+"px"),this.callback(l)}this.$container.css("flex","0 1 auto")}}])&&Vf(t.prototype,n),i&&Vf(t,i),e}();function Kf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qf=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moduleStore=t,this.$fileListDiv=n,this.main=i,this.files=[];var o=this,a=!0,s=!1,l=void 0;try{for(var u,c=t.getModules(!1)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;this.addModule(d)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}if(null!=n){var h=n.parent(),p=jQuery('<div class="joe_addFileButton jo_button img_add-dark jo_active" title="Datei hinzuf√ºgen"></div>');h.append(p),p.on("click",(function(){var e=r.main.addModule({text:"",title:"Neue Datei.java",type:"java"}),t=r.addModule(e);r.renameElement(t,(function(){o.currentFile!=t&&o.selectFile(t)}))}))}}var t,n,i;return t=e,(n=[{key:"removeAllFiles",value:function(){var e=this;this.files.forEach((function(t){return e.removeFile(t)}))}},{key:"addHint",value:function(e){var t=this,n=jQuery('<div class="jo_file jo_hint" ><div class="jo_fileimage"></div><div class="jo_filename" style="line-height: 22px">'+e.title+'</div><div class="jo_additionalButtons"></div></div></div>');this.$fileListDiv.append(n);var i={module:null,$fileDiv:n,type:"hint",hint:e.text};this.files.push(i),n.on("click",(function(e){t.selectFile(i)}))}},{key:"addModule",value:function(e){var t=this,n=jQuery('<div class="jo_file jo_java" >\n        <div class="jo_fileimage"></div>\n        <div class="jo_filename" style="line-height: 22px">'.concat(e.file.name,'</div>\n        <div class="jo_additionalButtonStart"></div>\n        <div class="jo_delete img_delete jo_button jo_active" title="Datei l√∂schen"></div></div></div>'));null!=this.$fileListDiv&&this.$fileListDiv.append(n);var i={module:e,$fileDiv:n,type:"java"};return this.files.push(i),e.file.panelElement={name:e.file.name,$htmlFirstLine:n,isFolder:!1,path:[]},n.find(".jo_delete").on("mousedown",(function(e){t.onDelete(i,e)})),n.find(".jo_delete").on("click",(function(e){e.preventDefault(),e.stopPropagation()})),n.on("click",(function(e){t.selectFile(i)})),n[0].addEventListener("contextmenu",(function(e){e.preventDefault(),yr([{caption:"Umbenennen",callback:function(){t.renameElement(i,(function(){}))}}],e.pageX,e.pageY)}),!1),i}},{key:"onDelete",value:function(e,t){t.preventDefault(),t.stopPropagation();var n=this;yr([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: l√∂schen!",color:"#ff6060",callback:function(){n.removeFile(e)}}],t.pageX+2,t.pageY+2)}},{key:"removeFile",value:function(e){e.$fileDiv.remove(),this.main.removeModule(e.module),this.files=this.files.filter((function(t){return t!=e})),this.currentFile==e&&(this.files.length>0?this.selectFile(this.files[0]):(this.main.getMonacoEditor().setValue("Keine Datei vorhanden."),this.main.getMonacoEditor().updateOptions({readOnly:!0}))),this.files.forEach((function(e){null!=e.module&&(e.module.file.saved=!1)}))}},{key:"removeModule",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.files[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.module==e&&this.removeFile(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"renameElement",value:function(e,t){var n=e.$fileDiv.find(".jo_filename"),i=e.module.file.name.indexOf(".");fr(n,n,(function(i){e.module.file.name=i,n.html(i),null!=t&&t()}),null==i?null:{start:0,end:i})}},{key:"setFirstFileActive",value:function(){this.files.length>0&&this.selectFile(this.files[0])}},{key:"selectFile",value:function(e){var t=this;if(null!=e)switch(e.type){case"java":this.main.$hintDiv.hide(),this.main.$monacoDiv.show(),this.main.setModuleActive(e.module),this.main.getMonacoEditor().focus();break;case"hint":this.main.$monacoDiv.hide(),this.main.$hintDiv.show();var n={},i=[],r=window.markdownit({highlight:function(e,t){return i.push(e),""}});r.renderer.rules.code_inline=function(e,t,n,r,o){var a=e[t];return i.push(a.content),""},r.render(e.hint),this.colorize(i,n,(function(){var i=window.markdownit({highlight:function(e,t){return n[e]}});i.renderer.rules.code_inline=function(e,t,i,r,o){var a=e[t];return n[a.content].replace("<br/>","")};var r=i.render(e.hint);t.main.$hintDiv.html(r)})),this.$fileListDiv.find(".jo_file").removeClass("jo_active"),e.$fileDiv.addClass("jo_active")}}},{key:"colorize",value:function(e,t,n){var i=this;if(e.length>0){var r=e.pop();monaco.editor.colorize(r,"myJava",{tabSize:3}).then((function(o){t[r]=o,i.colorize(e,t,n)}))}else n()}},{key:"markFile",value:function(e){null!=this.$fileListDiv&&(this.$fileListDiv.find(".jo_file").removeClass("jo_active"),this.currentFile=this.files.find((function(t){return t.module==e})),null!=this.currentFile&&this.currentFile.$fileDiv.addClass("jo_active"))}}])&&Kf(t.prototype,n),i&&Kf(t,i),e}();function Uf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"open",value:function(e){if(window.indexedDB){var t=window.indexedDB.open("LearnJ",1),n=this;t.onerror=function(e){console.log("Couldn't open IndexedDB: "+e.type)},t.onsuccess=function(i){n.db=t.result,n.db.onerror=function(e){console.log("Datenbankfehler: "+e.target.error.message)},e()},t.onupgradeneeded=function(e){n.db=e.target.result,n.db.createObjectStore("scripts",{keyPath:"scriptId",autoIncrement:!1}).transaction.oncomplete=function(e){}}}else console.log("IndexedDB not available.")}},{key:"writeScript",value:function(e,t){this.db.transaction("scripts","readwrite").objectStore("scripts").put({scriptId:e,script:t})}},{key:"removeScript",value:function(e){this.db.transaction("scripts","readwrite").objectStore("scripts").delete(e)}},{key:"getScript",value:function(e,t){var n=this.db.transaction("scripts","readwrite").objectStore("scripts").get(e);n.onerror=function(e){t(null)},n.onsuccess=function(e){null==n.result?t(null):t(n.result.script)}}}])&&Uf(t.prototype,n),i&&Uf(t,i),e}();function Xf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var qf=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scriptList=n,this.programPointerDecoration=[],this.programIsExecutable=!1,this.version=0,this.compileRunsAfterCodeReset=0,this.readConfig(t),this.initGUI(t),this.initScripts(),this.config.hideStartPanel||(this.indexedDB=new Zf,this.indexedDB.open((function(){null!=i.config.id&&i.readScripts()}))),this.semicolonAngel=new Ia(this)}var t,n,i;return t=e,(n=[{key:"isEmbedded",value:function(){return!0}},{key:"jumpToDeclaration",value:function(e,t){}},{key:"getCompiler",value:function(){return this.compiler}},{key:"getInterpreter",value:function(){return this.interpreter}},{key:"getCurrentWorkspace",value:function(){return this.currentWorkspace}},{key:"getDebugger",value:function(){return this.debugger}},{key:"getMonacoEditor",value:function(){return this.editor.editor}},{key:"getRightDiv",value:function(){return this.rightDiv}},{key:"getBottomDiv",value:function(){return this.bottomDiv}},{key:"getActionManager",value:function(){return this.actionManager}},{key:"getCurrentlyEditedModule",value:function(){var e;return this.config.withFileList?null===(e=this.fileExplorer.currentFile)||void 0===e?void 0:e.module:this.currentWorkspace.moduleStore.getFirstModule()}},{key:"initScripts",value:function(){var e,t=this;null===(e=this.fileExplorer)||void 0===e||e.removeAllFiles(),this.initWorkspace(this.scriptList),this.config.withFileList?(this.fileExplorer=new Qf(this.currentWorkspace.moduleStore,this.$filesListDiv,this),this.fileExplorer.setFirstFileActive(),this.scriptList.filter((function(e){return"hint"==e.type})).forEach((function(e){return t.fileExplorer.addHint(e)}))):this.setModuleActive(this.currentWorkspace.moduleStore.getFirstModule())}},{key:"readConfig",value:function(e){var t=e.data("java-online");this.config=null!=t&&"string"==typeof t?JSON.parse(t.split("'").join('"')):{},null==this.config.hideEditor&&(this.config.hideEditor=!1),null==this.config.hideStartPanel&&(this.config.hideStartPanel=!1),null==this.config.withBottomPanel&&(this.config.withBottomPanel=this.config.withConsole||this.config.withPCode||this.config.withFileList||this.config.withErrorList),this.config.hideEditor&&(this.config.withBottomPanel=!1,this.config.withFileList=!1,this.config.withConsole=!1,this.config.withPCode=!1,this.config.withErrorList=!1),this.config.withBottomPanel&&(null==this.config.withFileList&&(this.config.withFileList=!0),null==this.config.withPCode&&(this.config.withPCode=!0),null==this.config.withConsole&&(this.config.withConsole=!0),null==this.config.withErrorList&&(this.config.withErrorList=!0)),null==this.config.speed&&(this.config.speed=9),null==this.config.libraries&&(this.config.libraries=[])}},{key:"setModuleActive",value:function(e){this.config.withFileList&&null!=this.fileExplorer.currentFile&&(this.fileExplorer.currentFile.module.editorState=this.getMonacoEditor().saveViewState()),this.config.withFileList&&this.fileExplorer.markFile(e),this.getMonacoEditor().updateOptions({readOnly:!1,lineNumbersMinChars:4}),this.editor.editor.setModel(e.model),null!=e.editorState&&this.getMonacoEditor().restoreViewState(e.editorState),e.renderBreakpointDecorators()}},{key:"eraseDokuwikiSearchMarkup",value:function(e){return e.replace(/<span class="search\whit">(.*?)<\/span>/g,"$1")}},{key:"readScripts",value:function(){var e=this,t=this.currentWorkspace.moduleStore.getModules(!1),n=this;this.indexedDB.getScript(this.config.id,(function(i){var r;null==i?setInterval((function(){n.saveScripts()}),1e3):function(){var o=JSON.parse(i),a=o.length,s=!0,l=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;null===(r=n.fileExplorer)||void 0===r||r.removeModule(h),n.removeModule(h)}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var p=!0,f=!1,y=void 0;try{for(var v,m=function(){var t=v.value,i=e.config.id+t;e.indexedDB.getScript(i,(function(i){var r,o;if(null!=i){i=e.eraseDokuwikiSearchMarkup(i);var s=n.addModule({title:t,text:i,type:"java"});null===(r=n.fileExplorer)||void 0===r||r.addModule(s),n.$resetButton.fadeIn(1e3)}if(0==--a&&(setInterval((function(){n.saveScripts()}),1e3),null===(o=n.fileExplorer)||void 0===o||o.setFirstFileActive(),null==n.fileExplorer)){var l=n.currentWorkspace.moduleStore.getModules(!1);l.length>0&&n.setModuleActive(l[0])}}))},g=o[Symbol.iterator]();!(p=(v=g.next()).done);p=!0)m()}catch(e){f=!0,y=e}finally{try{p||null==g.return||g.return()}finally{if(f)throw y}}}()}))}},{key:"saveScripts",value:function(){var e=this.currentWorkspace.moduleStore.getModules(!1),t=[],n=!1;if(e.forEach((function(e){return n=n||!e.file.saved})),n){var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.push(l.file.name);var u=this.config.id+l.file.name;this.indexedDB.writeScript(u,l.getProgramTextFromMonacoModel()),l.file.saved=!0}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.indexedDB.writeScript(this.config.id,JSON.stringify(t))}}},{key:"deleteScriptsInDB",value:function(){var e=this;this.indexedDB.getScript(this.config.id,(function(t){if(null!=t){var n=JSON.parse(t),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=e.config.id+l;e.indexedDB.removeScript(u)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}e.indexedDB.removeScript(e.config.id)}}))}},{key:"initWorkspace",value:function(e){this.currentWorkspace=new Mr("Embedded-Workspace",this,0),this.currentWorkspace.settings.libraries=this.config.libraries,this.currentWorkspace.alterAdditionalLibraries();var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;"java"==a.type&&this.addModule(a)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"addModule",value:function(e){var t=Rf.restoreFromData({id:this.currentWorkspace.moduleStore.getModules(!0).length,name:e.title,text:e.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,workspace_id:0,forceUpdate:!1,identical_to_repository_version:!1,file_type:0},this);this.currentWorkspace.moduleStore.putModule(t);var n=this;return t.model.onDidChangeContent((function(){n.considerShowingCodeResetButton()})),t}},{key:"removeModule",value:function(e){this.currentWorkspace.moduleStore.removeModule(e)}},{key:"initGUI",value:function(e){var t=this;e.css({"background-image":"none","background-size":"100%"});var n=jQuery('<div class="joe_centerDiv"></div>'),i=this.makeCodeResetModalWindow(e),r=this.makeRightDiv(),o=jQuery('<div class="joe_editorDiv"></div>');this.$monacoDiv=jQuery('<div class="joe_monacoDiv"></div>'),this.$hintDiv=jQuery('<div class="joe_hintDiv jo_scrollable"></div>'),this.$resetButton=jQuery('<div class="joe_resetButton jo_button jo_active" title="Code auf Ausgangszustand zur√ºcksetzen">Code Reset</div>'),o.append(this.$monacoDiv,this.$hintDiv,this.$resetButton);var a=this.makeBracketErrorDiv();o.append(a),this.$resetButton.hide(),this.$resetButton.on("click",(function(){i.show()})),this.$hintDiv.hide();var s=jQuery('<div class="joe_controlsDiv"></div>'),l=jQuery('<div class="joe_bottomDivInner"></div>');if(this.config.withBottomPanel){var u=jQuery('<div class="joe_bottomDiv"></div>');if(this.makeBottomDiv(l,s),u.append(l),this.config.withFileList){var c=this.makeFilesDiv();u.prepend(c),new Hf(c,!1,!1,(function(){}))}vr(l),n.append(o,u),new Hf(u,!0,!0,(function(){t.editor.editor.layout()}))}else n.prepend(o);this.config.withBottomPanel||(this.config.hideEditor?r.prepend(s):(n.prepend(s),s.addClass("joe_controlPanel_top"),o.css({position:"relative",height:"1px"}))),e.addClass("joe_javaOnlineDiv"),e.append(n,r),this.config.hideEditor||new Hf(r,!0,!1,(function(){jQuery(".jo_graphics").trigger("sizeChanged"),t.editor.editor.layout()})),this.editor=new So(this,!1,!0),this.editor.initGUI(this.$monacoDiv),this.$monacoDiv.find(".monaco-editor").css("z-index","10"),null==e.attr("tabindex")&&e.attr("tabindex","0"),this.actionManager=new Vr(e,this),this.actionManager.init(),this.bottomDiv=new io(this,l,e),this.bottomDiv.initGUI(),this.rightDiv=new xa(this,this.$rightDivInner),this.rightDiv.initGUI();var d=jQuery('<div class="jo_rightdiv-rightside-container">'),h=jQuery('<div class="jo_coordinates">(0/0)</div>');this.$rightDivInner.append(d),d.append(h),this.debugger=new Wr(this,this.$debuggerDiv,null),this.interpreter=new Xa(this,this.debugger,new Fo(s,o),this.$runDiv);var p=jQuery('<div class="jo_button jo_active img_ellipsis-dark" style="margin-left: 16px"></div>');s.append(p),p.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),yr([{caption:"√úber die Online-IDE ...",link:"https://www.online-ide.de",callback:function(){}}],e.pageX+2,e.pageY+2)})),setTimeout((function(){t.interpreter.initGUI(),t.editor.editor.layout(),t.compiler=new hn(t),t.interpreter.controlButtons.speedControl.setSpeedInStepsPerSecond(t.config.speed),t.startTimer()}),200),this.config.hideEditor&&(n.hide(),r.css("flex","1"),this.config.hideStartPanel?e.find(".joe_controlsDiv").hide():(e.find(".joe_rightDivInner").css("height","calc(100% - 24px)"),e.find(".joe_controlsDiv").css("padding","2px"),e.find(".jo_speedcontrol-outer").css("z-index","10")))}},{key:"makeBracketErrorDiv",value:function(){return jQuery('\n        <div class="jo_parenthesis_warning" title="Klammerwarnung!" style="bottom: 55px">\n        <div class="jo_warning_light"></div>\n        <div class="jo_pw_heading">{ }</div>\n        <div title="Letzten Schritt r√ºckg√§ngig" \n            class="jo_pw_undo img_undo jo_button jo_active"></div>\n        </div>\n        ')}},{key:"makeCodeResetModalWindow",value:function(e){var t=this,n=jQuery('\n            <div class="joe_codeResetModal">\n            <div style="flex: 1"></div>\n            <div style="display: flex">\n                <div style="flex: 1"></div>\n                <div style="padding-left: 30px;">\n                <div style="color: red; margin-bottom: 10px; font-weight: bold">Warnung:</div>\n                <div>Soll der Code wirklich auf den Ausgangszustand zur√ºckgesetzt werden?</div>\n                <div>Alle von Dir gemachten √Ñnderungen werden damit verworfen.</div>\n                </div>\n                <div style="flex: 1"></div>\n            </div>\n            <div class="joe_codeResetModalButtons">\n            <div class="joe_codeResetModalCancel jo_button jo_active">Abbrechen</div>\n            <div class="joe_codeResetModalOK jo_button jo_active">OK</div>\n            </div>\n            <div style="flex: 2"></div>\n            </div>\n        ');return n.hide(),e.append(n),jQuery(".joe_codeResetModalCancel").on("click",(function(){n.hide()})),jQuery(".joe_codeResetModalOK").on("click",(function(){t.initScripts(),t.deleteScriptsInDB(),n.hide(),t.$resetButton.hide(),t.compileRunsAfterCodeReset=1})),n}},{key:"showProgramPointerPosition",value:function(e,t){if(null!=e){if(this.config.withFileList){var n=this.fileExplorer.files.find((function(t){return t.module.file==e}));if(null==n)return;n.module!=this.getCurrentlyEditedModule()&&this.setModuleActive(n.module),this.programPointerModule=n.module}else this.programPointerModule=this.currentWorkspace.moduleStore.getFirstModule();var i={startColumn:t.column,startLineNumber:t.line,endColumn:t.column+t.length,endLineNumber:t.line};this.getMonacoEditor().revealRangeInCenterIfOutsideViewport(i),this.programPointerDecoration=this.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[{range:i,options:{className:"jo_revealProgramPointer",isWholeLine:!0}},{range:i,options:{beforeContentClassName:"jo_revealProgramPointerBefore"}}])}}},{key:"hideProgramPointerPosition",value:function(){this.getCurrentlyEditedModule()==this.programPointerModule&&this.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[]),this.programPointerModule=null,this.programPointerDecoration=[]}},{key:"makeFilesDiv",value:function(){var e=jQuery('<div class="joe_bottomDivFiles jo_scrollable"></div>'),t=jQuery('<div class="joe_filesHeader jo_tabheading jo_active"  style="line-height: 24px">Programmdateien</div>');return this.$filesListDiv=jQuery('<div class="joe_filesList jo_scrollable"></div>'),e.append(t,this.$filesListDiv),e}},{key:"startTimer",value:function(){null!=this.timerHandle&&clearInterval(this.timerHandle);var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"compileIfDirty",value:function(){var e,t;if(null!=this.currentWorkspace&&this.currentWorkspace.moduleStore.isDirty()&&this.compiler.compilerStatus!=ln.compiling&&this.interpreter.state!=Ka.running&&this.interpreter.state!=Ka.paused)try{this.compiler.compile(this.currentWorkspace.moduleStore),null===(t=null===(e=this.bottomDiv)||void 0===e?void 0:e.errorManager)||void 0===t||t.showErrors(this.currentWorkspace),this.editor.onDidChangeCursorPosition(null),this.printProgram(),this.version++;var n=null!=this.interpreter.getStartableModule(this.currentWorkspace.moduleStore);n&&this.interpreter.state==Ka.not_initialized&&(this.copyExecutableModuleStoreToInterpreter(),this.interpreter.setState(Ka.done),this.config.hideStartPanel&&this.actionManager.trigger("interpreter.start")),n||this.interpreter.state!=Ka.done&&this.interpreter.state!=Ka.error||this.interpreter.setState(Ka.not_initialized)}catch(e){console.error(e),this.compiler.compilerStatus=ln.error}}},{key:"considerShowingCodeResetButton",value:function(){this.compileRunsAfterCodeReset++,3==this.compileRunsAfterCodeReset&&this.$resetButton.fadeIn(1e3)}},{key:"printProgram",value:function(){this.bottomDiv.printModuleToBottomDiv(this.currentWorkspace,this.getCurrentlyEditedModule())}},{key:"drawClassDiagrams",value:function(e){}},{key:"copyExecutableModuleStoreToInterpreter",value:function(){var e=this.currentWorkspace.moduleStore.copy();this.interpreter.moduleStore=e,this.interpreter.moduleStoreVersion=this.version,this.interpreter.state==Ka.not_initialized&&this.programIsExecutable&&this.interpreter.setState(Ka.done)}},{key:"makeBottomDiv",value:function(e,t){var n=jQuery('<div class="jo_tabheadings"></div>');n.css("position","relative");var i=jQuery('<div class="joe_tabheading-right jo_noHeading"></div>');if(this.config.withConsole){var r=jQuery('<div class="img_clear-dark jo_button jo_active jo_console-clear"style="display: none; margin-right: 8px;" title="Console leeren"></div>');i.append(r)}if(i.append(t),this.config.withErrorList){var o=jQuery('<div class="jo_tabheading jo_active" data-target="jo_errorsTab" style="line-height: 24px">Fehler</div>');n.append(o)}if(this.config.withConsole){var a=jQuery('<div class="jo_tabheading jo_console-tab" data-target="jo_consoleTab" style="line-height: 24px">Console</div>');n.append(a)}if(this.config.withPCode){var s=jQuery('<div class="jo_tabheading" data-target="jo_pcodeTab" style="line-height: 24px">PCode</div>');n.append(s)}n.append(i),e.append(n);var l=jQuery('<div class="jo_tabs jo_scrollable"></div>');if(this.config.withErrorList){var u=jQuery('<div class="jo_active jo_scrollable jo_errorsTab"></div>');l.append(u)}if(this.config.withConsole){var c=jQuery('\n        <div class="jo_editorFontSize jo_consoleTab">\n        <div class="jo_console-inner">\n            <div class="jo_scrollable jo_console-top"></div>\n            <div class="jo_commandline"></div>\n        </div>\n        </div>\n    ');l.append(c)}if(this.config.withPCode){var d=jQuery('<div class="jo_scrollable jo_pcodeTab">PCode</div>');l.append(d)}e.append(l)}},{key:"makeRightDiv",value:function(){var e=jQuery('<div class="joe_rightDiv"></div>');if(this.$rightDivInner=jQuery('<div class="joe_rightDivInner"></div>'),e.append(this.$rightDivInner),this.$debuggerDiv=jQuery('<div class="joe_debuggerDiv"></div>'),this.$runDiv=jQuery('\n            <div class="jo_tab jo_active jo_run">\n            <div class="jo_run-programend">Programm beendet</div>\n            <div class="jo_run-input">\n            <div>\n            <div>\n        <div class="jo_run-input-message" class="jo_rix">Bitte geben Sie eine Zahl ein!</div>\n        <input class="jo_run-input-input" type="text" class="jo_rix">\n        <div class="jo_run-input-button-outer" class="jo_rix">\n        <div class="jo_run-input-button" class="jo_rix">OK</div>\n        </div>\n        \n        <div class="jo_run-input-error" class="jo_rix"></div>\n    </div>\n    </div>\n    </div> \n    <div class="jo_run-inner">\n    <div class="jo_graphics"></div>\n    <div class="jo_output jo_scrollable"></div>\n    </div>\n    \n    </div>\n    \n    '),this.config.hideEditor)this.$rightDivInner.append(this.$runDiv);else{var t=jQuery('<div class="jo_tabheadings"></div>');t.css("position","relative");var n=jQuery('<div class="jo_tabheading jo_active" data-target="jo_run" style="line-height: 24px">Ausgabe</div>'),i=jQuery('<div class="jo_tabheading jo_console-tab" data-target="jo_variablesTab" style="line-height: 24px">Variablen</div>');t.append(n,i),this.$rightDivInner.append(t);var r=jQuery('<div class="jo_scrollable jo_editorFontSize jo_variablesTab"></div>'),o=jQuery('\n            <div class="jo_alternativeText jo_scrollable">\n            <div style="font-weight: bold">Tipp:</div>\n            Die Variablen sind nur dann sichtbar, wenn das Programm\n            <ul>\n            <li>im Einzelschrittmodus ausgef√ºhrt wird(Klick auf <span class="img_step-over-dark jo_inline-image"></span>),</li>\n            <li>an einem Breakpoint h√§lt (Setzen eines Breakpoints mit Mausklick links neben den Zeilennummern und anschlie√üendes Starten des Programms mit \n                <span class="img_start-dark jo_inline-image"></span>) oder </li>\n                <li>in sehr niedriger Geschwindigkeit ausgef√ºhrt wird (weniger als 10 Schritte/s).\n                </ul>\n                </div>\n                ');r.append(this.$debuggerDiv,o);var a=jQuery('<div class="jo_tabs jo_scrollable"></div>');a.append(this.$runDiv,r),this.$rightDivInner.append(a),vr(e)}return e}},{key:"getSemicolonAngel",value:function(){return this.semicolonAngel}}])&&Xf(t.prototype,n),i&&Xf(t,i),e}();function Yf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"EmbeddedStarter",(function(){return Jf}));var Jf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startupComplete=2,this.mainEmbeddedList=[]}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){this.initTypes(),this.checkStartupComplete(),this.correctPIXITransform(),PIXI.utils.skipHello(),this.themeManager=new Dt}},{key:"correctPIXITransform",value:function(){PIXI.Transform.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}}},{key:"initEditor",value:function(){(new Et).init(),this.checkStartupComplete()}},{key:"checkStartupComplete",value:function(){this.startupComplete--,0==this.startupComplete&&this.start()}},{key:"initTypes",value:function(){at.init(),st.init(),lt.init(),ut.init(),ct.init(),ht.init(),pt.init(),vt.init(),mt.init(),gt.init(),bt.init(),wt.init()}},{key:"start",value:function(){this.initJavaOnlineDivs()}},{key:"initJavaOnlineDivs",value:function(){var e=this;jQuery(".java-online").each((function(t,n){var i=jQuery(n),r=[];i.find("script").each((function(t,n){var i=jQuery(n),o="java";null!=i.data("type")&&(o=i.data("type"));var a={type:o,title:i.attr("title"),text:i.text().trim()};a.text=e.eraseDokuwikiSearchMarkup(a.text),r.push(a)})),e.initDiv(i,r)}))}},{key:"eraseDokuwikiSearchMarkup",value:function(e){return e.replace(/<span class="search\whit">(.*?)<\/span>/g,"$1")}},{key:"initDiv",value:function(e,t){new qf(e,t)}}])&&Yf(t.prototype,n),i&&Yf(t,i),e}();jQuery((function(){var e=new Jf,t="",n="lib/monaco-editor/dev/vs";null!=window.javaOnlineDir&&(t=window.javaOnlineDir),null!=window.monacoEditorPath&&(n=window.monacoEditorPath),window.require.config({paths:{vs:t+n}}),window.require.config({"vs/nls":{availableLanguages:{"*":"de"}},ignoreDuplicateModules:["vs/editor/editor.main"]}),window.require(["vs/editor/editor.main"],(function(){e.initEditor(),e.initGUI()})),PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST,PIXI.Loader.shared.add(t+"assets/graphics/spritesheet.json").load((function(){}))}))}]);
//# sourceMappingURL=javaOnline-embedded.js.map